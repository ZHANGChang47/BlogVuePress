(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{557:function(s,t,a){"use strict";a.r(t);var n=a(17),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[s._v("#")]),s._v(" Linux")]),s._v(" "),a("h2",{attrs:{id:"_1、系统文件结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、系统文件结构"}},[s._v("#")]),s._v(" 1、系统文件结构")]),s._v(" "),a("p",[s._v("Linux系统不同于Windows系统，在Linux系统中没有盘符，根路径用“/”表示")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nbin  boot  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("table",[a("thead",[a("tr",[a("th",[s._v("目录")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("bin")]),s._v(" "),a("td",[s._v("系统文件夹")])]),s._v(" "),a("tr",[a("td",[s._v("sbin")]),s._v(" "),a("td",[s._v("超级管理员的系统命令")])]),s._v(" "),a("tr",[a("td",[s._v("boot")]),s._v(" "),a("td",[s._v("系统所需目录（系统启动相关文件）")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("etc")])]),s._v(" "),a("td",[s._v("存放系统配置相关文件（环境变量）")])]),s._v(" "),a("tr",[a("td",[s._v("lib/lib64")]),s._v(" "),a("td",[s._v("library存放系统所需的依赖库")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("home")])]),s._v(" "),a("td",[s._v("一般用户所在文件夹（此目录包含了所有普通用户的子目录）")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("root")])]),s._v(" "),a("td",[s._v("超级管理员目录（root用户目录）")])]),s._v(" "),a("tr",[a("td",[s._v("media")]),s._v(" "),a("td",[s._v("媒体（光驱）")])]),s._v(" "),a("tr",[a("td",[s._v("mnt")]),s._v(" "),a("td",[s._v("挂载（U盘、移动硬盘）")])]),s._v(" "),a("tr",[a("td",[s._v("tmp、opt")]),s._v(" "),a("td",[s._v("临时的文件存储目录，比如日志存储在tmp或opt中")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("usr")])]),s._v(" "),a("td",[s._v("用户目录，我们通常安装的软件、用户的一些文件都在此目录下")])]),s._v(" "),a("tr",[a("td",[s._v("run、srv、sys、var、proc、dev")]),s._v(" "),a("td",[s._v("系统相关目录")])])])]),s._v(" "),a("h2",{attrs:{id:"_2、系统指令语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、系统指令语法"}},[s._v("#")]),s._v(" 2、系统指令语法")]),s._v(" "),a("blockquote",[a("p",[s._v("指令 选项 参数")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("指令：决定了当前的操作")])]),s._v(" "),a("li",[a("p",[s._v("选项：可有可无（对于有些指令，选项是必须的）")]),s._v(" "),a("ul",[a("li",[s._v("“-”表示短选项，一个字母代表一个选项")]),s._v(" "),a("li",[s._v("“--”表示长选项，一个单词代表一个选项")])])]),s._v(" "),a("li",[a("p",[s._v("参数：指令正常执行所需的数据")])])])]),s._v(" "),a("blockquote",[a("p",[s._v("man指令（manual：说明书）")]),s._v(" "),a("ul",[a("li",[s._v("man 指令")]),s._v(" "),a("li",[s._v("输入q退出说明书")])])]),s._v(" "),a("h2",{attrs:{id:"_3、常用指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、常用指令"}},[s._v("#")]),s._v(" 3、常用指令")]),s._v(" "),a("h3",{attrs:{id:"_3-1、目录操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1、目录操作"}},[s._v("#")]),s._v(" 3.1、目录操作")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("进入文件夹及退出文件夹")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("cd")]),s._v(" 目录名称\t\t进入指定的目录（当我们输入目录的名称的时候，可以通过Tab自动补全）")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 进入到Linux系统的根路径")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##进入到当前用户的目录（如果是root用户则进入到/root，如果是其他用户则进入到/home/中的用户目录）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("cd ..")]),s._v("    退出当前目录")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("pwd")]),s._v(" （print working directory）查看当前路径")])]),s._v(" "),a("li",[a("p",[s._v("绝对路径与相对路径")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##绝对路径，cd指令参数的路径如果是以 / 开头，表示从系统的根路径下去查找")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /path\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##相对路径，cd指令参数的路径如果没有 / 开头，则表示从当前目录去查找")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" path\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("显示当前目录下的文件列表")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("ls")]),s._v("\t\t\t\t显示文件列表")]),s._v(" "),a("li",[a("code",[s._v("ls -a")]),s._v("      显示当前目录下所有文件列表（包括隐藏文件）")]),s._v(" "),a("li",[a("code",[s._v("ls -l")]),s._v("      显示当前目录下文件列表的详细信息")]),s._v(" "),a("li",[a("code",[s._v("ll")]),s._v("             显示文件列表详细信息")])])]),s._v(" "),a("li",[a("p",[s._v("目录的创建和删除")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("mkdir 目录名")]),s._v("                      在当前目录下创建新的目录（创建一级目录）")]),s._v(" "),a("li",[a("code",[s._v("mkdir -p 目录A/目录B")]),s._v("     连同父级目录一起创建")]),s._v(" "),a("li",[a("code",[s._v("rm 目录")]),s._v("                                删除当前目录")]),s._v(" "),a("li",[a("code",[s._v("rmdir 目录")]),s._v("                         专门用来删除目录")]),s._v(" "),a("li",[a("code",[s._v("rm -rf 目录")]),s._v("                       强制递归删除目录\n"),a("ul",[a("li",[s._v("-r recursive  递归")]),s._v(" "),a("li",[s._v("-f force         强制")])])])])])]),s._v(" "),a("h3",{attrs:{id:"_3-2、文件操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2、文件操作"}},[s._v("#")]),s._v(" 3.2、文件操作")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("创建和修改文件")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("vi")]),s._v(" （visual）文件编辑")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("vim")]),s._v("  （visual improved）增强文件编辑")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开目标文件，如果此文件不存在，则表示先创建此文件再打开")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" a.txt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用“+”直接跳转行数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" +12 a.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("当文件打开之后，输入“i”/“a”进入到编辑状态")]),s._v(" "),a("li",[s._v("当完成编辑后，输入“esc”退出编辑状态")]),s._v(" "),a("li",[s._v("退出文件：\n"),a("ul",[a("li",[s._v(":q 如果未对文件进行任何修改——退出文件")]),s._v(" "),a("li",[s._v(":q! 对文件内容进行了修改，但是不保存退出")]),s._v(" "),a("li",[s._v(":wq 保存对文件的修改并退出")])])])])])])]),s._v(" "),a("li",[a("p",[s._v("阅读文件")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("cat 文件名")]),s._v("       阅读文件内容，适合阅读小文件\n"),a("ul",[a("li",[a("code",[s._v("cat -n 文件名")]),s._v(" \t\t阅读文件时可以显示行号")])])]),s._v(" "),a("li",[a("code",[s._v("more 文件名")]),s._v("     阅读文件，带有翻页（回车一次往下一行，不支持向上翻页）")]),s._v(" "),a("li",[a("code",[s._v("less 文件名")]),s._v("     阅读文件，适合阅读大文件；可以上下翻页（PgUp/PgDn），退出less阅读模式输入“q”\n"),a("ul",[a("li",[s._v("在less阅读模式下，输入“?查询内容”可以向上查询数据；输入“/查询内容”可以向下查询内容")])])])])]),s._v(" "),a("li",[a("p",[s._v("查询文件和查询内容")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("find 文件名")]),s._v("                在当前目录查找文件/目录")]),s._v(" "),a("li",[a("code",[s._v("find 文件名 目录")]),s._v("      在指定的目录中查找文件")]),s._v(" "),a("li",[a("code",[s._v("find -name 文件名")]),s._v("   在当前目录包括当前目录的子目录中查找文件")]),s._v(" "),a("li",[a("code",[s._v("grep -n 内容 文件")]),s._v("    在指定的文件中查找指定的内容")])])]),s._v(" "),a("li",[a("p",[s._v("管道命令")]),s._v(" "),a("ul",[a("li",[s._v("管道命令：多个命令的组合")]),s._v(" "),a("li",[s._v("特征：前面的命令必须有输出，后面的命令必须使用这个输出")]),s._v(" "),a("li",[s._v("实例："),a("code",[s._v("cat a.txt | grep hello | grep 23")])])])]),s._v(" "),a("li",[a("p",[s._v("删除文件")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("rm -rf 文件名")])])])]),s._v(" "),a("li",[a("p",[s._v("复制和移动")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("cp 文件 目录")])]),s._v(" "),a("li",[a("code",[s._v("mv 文件 目录")])])])])]),s._v(" "),a("h3",{attrs:{id:"_3-3、文件压缩和解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3、文件压缩和解压"}},[s._v("#")]),s._v(" 3.3、文件压缩和解压")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("windows系统下压缩文件通常是zip、rar等格式；Linux系统压缩文件通常是tar.gz")])]),s._v(" "),a("li",[a("p",[s._v("tar指令 完成Linux系统的压缩与解压操作")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("tar -zcvf")]),s._v(" 压缩")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#对test1目录进行压缩，压缩到test1.tar文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zcvf test1.tar test1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将test1和test2进行压缩，压缩到test.tar文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zcvf test.tar test1 test2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("tar -zxvf")]),s._v(" 解压")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#解压指定的压缩文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf test.tar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[s._v("选项说明：")]),s._v(" "),a("ul",[a("li",[s._v("z\t用gzip工具进行压缩或者解压")]),s._v(" "),a("li",[s._v("x   extract解压缩")]),s._v(" "),a("li",[s._v("c   compress压缩")]),s._v(" "),a("li",[s._v("v   verbose显示压缩/解压过程中详细信息")]),s._v(" "),a("li",[s._v("f    file文件")])])])]),s._v(" "),a("h3",{attrs:{id:"_3-4、用户及权限管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4、用户及权限管理"}},[s._v("#")]),s._v(" 3.4、用户及权限管理")]),s._v(" "),a("blockquote",[a("p",[s._v("Linux系统支持多用户，并且采用用户组的形式管理多个用户（root用户就在root用户组）")]),s._v(" "),a("p",[s._v("Linux中的用户管理，采用的用户组形式")]),s._v(" "),a("p",[s._v("用户组\t\t\t\t\t\t\t\t用户")]),s._v(" "),a("p",[s._v("root\t\t\t\t\t\t\t\t\t  root")])]),s._v(" "),a("blockquote",[a("p",[s._v("在Linux提供了比较严格的权限管理（用户对文件/目录的操作权限，root用户默认具有所有文件的操作权限）")]),s._v(" "),a("p",[s._v("权限：读、写、可执行")])]),s._v(" "),a("ul",[a("li",[s._v("用户组\n"),a("ul",[a("li",[a("code",[s._v("groupadd team1")]),s._v(" 创建用户组")]),s._v(" "),a("li",[a("code",[s._v("groupdel team1")]),s._v("  删除用户组")])])]),s._v(" "),a("li",[s._v("用户\n"),a("ul",[a("li",[a("code",[s._v("useradd -g 用户组 用户名")]),s._v("      创建新用户")]),s._v(" "),a("li",[a("code",[s._v("passwd 用户名")]),s._v("                             设置用户密码")]),s._v(" "),a("li",[a("code",[s._v("userdel 用户名")]),s._v("                           删除用户")])])]),s._v(" "),a("li",[s._v("切换用户\n"),a("ul",[a("li",[a("code",[s._v("su 用户名")]),s._v("                   切换至其他普通用户")]),s._v(" "),a("li",[a("code",[s._v("su")]),s._v("                                切换至管理员（需要输入超级管理员密码）")])])]),s._v(" "),a("li",[s._v("权限管理\n"),a("ul",[a("li",[a("code",[s._v("drwxr-xr-x")]),s._v(" 说明：\n"),a("ul",[a("li",[s._v("第一个字符表示文件/目录，“d”表示目录，“-”表示文件")]),s._v(" "),a("li",[s._v("r可读（4）、w可写（2）、x可执行（1）")]),s._v(" "),a("li",[s._v("第一个rwx：表示当前文件的所有者拥有的权限")]),s._v(" "),a("li",[s._v("第二个rwx：表示和文件所有者同组用户拥有的权限")]),s._v(" "),a("li",[s._v("第三个rwx：表示不同组用户拥有的权限")])])]),s._v(" "),a("li",[a("code",[s._v("chmod")]),s._v("  修改权限\n"),a("ul",[a("li",[a("code",[s._v("chmod 775 文件名")])])])])])])]),s._v(" "),a("h3",{attrs:{id:"_3-5、系统与进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5、系统与进程"}},[s._v("#")]),s._v(" 3.5、系统与进程")]),s._v(" "),a("ul",[a("li",[s._v("查询进程\n"),a("ul",[a("li",[a("code",[s._v("top")])]),s._v(" "),a("li",[a("code",[s._v("lsof -i:port")]),s._v(" 通过端口查询进程信息\n"),a("ul",[a("li",[s._v("如果此指令不可以使用，则需要通过"),a("code",[s._v("yum install -y lsof")]),s._v("安装指令")]),s._v(" "),a("li",[s._v("CentOS6 Ubuntu没有此指令")])])]),s._v(" "),a("li",[a("code",[s._v("netstat -apn | grep port")]),s._v(" 通过端口查询进程信息（CentOS6）")])])]),s._v(" "),a("li",[a("code",[s._v("ps -ef | grep java")]),s._v(" 通过进程名查找进程")]),s._v(" "),a("li",[s._v("强杀进程\n"),a("ul",[a("li",[a("code",[s._v("kill -9 PID")]),s._v(" 通过进程编号强杀进程")])])]),s._v(" "),a("li",[s._v("系统注销和重启\n"),a("ul",[a("li",[a("code",[s._v("logout")]),s._v(" 注销")]),s._v(" "),a("li",[a("code",[s._v("reboot")]),s._v(" 重启")])])])]),s._v(" "),a("h2",{attrs:{id:"_4、软件管理相关的指令-wget、rpm、yum"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、软件管理相关的指令-wget、rpm、yum"}},[s._v("#")]),s._v(" 4、软件管理相关的指令（wget、rpm、yum）")]),s._v(" "),a("h3",{attrs:{id:"_4-1、wget指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1、wget指令"}},[s._v("#")]),s._v(" 4.1、wget指令")]),s._v(" "),a("blockquote",[a("p",[s._v("我们在linux中安装软件，首先要完成软件安装包的下载；获取linux系统中软件的安装包，我么有两种途径：")]),s._v(" "),a("ul",[a("li",[s._v("在windows中进行下载（百度搜索下载），然后将安装包上传到linux系统中")]),s._v(" "),a("li",[s._v("直接在linux系统中，通过wget下载")])])]),s._v(" "),a("h4",{attrs:{id:"_4-1-1、wget介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1、wget介绍"}},[s._v("#")]),s._v(" 4.1.1、wget介绍")]),s._v(" "),a("ul",[a("li",[s._v("wget是linux系统中一个下载文件的工具，linux系统自带")])]),s._v(" "),a("h4",{attrs:{id:"_4-1-2、wget使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2、wget使用"}},[s._v("#")]),s._v(" 4.1.2、wget使用")]),s._v(" "),a("ul",[a("li",[s._v("wget [option] url")]),s._v(" "),a("li",[s._v("mysql下载："),a("code",[s._v("wget http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm")])])]),s._v(" "),a("h3",{attrs:{id:"_4-2、rpm指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2、rpm指令"}},[s._v("#")]),s._v(" 4.2、rpm指令")]),s._v(" "),a("h4",{attrs:{id:"_4-2-1、rpm介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1、rpm介绍"}},[s._v("#")]),s._v(" 4.2.1、rpm介绍")]),s._v(" "),a("p",[s._v("RPM（Rad-Hat Package Manager）是一款linux系统的软件包的管理器，可以完成linux系统中应用的安装、卸载")]),s._v(" "),a("h4",{attrs:{id:"_4-2-2、rpm指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2、rpm指令"}},[s._v("#")]),s._v(" 4.2.2、rpm指令")]),s._v(" "),a("ul",[a("li",[s._v("查询："),a("code",[s._v("rpm -qa | grep 关键字")])]),s._v(" "),a("li",[s._v("卸载："),a("code",[s._v("rpm -e --nodeps 软件名称")])]),s._v(" "),a("li",[s._v("安装："),a("code",[s._v("rpm -ivh 安装包.rpm")]),s._v(" "),a("ul",[a("li",[s._v("mysql安装：rpm -ivh mysql57-community-release-el7-10.noarch.rpm")])])]),s._v(" "),a("li",[s._v("更新："),a("code",[s._v("rpm -Uvh 安装包.rpm")])])]),s._v(" "),a("h3",{attrs:{id:"_4-3、yum指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3、yum指令"}},[s._v("#")]),s._v(" 4.3、yum指令")]),s._v(" "),a("h4",{attrs:{id:"_4-3-1、yum介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1、yum介绍"}},[s._v("#")]),s._v(" 4.3.1、yum介绍")]),s._v(" "),a("blockquote",[a("p",[s._v("yum（全称：Yellow Dog Updater，Modified），基于RPM包管理，能够从指定的夫区其自动下载rpm并安装，可以自动处理依赖关系，一次安装所有的依赖软件，无需一个个的下载安装")])]),s._v(" "),a("h4",{attrs:{id:"_4-3-2、yum指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2、yum指令"}},[s._v("#")]),s._v(" 4.3.2、yum指令")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("yum [-y] install http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm")])]),s._v(" "),a("li",[a("code",[s._v("yum list")]),s._v(" 列出系统中所有的包")]),s._v(" "),a("li",[a("code",[s._v("yum [-y] install rpm包")]),s._v(" 下载并安装rpm包")]),s._v(" "),a("li",[a("code",[s._v("yum update rpm包")])]),s._v(" "),a("li",[a("code",[s._v("yum remove rpm包")])])]),s._v(" "),a("h2",{attrs:{id:"_5、jdk安装-离线安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、jdk安装-离线安装"}},[s._v("#")]),s._v(" 5、JDK安装（离线安装）")]),s._v(" "),a("h3",{attrs:{id:"_5-1、下载jdk-linux版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1、下载jdk-linux版"}},[s._v("#")]),s._v(" 5.1、下载JDK（Linux版）")]),s._v(" "),a("p",[s._v("网盘/云盘（jdk.tar.gz）")]),s._v(" "),a("h3",{attrs:{id:"_5-2、将下载的安装包上传到-usr-local目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2、将下载的安装包上传到-usr-local目录"}},[s._v("#")]),s._v(" 5.2、将下载的安装包上传到/usr/local目录")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211224111500024","data-src":"https://s2.loli.net/2021/12/24/O7xA5wBuUVzPiMg.png",loading:"lazy"}})]),s._v(" "),a("h3",{attrs:{id:"_5-3、解压jdk安装包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3、解压jdk安装包"}},[s._v("#")]),s._v(" 5.3、解压JDK安装包")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf jdk-8u281-linux-x64.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("得到一个"),a("code",[s._v("jdk1.8.0_281")]),s._v("的文件夹")]),s._v(" "),a("h3",{attrs:{id:"_5-4、查看jdk工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-4、查看jdk工具"}},[s._v("#")]),s._v(" 5.4、查看JDK工具")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211224111843108","data-src":"https://s2.loli.net/2021/12/24/zRJhsZk9AucUjYp.png",loading:"lazy"}})]),s._v(" "),a("h3",{attrs:{id:"_5-5、配置环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-5、配置环境变量"}},[s._v("#")]),s._v(" 5.5、配置环境变量")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("进入到/etc目录，找到profile文件")])]),s._v(" "),a("li",[a("p",[s._v("编辑profile文件：vim profile")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("在profile文件最后配置以下内容")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/jdk1.8.0_281\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JRE_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/jre\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CLASSPATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(".:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/lib:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JRE_HOME")]),s._v("/lib\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])])])]),s._v(" "),a("h3",{attrs:{id:"_5-6、让配置生效"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-6、让配置生效"}},[s._v("#")]),s._v(" 5.6、让配置生效")]),s._v(" "),a("p",[a("code",[s._v("source /etc/profile")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#让配置生效")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# source /etc/profile")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示jdk版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ etc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# java -version")]),s._v("\njava version "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.0_281"')]),s._v("\nJava"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SE Runtime Environment "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("build "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.8")]),s._v(".0_281-b09"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nJava HotSpot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-Bit Server VM "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("build "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25.281")]),s._v("-b09, mixed mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"_6、tomcat安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、tomcat安装"}},[s._v("#")]),s._v(" 6、Tomcat安装")]),s._v(" "),a("h3",{attrs:{id:"_6-1、下载离线tar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1、下载离线tar"}},[s._v("#")]),s._v(" 6.1、下载离线tar")]),s._v(" "),a("p",[s._v("apache-tomcat-8.5.73.tar")]),s._v(" "),a("h3",{attrs:{id:"_6-2、上传到linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2、上传到linux"}},[s._v("#")]),s._v(" 6.2、上传到linux")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211224114617702","data-src":"https://s2.loli.net/2021/12/24/hUiWnf1JYzetFgN.png",loading:"lazy"}})]),s._v(" "),a("h3",{attrs:{id:"_6-3、解压tar文件v"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-3、解压tar文件v"}},[s._v("#")]),s._v(" 6.3、解压tar文件v")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf apache-tomcat-8.5.73.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_6-4、启动tomcat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-4、启动tomcat"}},[s._v("#")]),s._v(" 6.4、启动tomcat")]),s._v(" "),a("p",[s._v("进入bin文件夹下，并使用./startup.sh启动tomcat")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211224115419217","data-src":"https://s2.loli.net/2021/12/24/XoOgrJA52Mq9SZu.png",loading:"lazy"}})]),s._v(" "),a("p",[s._v("开启后，访问地址"),a("a",{attrs:{href:"http://8.130.18.255:8080/",target:"_blank",rel:"noopener noreferrer"}},[s._v("8.130.18.255"),a("OutboundLink")],1),s._v("即可看到")]),s._v(" "),a("p",[s._v("如果想关闭tomcat，先用losf -i:8080 查看进程号，再使用kill -9 进程号关闭")]),s._v(" "),a("h2",{attrs:{id:"_7、mysql安装-在线安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、mysql安装-在线安装"}},[s._v("#")]),s._v(" 7、MySQL安装（在线安装）")]),s._v(" "),a("h3",{attrs:{id:"_7-1、安装过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1、安装过程"}},[s._v("#")]),s._v(" 7.1、安装过程")]),s._v(" "),a("h4",{attrs:{id:"_7-1-1、通过wget指令下载mysql的rpm文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-1、通过wget指令下载mysql的rpm文件"}},[s._v("#")]),s._v(" 7.1.1、通过wget指令下载mysql的rpm文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pwd")]),s._v("\n/usr/local\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\naegis                 apache-tomcat-8.5.73.tar.gz  etc    include       jdk-8u281-linux-x64.tar.gz  lib64    sbin   src\napache-tomcat-8.5.73  bin                          games  jdk1.8.0_281  lib                         libexec  share\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211224125031690","data-src":"https://s2.loli.net/2021/12/24/7JjsHxUCGSQLXFw.png",loading:"lazy"}})]),s._v(" "),a("h4",{attrs:{id:"_7-1-2、rpm安装mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-2、rpm安装mysql"}},[s._v("#")]),s._v(" 7.1.2、rpm安装mysql")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm -ivh mysql57-community-release-el7-10.noarch.rpm")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_7-1-3、通过yum安装mysql服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-3、通过yum安装mysql服务"}},[s._v("#")]),s._v(" 7.1.3、通过yum安装mysql服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum -y install mysql-community-server")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_7-1-4、加入开机启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-4、加入开机启动"}},[s._v("#")]),s._v(" 7.1.4、加入开机启动")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl enable mysqld")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_7-1-5、启动mysql服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-5、启动mysql服务"}},[s._v("#")]),s._v(" 7.1.5、启动MySQL服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start mysqld")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lsof -i:3306")]),s._v("\nCOMMAND   PID  "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("   FD   TYPE DEVICE SIZE/OFF NODE NAME\nmysqld  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13083")]),s._v(" mysql   21u  IPv6  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("82453")]),s._v("      0t0  TCP *:mysql "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("LISTEN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"_7-1-6、停止与重启mysql服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-6、停止与重启mysql服务"}},[s._v("#")]),s._v(" 7.1.6、停止与重启MySQL服务")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl stop mysqld")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl restart mysqld")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_7-2、mysql基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2、mysql基本使用"}},[s._v("#")]),s._v(" 7.2、MySQL基本使用")]),s._v(" "),a("blockquote",[a("p",[s._v("MySQL安装完成后，会有一个默认账号，但是没有设置自定义密码（在安装的时候生成了默认初始密码，使用默认密码只能进行登录操作，登录进去后必须要修改初始密码才能正常使用数据库）")])]),s._v(" "),a("h4",{attrs:{id:"_7-2-1、查找初始密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-1、查找初始密码"}},[s._v("#")]),s._v(" 7.2.1、查找初始密码")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /var/log/mysqld.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" password\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_7-2-1、登录到mysqld"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-1、登录到mysqld"}},[s._v("#")]),s._v(" 7.2.1、登录到mysqld")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql -uroot -p")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_7-2-3、修改密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-3、修改密码"}},[s._v("#")]),s._v(" 7.2.3、修改密码")]),s._v(" "),a("p",[s._v("设置密码的检查机制为LOW")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> set global validate_password_policy=LOW;\nQuery OK, 0 rows affected (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("修改密码")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysql> set password=password('mysql6610');\nQuery OK, 0 rows affected, 1 warning (0.00 sec)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_7-2-4、授权远程登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-4、授权远程登录"}},[s._v("#")]),s._v(" 7.2.4、授权远程登录")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("GRANT ALL PRIVILEGES on *.* to 'root'@'%' IDENTIFIED by 'mysql6610' WITH GRANT OPTION;\nflush PRIVILEGES;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_8、部署运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、部署运行"}},[s._v("#")]),s._v(" 8、部署运行")]),s._v(" "),a("h3",{attrs:{id:"_8-1、后端部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-1、后端部署"}},[s._v("#")]),s._v(" 8.1、后端部署")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ ygmall"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# java -jar api-2.0.1.jar")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用 ctrl+c 退出")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211228101152760","data-src":"https://s2.loli.net/2021/12/28/MTI8mQ4nU3zP1XW.png",loading:"lazy"}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ ygmall"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# java -jar api-2.0.1.jar &")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用 ctrl+c ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ ygmall"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nohup java -jar api-2.0.1.jar &")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#nohup 意思是不挂断运行命令,当账户退出或终端关闭时,程序仍然运行")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_8-2、前端部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2、前端部署"}},[s._v("#")]),s._v(" 8.2、前端部署")]),s._v(" "),a("blockquote",[a("p",[s._v("前端项目也需要部署在服务器上才能实现多用户访问")])]),s._v(" "),a("h4",{attrs:{id:"_8-2-1、云主机安装服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-1、云主机安装服务器"}},[s._v("#")]),s._v(" 8.2.1、云主机安装服务器")]),s._v(" "),a("p",[s._v("tomcat可以作为前端项目部署的服务器使用")]),s._v(" "),a("h4",{attrs:{id:"_8-2-2、进入tomcat修改端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-2、进入tomcat修改端口"}},[s._v("#")]),s._v(" 8.2.2、进入tomcat修改端口")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ ygmall"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/apache-tomcat-8.5.73")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ apache-tomcat-8.5.73"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nbin           conf             lib      logs    README.md      RUNNING.txt  webapps\nBUILDING.txt  CONTRIBUTING.md  LICENSE  NOTICE  RELEASE-NOTES  temp         work\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ apache-tomcat-8.5.73"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd conf/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nCatalina         catalina.properties  jaspic-providers.xml  logging.properties  tomcat-users.xml  web.xml\ncatalina.policy  context.xml          jaspic-providers.xsd  server.xml          tomcat-users.xsd\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用cat -n 查看所在的行数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat -n server.xml | grep 8080")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("67")]),s._v("           Define a non-SSL/TLS HTTP/1.1 Connector on port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("69")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Connector "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8080"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("protocol")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HTTP/1.1"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("75")]),s._v("                 "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8080"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("protocol")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HTTP/1.1"')]),s._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用vim + 打开指定行数    ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim +69 server.xml")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211228104606277","data-src":"https://s2.loli.net/2021/12/28/xO5rIyaAQjDMLgw.png",loading:"lazy"}})]),s._v(" "),a("p",[s._v("将文件内部的端口8080修改为9999，并启动tomcat")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd ../bin")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nbootstrap.jar       ciphers.sh                    daemon.sh         shutdown.bat     tomcat-native.tar.gz\ncatalina.bat        commons-daemon.jar            digest.bat        shutdown.sh      tool-wrapper.bat\ncatalina.sh         commons-daemon-native.tar.gz  digest.sh         startup.bat      tool-wrapper.sh\ncatalina-tasks.xml  configtest.bat                setclasspath.bat  startup.sh       version.bat\nciphers.bat         configtest.sh                 setclasspath.sh   tomcat-juli.jar  version.sh\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./startup.sh")]),s._v("\nUsing CATALINA_BASE:   /usr/local/apache-tomcat-8.5.73\nUsing CATALINA_HOME:   /usr/local/apache-tomcat-8.5.73\nUsing CATALINA_TMPDIR: /usr/local/apache-tomcat-8.5.73/temp\nUsing JRE_HOME:        /usr/local/jdk1.8.0_281/jre\nUsing CLASSPATH:       /usr/local/apache-tomcat-8.5.73/bin/bootstrap.jar:/usr/local/apache-tomcat-8.5.73/bin/tomcat-juli.jar\nUsing CATALINA_OPTS:\nTomcat started.\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lsof -i:8080")]),s._v("\nCOMMAND   PID "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("   FD   TYPE DEVICE SIZE/OFF NODE NAME\njava    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21012")]),s._v(" root   14u  IPv6 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("227784")]),s._v("      0t0  TCP *:webcache "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("LISTEN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lsof -i:9999")]),s._v("\nCOMMAND   PID "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("   FD   TYPE DEVICE SIZE/OFF NODE NAME\njava    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21069")]),s._v(" root   56u  IPv6 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("228612")]),s._v("      0t0  TCP *:distinct "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("LISTEN"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h4",{attrs:{id:"_8-2-3、将前端项目放置到webapps文件下重启运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-3、将前端项目放置到webapps文件下重启运行"}},[s._v("#")]),s._v(" 8.2.3、将前端项目放置到webapps文件下重启运行")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211228105319110","data-src":"https://s2.loli.net/2021/12/28/4O5QwlJXZKFysPx.png",loading:"lazy"}})]),s._v(" "),a("h4",{attrs:{id:"_8-2-4、修改云服务器端口-放行9999端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-4、修改云服务器端口-放行9999端口"}},[s._v("#")]),s._v(" 8.2.4、修改云服务器端口，放行9999端口")]),s._v(" "),a("p",[s._v("然后使用http://8.130.18.255:9999/ygmall-static(forLinux)/index.html地址访问")]),s._v(" "),a("p",[s._v("注意需加项目名称")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211228110008350","data-src":"https://s2.loli.net/2021/12/28/oOkXv9DKet48w6a.png",loading:"lazy"}})]),s._v(" "),a("h4",{attrs:{id:"_8-2-5、使用tomcat部署前端项目存在的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-5、使用tomcat部署前端项目存在的问题"}},[s._v("#")]),s._v(" 8.2.5、使用tomcat部署前端项目存在的问题")]),s._v(" "),a("blockquote",[a("p",[s._v("1、前端项目的一个页面会包含大量的css/js/图片，会有大量的并发请求，tomcat难以满足并发的需求")]),s._v(" "),a("p",[s._v("2、tomcat的核心价值在于能够编译执行java代码，而不是处理并发，同时前端项目中没有java程序，从功能上讲前端项目的部署也用不到tomcat")])]),s._v(" "),a("h2",{attrs:{id:"_9、nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9、nginx"}},[s._v("#")]),s._v(" 9、Nginx")]),s._v(" "),a("h3",{attrs:{id:"_9-1、nginx介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-1、nginx介绍"}},[s._v("#")]),s._v(" 9.1、Nginx介绍")]),s._v(" "),a("h4",{attrs:{id:"_9-1-1、为什么使用nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-1、为什么使用nginx"}},[s._v("#")]),s._v(" 9.1.1、为什么使用Nginx")]),s._v(" "),a("ul",[a("li",[a("h4",{attrs:{id:"静态资源访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#静态资源访问"}},[s._v("#")]),s._v(" 静态资源访问")])])]),s._v(" "),a("blockquote",[a("p",[s._v("前端项目在进行服务器部署的时候，如果基于Tomcat不能满足并发的需求，因此我们需要一种能够处理更高并发的适用于静态资源的服务器")])]),s._v(" "),a("ul",[a("li",[a("h4",{attrs:{id:"代理服务器实现负载均衡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代理服务器实现负载均衡"}},[s._v("#")]),s._v(" 代理服务器实现负载均衡")]),s._v(" "),a("p",[s._v("将tomcat配置到nginx中，在nginx.conf中添加配置")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#声明服务器组")]),s._v("\nupstream myservers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tserver localhost:8082"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\tserver localhost:8083"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("再在server中添加内容：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tproxy_pass http://myservers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_9-1-2、nginx介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-2、nginx介绍"}},[s._v("#")]),s._v(" 9.1.2、Nginx介绍")]),s._v(" "),a("blockquote",[a("p",[a("em",[s._v("Nginx")]),s._v(" (engine x) 是一个高性能的"),a("a",{attrs:{href:"https://baike.baidu.com/item/HTTP",target:"_blank",rel:"noopener noreferrer"}},[s._v("HTTP"),a("OutboundLink")],1),s._v("和"),a("a",{attrs:{href:"https://baike.baidu.com/item/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/7793488",target:"_blank",rel:"noopener noreferrer"}},[s._v("反向代理"),a("OutboundLink")],1),s._v("web服务器，同时也提供了IMAP/POP3/SMTP服务")]),s._v(" "),a("ul",[a("li",[s._v("Nginx是基于HTTP协议的请求/响应（部署web项目）——静态资源服务器")]),s._v(" "),a("li",[s._v("Nginx可以作为反向代理服务器 ——负载均衡服务器（代理服务器）")])])]),s._v(" "),a("p",[s._v("Nginx特定：")]),s._v(" "),a("ul",[a("li",[s._v("稳定性极强，可以实现7*24不间断运行")]),s._v(" "),a("li",[s._v("提供简洁、直观的配置")]),s._v(" "),a("li",[s._v("占用内存很小、并发能力很强（5W+）")])]),s._v(" "),a("h3",{attrs:{id:"_9-2、nginx下载安装及配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2、nginx下载安装及配置"}},[s._v("#")]),s._v(" 9.2、Nginx下载安装及配置")]),s._v(" "),a("h4",{attrs:{id:"_9-2-1、windows环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-1、windows环境"}},[s._v("#")]),s._v(" 9.2.1、Windows环境")]),s._v(" "),a("h5",{attrs:{id:"_9-2-1-1、下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-1-1、下载"}},[s._v("#")]),s._v(" 9.2.1.1、下载")]),s._v(" "),a("p",[s._v("下载地址："),a("a",{attrs:{href:"http://nginx.org/en/download.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("nginx: download"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211228114436244","data-src":"https://s2.loli.net/2021/12/28/Juztwa19f6gBsqS.png",loading:"lazy"}})]),s._v(" "),a("h5",{attrs:{id:"_9-2-1-2、解压到指定目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-1-2、解压到指定目录"}},[s._v("#")]),s._v(" 9.2.1.2、解压到指定目录")]),s._v(" "),a("p",[s._v("解压即可")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211228114453439","data-src":"https://s2.loli.net/2021/12/28/kDrMZ9fTIXcySzR.png",loading:"lazy"}})]),s._v(" "),a("h5",{attrs:{id:"_9-2-1-3、运行及访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-1-3、运行及访问"}},[s._v("#")]),s._v(" 9.2.1.3、运行及访问")]),s._v(" "),a("ul",[a("li",[s._v("执行根路径下的nginx.exe，在任务管理器中可以看到已经在运行")])]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211228114053645","data-src":"https://s2.loli.net/2021/12/28/ox7D8rJnsXYiHVK.png",loading:"lazy"}})]),s._v(" "),a("ul",[a("li",[a("p",[s._v("nginx的默认端口是80")]),s._v(" "),a("p",[s._v("在本机的浏览器地址栏输入localhost，80端口号可以省略")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211228114303900","data-src":"https://s2.loli.net/2021/12/28/gy6sfBdeKWxNwAS.png",loading:"lazy"}})])])]),s._v(" "),a("h4",{attrs:{id:"_9-2-2、linux环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-2、linux环境"}},[s._v("#")]),s._v(" 9.2.2、Linux环境")]),s._v(" "),a("h5",{attrs:{id:"_9-2-2-1、安装编译工具-nginx安装之前需要编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-2-1、安装编译工具-nginx安装之前需要编译"}},[s._v("#")]),s._v(" 9.2.2.1、安装编译工具（nginx安装之前需要编译）")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install -y gcc gcc-c++")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"_9-2-2-2、安装pcre"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-2-2、安装pcre"}},[s._v("#")]),s._v(" 9.2.2.2、安装PCRE")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1、下载")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget http://downloads.sourceforge.net/project/pcre/pcre/8.35/pcre-8.35.tar.gz")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2、安装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar -zxvf pcre-8.35.tar.gz")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3、进入pcre目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd pcre-8.35")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4、配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ pcre-8.35"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./configure")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#5、编译安装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ pcre-8.35"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# make && make install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h5",{attrs:{id:"_9-2-2-3、安装ssl库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-2-3、安装ssl库"}},[s._v("#")]),s._v(" 9.2.2.3、安装SSL库")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ pcre-8.35"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget --no-check-certificate http://www.openssl.org/source/openssl-1.0.1j.tar.gz")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar -zxvf openssl-1.0.1j.tar.gz")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd openssl-1.0.1j")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ openssl-1.0.1j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./config")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ openssl-1.0.1j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# make && make install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h5",{attrs:{id:"_9-2-2-4、安装zlib库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-2-4、安装zlib库"}},[s._v("#")]),s._v(" 9.2.2.4、安装zlib库")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ openssl-1.0.1j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget http://zlib.net/zlib-1.2.11.tar.gz")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar -zxvf zlib-1.2.11.tar.gz")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd zlib-1.2.11")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ zlib-1.2.11"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./configure")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ zlib-1.2.11"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# make && make install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h5",{attrs:{id:"_9-2-2-5、安装nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-2-5、安装nginx"}},[s._v("#")]),s._v(" 9.2.2.5、安装Nginx")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ zlib-1.2.11"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget http://nginx.org/download/nginx-1.16.1.tar.gz")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar -zxvf nginx-1.16.1.tar.gz")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir -p server/nginx")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd nginx-1.16.1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ nginx-1.16.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./configure --prefix=/usr/local/server/nginx --with-http_stub_status_module --with-http_ssl_module --with-pcre=/usr/local/pcre-8.35")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ nginx-1.16.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# make && make install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如果在配置过程中出现了以下错误：")]),s._v("\n./configure: error: SSL modules require the OpenSSL library.\nYou can either "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" not "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" the modules, or "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" the OpenSSL library\ninto the system, or build the OpenSSL library statically from the "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v("\nwith nginx by using --with-openssl"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" option.\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#执行：")]),s._v("\nyum -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openssl openssl-devel\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("安装完毕后，云主机开放80端口，即可进入")]),s._v(" "),a("p",[s._v("再进入conf文件夹进行配置")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ sbin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/server/nginx/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nclient_body_temp  conf  fastcgi_temp  html  logs  proxy_temp  sbin  scgi_temp  uwsgi_temp  ygmall-static"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("forLinux"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd conf/")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nfastcgi.conf          fastcgi_params.default  mime.types          nginx.conf.default   uwsgi_params\nfastcgi.conf.default  koi-utf                 mime.types.default  scgi_params          uwsgi_params.default\nfastcgi_params        koi-win                 nginx.conf          scgi_params.default  win-utf\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat -n nginx.conf | grep location")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),s._v("          location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v("          location "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /50x.html "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#location ~ \\.php$ {")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#location ~ \\.php$ {")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("76")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#location ~ /\\.ht {")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    location / {")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    location / {")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZ0jlddp8rf9uclhzchc2kZ conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim +43 nginx.conf")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"_9-3、nginx配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-3、nginx配置"}},[s._v("#")]),s._v(" 9.3、Nginx配置")]),s._v(" "),a("p",[s._v("配置文件说明：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#user  nobody;")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置处理器个数（应不大于cpu核心数）")]),s._v("\nworker_processes  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#error_log  logs/error.log;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#error_log  logs/error.log  notice;")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置nginx运行日志文件")]),s._v("\nerror_log  logs/error.log  info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置nginx进程号的存储文件")]),s._v("\npid        logs/nginx.pid"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置nginx能够支持的连接个数，数值越大，并发能力越强")]),s._v("\nevents "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    worker_connections  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\nhttp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    include       mime.types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    default_type  application/octet-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                  '$status $body_bytes_sent \"$http_referer\" '")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#                  \'"$http_user_agent" "$http_x_forwarded_for"\';')]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#access_log  logs/access.log  main;")]),s._v("\n\n    sendfile        on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#tcp_nopush     on;")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#keepalive_timeout  0;")]),s._v("\n   \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置超时时间")]),s._v("\n    keepalive_timeout  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#gzip  on;")]),s._v("\n\n    server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置nginx端口号")]),s._v("\n        listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置nginx的访问地址")]),s._v("\n        server_name  localhost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#charset koi8-r;")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#access_log  logs/host.access.log  main;")]),s._v("\n\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#地址映射")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#location / {")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    root   html;")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    index  index.html index.htm;")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#}")]),s._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#根据项目自定义设置")]),s._v("\n        location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            root   ygmall-static"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            index  index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#error_page  404              /404.html;")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# redirect server error pages to the static page /50x.html")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定错误页面")]),s._v("\n        error_page   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("502")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("503")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("504")]),s._v("  /50x.html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        location "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /50x.html "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            root   html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# proxy the PHP scripts to Apache listening on 127.0.0.1:80")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#location ~ \\.php$ {")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    proxy_pass   http://127.0.0.1;")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#}")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#location ~ \\.php$ {")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    root           html;")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    fastcgi_pass   127.0.0.1:9000;")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    fastcgi_index  index.php;")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    include        fastcgi_params;")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#}")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deny access to .htaccess files, if Apache's document root")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# concurs with nginx's one")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#location ~ /\\.ht {")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    deny  all;")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# another virtual host using mix of IP-, name-, and port-based configuration")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#server {")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    listen       8000;")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    listen       somename:8080;")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    server_name  somename  alias  another.alias;")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    location / {")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        root   html;")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        index  index.html index.htm;")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    }")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#}")]),s._v("\n\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HTTPS server")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#server {")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    listen       443 ssl;")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    server_name  localhost;")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    ssl_certificate      cert.pem;")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    ssl_certificate_key  cert.key;")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    ssl_session_cache    shared:SSL:1m;")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    ssl_session_timeout  5m;")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    ssl_ciphers  HIGH:!aNULL:!MD5;")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    ssl_prefer_server_ciphers  on;")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    location / {")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        root   html;")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        index  index.html index.htm;")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    }")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br")])]),a("p",[s._v("修改完毕后，在任务管理器中关闭所有nginx的进程，多查找几次，然后重启")]),s._v(" "),a("h2",{attrs:{id:"_10、项目日志管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10、项目日志管理"}},[s._v("#")]),s._v(" 10、项目日志管理")]),s._v(" "),a("h3",{attrs:{id:"_10-1、日志框架的概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-1、日志框架的概念"}},[s._v("#")]),s._v(" 10.1、日志框架的概念")]),s._v(" "),a("blockquote",[a("p",[s._v("在项目开发、运维过程中，为了能够清晰的知道项目在服务器中的运行过程，便于查找服务器运行过程中的异常原因，我们需要对系统运行过程进行记录——运行日志")]),s._v(" "),a("ol",[a("li",[s._v("我们可以使用 控制台输出 的形式进行运行过程记录（不便于日志信息跟踪和维护、不能持久化存储）")]),s._v(" "),a("li",[s._v("控制台输出日志的诸多弊端催生了日志框架的诞生")])])]),s._v(" "),a("p",[a("strong",[s._v("日志框架")]),s._v(" 用于帮助我们在应用开发中完成日志记录的帮助类")]),s._v(" "),a("p",[a("strong",[s._v("日志框架作用")])]),s._v(" "),a("ol",[a("li",[s._v("有结构的记录日志信息（结构是为了提升日志信息的可读性）")]),s._v(" "),a("li",[s._v("定义日志的输出策略（每个日志文件最大5m、每天一个日志文件）")])]),s._v(" "),a("h3",{attrs:{id:"_10-2、日志框架规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-2、日志框架规范"}},[s._v("#")]),s._v(" 10.2、日志框架规范")]),s._v(" "),a("blockquote",[a("p",[s._v("日志框架规范：日志记录实现的规则")]),s._v(" "),a("p",[s._v("日志框架：实现日志记录")])]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"微信图片_20211228172409","data-src":"https://s2.loli.net/2021/12/28/zQaHVc4uix6gGRC.jpg",loading:"lazy"}})]),s._v(" "),a("ul",[a("li",[s._v("日志接口（日志框架规范）\n"),a("ul",[a("li",[s._v("JCL（Jakata Commons Logging）")]),s._v(" "),a("li",[s._v("SLF4J（Simple Logging Facade For Java）")]),s._v(" "),a("li",[s._v("JBoss Logging")])])]),s._v(" "),a("li",[s._v("日志实现（日志框架）\n"),a("ul",[a("li",[s._v("Log4j")]),s._v(" "),a("li",[s._v("Logback")])])])]),s._v(" "),a("h3",{attrs:{id:"_10-3、slf4j"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-3、slf4j"}},[s._v("#")]),s._v(" 10.3、SLF4J")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("SLF4J（Simple Logging Facade For Java）简单日志门面，定义了一套日志规范，并不是日志解决方法")])]),s._v(" "),a("li",[a("p",[s._v("SLF4J的实现")])])]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20211228175229964","data-src":"https://s2.loli.net/2021/12/28/FaG52oWIQRtxJrq.png",loading:"lazy"}})]),s._v(" "),a("h3",{attrs:{id:"_10-4、slf4j-simple"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-4、slf4j-simple"}},[s._v("#")]),s._v(" 10.4、slf4j-simple")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("创建springboot项目")])]),s._v(" "),a("li",[a("p",[s._v("添加依赖（如果不添加，springboot自带）")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-simple --\x3e")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.slf4j"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("slf4j-simple"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("1.7.25"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("scope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("test"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("scope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("若使用上述依赖需要排除掉springboot中的依赖")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.springframework.boot"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-boot-starter-web"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("exclusions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("exclusion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        \t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("ch.qos.logback"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("logback-classic"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("exclusion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("exclusions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("创建对象")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Logger")]),s._v(" logger "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LoggerFactory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getLogger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TestServiceImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \nlogger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"订单添加完成"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_10-5、log4j使用介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-5、log4j使用介绍"}},[s._v("#")]),s._v(" 10.5、log4j使用介绍")]),s._v(" "),a("blockquote",[a("p",[s._v("log4j没有实现slf4j，如果基于slf4j规范使用log4j，则需要添加slf4j-log4j12依赖")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("添加依赖")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.slf4j"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("slf4j-log4j12"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("1.7.25"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("scope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("test"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("scope")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("在resources目录下创建log4j.properties文件")]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("log4j.rootLogger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("DEBUG,stdout")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MyBatis logging configuration")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("log4j.logger.org.mybatis.example.BlogMapper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("TRACE")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Console output...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("log4j.appender.stdout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("org.apache.log4j.ConsoleAppender")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("log4j.appender.stdout.layout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("org.apache.log4j.PatternLayout")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("log4j.appender.stdout.layout.ConversionPattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("[%t] %5p - %n%m")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_10-6、基于springboot应用的logback日志配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-6、基于springboot应用的logback日志配置"}},[s._v("#")]),s._v(" 10.6、基于SpringBoot应用的logback日志配置")]),s._v(" "),a("blockquote",[a("p",[s._v("SpringBoot默认整合了logback-classicri日志框架，我们需要配置这个logback框架以自定义日志输出格式、日志文件配置、日志文件保存策略等信息")])]),s._v(" "),a("p",[s._v("创建一个**"),a("code",[s._v("logback-spring.xml")]),s._v("**文件")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[s._v('<?xml version="1.0" encoding="UTF-8"?>')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("appender")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("stdout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ch.qos.logback.core.ConsoleAppender"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("encoder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("springProfile")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("dev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("%d{yyyy-MM-dd-HH:mm:ss E} %level [%thread]-%class[%line]: %msg%n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("springProfile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("springProfile")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("!dev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("%d{yyyy-MM-dd-HH:mm:ss E} %level [%thread]-%class[%line]: %msg%n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("springProfile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--日志的编码格式--\x3e")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("charset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("UTF-8"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("charset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("encoder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("appender")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--这个就表示的是把日志输出到文件（FileAppender）--\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("appender")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ch.qos.logback.core.FileAppender"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("D:/log/output.log"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--设置日志是否追加--\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("true"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("encoder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        \t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("%d{yyyy-MM-dd-HH:mm:ss:SSS} %level [%thread]-%class:%line>>%msg%n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("charset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("UTF-8"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("charset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("encoder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--设置日志写入是否线程安全--\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("prudent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("false"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("prudent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("appender")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("appender")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("timeFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ch.qos.logback.core.rolling.RollingFileAppender"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--TimeBasedRollingPolicy  基于时间的滚动策略--\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("rollingPolicy")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ch.qos.logback.core.rolling.TimeBasedRollingPolicy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("fileNamePattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("d:/log/log-%d{yyyy-MM-dd-HH}.log"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("fileNamePattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("rollingPolicy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("encoder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("%d{yyyy-MM-dd-HH:mm:ss.SSS} %level [%thread]-%class:%line>>%msg%n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("charset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("UTF-8"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("charset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("encoder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("appender")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--基于文件大小保存策略--\x3e")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("appender")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("fixedFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ch.qos.logback.core.rolling.RollingFileAppender"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("d:/log/fixedFile.log"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("rollingPolicy")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ch.qos.logback.core.rolling.FixedWindowRollingPolicy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("fileNamePattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("log/fixedFile%i.log"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("fileNamePattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("minIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("minIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("maxIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("10"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("maxIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("rollingPolicy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--SizeBasedTriggeringPolicy--\x3e")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("triggeringPolicy")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        \t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("maxFileSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("5MB"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("maxFileSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("triggeringPolicy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("encoder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("%d{yyyy-MM-dd-HH:mm:ss.SSS} %level [%thread]-%class:%line>>%msg%n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("pattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("charset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("UTF-8"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("charset")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("encoder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("appender")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("root")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("level")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("appender-ref")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("stdout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("appender-ref")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("timeFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("root")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br")])]),a("p",[s._v("在service实现类中创建logger对象")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Logger")]),s._v(" logger"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LoggerFactory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getLogger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderServiceImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nlogger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"add order begin..."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("配置文件中的路径可以使用相对路径：")]),s._v(" "),a("p",[s._v("去掉盘符会在根目录下生成")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("fileNamePattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("log/log-%d{yyyy-MM-dd-HH}.log"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("fileNamePattern")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_11、服务集群搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11、服务集群搭建"}},[s._v("#")]),s._v(" 11、服务集群搭建")]),s._v(" "),a("h3",{attrs:{id:"_11-1、为什么要做服务器集群搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-1、为什么要做服务器集群搭建"}},[s._v("#")]),s._v(" 11.1、为什么要做服务器集群搭建？")]),s._v(" "),a("p",[s._v("服务器集群搭建介绍")]),s._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"微信图片_20211231155235","data-src":"https://s2.loli.net/2021/12/31/mxpY1uWJIv9Ng3E.jpg",loading:"lazy"}})]),s._v(" "),a("h3",{attrs:{id:"_11-2、服务器集群搭建架构说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-2、服务器集群搭建架构说明"}},[s._v("#")]),s._v(" 11.2、服务器集群搭建架构说明")]),s._v(" "),a("h4",{attrs:{id:"_11-2-1、启动多个tomcat服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-1、启动多个tomcat服务器"}},[s._v("#")]),s._v(" 11.2.1、启动多个tomcat服务器")]),s._v(" "),a("blockquote",[a("p",[s._v("springboot应用只需要修改port —— 打包 ——运行")])]),s._v(" "),a("h4",{attrs:{id:"_11-2-2、nginx代理配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-2、nginx代理配置"}},[s._v("#")]),s._v(" 11.2.2、Nginx代理配置")]),s._v(" "),a("p",[s._v("参考9.1")]),s._v(" "),a("h3",{attrs:{id:"_11-3、负载均衡策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-3、负载均衡策略"}},[s._v("#")]),s._v(" 11.3、负载均衡策略")]),s._v(" "),a("blockquote",[a("p",[s._v("前端/用户所有对tomcat（应用服务器）的请求都是通过Nginx转发的；")]),s._v(" "),a("p",[s._v("用户请求发送到nginx，nginx转发到对应的服务器，一个集群中有多个服务器节点，那么nginx是怎么确定转发到哪个服务器节点呢？")]),s._v(" "),a("p",[s._v("Nginx设置了对应的负载均衡策略，有4种内置的负载均衡策略，同时也支持配置第三方负载均衡策略")])]),s._v(" "),a("p",[s._v("负载均衡策略：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("策略")]),s._v(" "),a("th",[s._v("方式")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("轮询")]),s._v(" "),a("td",[s._v("默认方式")])]),s._v(" "),a("tr",[a("td",[s._v("weight")]),s._v(" "),a("td",[s._v("权重方式")])]),s._v(" "),a("tr",[a("td",[s._v("ip_hash")]),s._v(" "),a("td",[s._v("依据ip分配方式")])]),s._v(" "),a("tr",[a("td",[s._v("least_conn")]),s._v(" "),a("td",[s._v("最少连接方式")])]),s._v(" "),a("tr",[a("td",[s._v("fair（第三方）")]),s._v(" "),a("td",[s._v("响应时间方式")])]),s._v(" "),a("tr",[a("td",[s._v("url_hash（第三方）")]),s._v(" "),a("td",[s._v("依据URL分配方式")])])])]),s._v(" "),a("h4",{attrs:{id:"_11-3-1、轮询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-3-1、轮询"}},[s._v("#")]),s._v(" 11.3.1、轮询")]),s._v(" "),a("blockquote",[a("p",[s._v("轮询：根据用户的请求交替的发送到每个服务器节点，是nginx默认的负载均衡策略")])]),s._v(" "),a("p",[s._v("参数：")]),s._v(" "),a("ul",[a("li",[s._v("max_fails：设置在fail_timeout参数设置的时间内最大失败次数，如果在这个时间内，所有针对该服务器的请求都失败了，那么认为该服务器停机")]),s._v(" "),a("li",[s._v("fail_timeout：与max_fails结合使用")]),s._v(" "),a("li",[s._v("fail_time：服务器会被认为停机的时间长度，默认为10s")]),s._v(" "),a("li",[s._v("backup：标记该服务器为备用服务器，当主服务器停止时，请求会被发送到它这里")]),s._v(" "),a("li",[s._v("down：标记服务器永久停机了")])]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("upstream")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("myservers{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8081 max_fails=3 fail_timeout=20s fail_time=100s;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8082;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8083;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8084 backup;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8085 down;")]),s._v("\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"_11-3-2、权重"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-3-2、权重"}},[s._v("#")]),s._v(" 11.3.2、权重")]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("upstream")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("myservers{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8081 weight=1;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8082 weight=2;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8083 weight=1;")]),s._v("\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("权重方式，在轮询策略的基础上指定轮询的几率")]),s._v(" "),a("li",[s._v("weight参数用于指定轮询的几率，weight的默认值为1，weight的数值与访问比率成正比")]),s._v(" "),a("li",[s._v("权重越高分配到的处理越多")]),s._v(" "),a("li",[s._v("此策略可以与least_conn和ip_hash结合使用")]),s._v(" "),a("li",[s._v("此策略比较适合服务器的硬件配置差别比较大的情况")])]),s._v(" "),a("h4",{attrs:{id:"_11-3-3、ip-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-3-3、ip-hash"}},[s._v("#")]),s._v(" 11.3.3、ip_hash")]),s._v(" "),a("ul",[a("li",[s._v("指定负载均衡服务器按照基于客户端IP的分配方式，这个方法确保了相同的客户端的请求一直发送到相同的服务器，以确保session会话，这样每个访客都固定访问一个后端服务器，可以解决session下不能跨服务器问题")])]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("upstream")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("myservers{")]),s._v("\n\tip_hash\t\t#保证每一个访客固定访问一个后端服务器\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8081 weight=1;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8082 weight=2;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8083 weight=1;")]),s._v("\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"_11-3-4、least-conn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-3-4、least-conn"}},[s._v("#")]),s._v(" 11.3.4、least_conn")]),s._v(" "),a("ul",[a("li",[s._v("把请求转发给连接数较少的后端服务器，轮询算法是把请求平均的转发给各个后端，使他们的负载大致相同；但是，有些请求占用的时间比较长，会导致其所在的后端负载比较高，这种情况下，least_conn这种方式就可以达到更好的负载均衡效果。")])]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("upstream")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("myservers{")]),s._v("\n\tleast_hash\t\t#把请求转发给连接数较少的后端服务器\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8081 weight=1;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8082 weight=2;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("\tserver")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("localhost:8083 weight=1;")]),s._v("\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"_12、docker部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12、docker部署"}},[s._v("#")]),s._v(" 12、Docker部署")]),s._v(" "),a("h3",{attrs:{id:"_12-1、docker安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-1、docker安装"}},[s._v("#")]),s._v(" 12.1、Docker安装")]),s._v(" "),a("p",[s._v("安装必要工具")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y yum-utils device-mapper-persistent-data lvm2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("设置yum源*")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("下载docker")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y docker-ce\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("启动docker")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl start "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_12-2、安装并连接mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-2、安装并连接mysql"}},[s._v("#")]),s._v(" 12.2、安装并连接mysql")]),s._v(" "),a("h4",{attrs:{id:"_12-2-1、拉取镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-1、拉取镜像"}},[s._v("#")]),s._v(" 12.2.1、拉取镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_12-2-2、制作容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-2、制作容器"}},[s._v("#")]),s._v(" 12.2.2、制作容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run --name mysql -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(":3306 -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql -d mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("docker run：docker制作容器的命令")]),s._v(" "),a("p",[s._v("--name：取别名")]),s._v(" "),a("p",[s._v("-p：端口映射，容器端口映射到本机端口")]),s._v(" "),a("p",[s._v("-e：设置mysql的密码")]),s._v(" "),a("p",[s._v("-d：容器名称")]),s._v(" "),a("h4",{attrs:{id:"_12-2-3、查看运行容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-3、查看运行容器"}},[s._v("#")]),s._v(" 12.2.3、查看运行容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"image-20220119011525205","data-src":"https://typora001-zc.oss-cn-chengdu.aliyuncs.com/typoraImg/image-20220119011525205.png",loading:"lazy"}})]),s._v(" "),a("h4",{attrs:{id:"_12-2-4、测试连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-4、测试连接"}},[s._v("#")]),s._v(" 12.2.4、测试连接")]),s._v(" "),a("blockquote",[a("p",[s._v("测试连接之前需要开启安全组")])]),s._v(" "),a("h4",{attrs:{id:"_12-2-5、关闭容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-5、关闭容器"}},[s._v("#")]),s._v(" 12.2.5、关闭容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_12-2-6、删除容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-6、删除容器"}},[s._v("#")]),s._v(" 12.2.6、删除容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_12-2-7、重启docker时也要重启mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-7、重启docker时也要重启mysql"}},[s._v("#")]),s._v(" 12.2.7、重启docker时也要重启Mysql")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run --name mysql --restart"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(":3306 -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql -d mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_12-3、安装redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-3、安装redis"}},[s._v("#")]),s._v(" 12.3、安装redis")]),s._v(" "),a("h4",{attrs:{id:"_12-3-1、拉取镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-3-1、拉取镜像"}},[s._v("#")]),s._v(" 12.3.1、拉取镜像")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull redis\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_12-3-2、制作容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-3-2、制作容器"}},[s._v("#")]),s._v(" 12.3.2、制作容器")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run --name redis --restart"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v(":6379 -d redis --requirepass "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"redis"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_12-4、安装es"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-4、安装es"}},[s._v("#")]),s._v(" 12.4、安装es")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("如果需要安装kibana等其他，需要创建一个网络，名字任意取，让他们在同一个网络，是的es和kibana通信\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" network create esnet\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull elasticsearch:7.9.2\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run --name elasticsearch -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v(":9200 -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9300")]),s._v(":9300 --network esnet -e "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"discovery.type=single-node"')]),s._v(" elasticsearch:7.9.2\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it elasticsearch /bin/bash //进入elasticsearch容器\n\n//设置跨域\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" config/elasticsearch.yml\n//添加以下内容并保存\nhttp.cors.enabled: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\nhttp.cors.allow-origin: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*"')]),s._v("\n\n//安装ik分词器 版本对应\nelasticsearch-plugin "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.9.2/elasticsearch-analysis-ik-7.9.2.zip\n\n//退出容器\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n//重启es\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" restart elasticsearch\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull mobz/elasticsearch-head:5\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d --name elasticsearch-head --net esnet -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9100")]),s._v(":9100 mobz/elasticsearch-head:5\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("h3",{attrs:{id:"_12-5、安装rabbitmq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-5、安装rabbitmq"}},[s._v("#")]),s._v(" 12.5、安装rabbitmq")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull rabbitmq:management //下载RabbitMQ对象\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run --name rabbit --restart"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15672")]),s._v(":15672 -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5672")]),s._v(":5672 -d rabbitmq:management //启动RabbitMQ，默认guest用户，密码也是guest\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_12-6、安装maxwell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-6、安装maxwell"}},[s._v("#")]),s._v(" 12.6、安装maxwell")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull zendesk/maxwell //下载maxwell镜像\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run --name maxwell --restart"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always -d zendesk/maxwell bin/maxwell --user"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'数据库用户名'")]),s._v(" --password"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'数据库密码'")]),s._v(" --host"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'IP地址'")]),s._v(" --producer"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("rabbitmq --rabbitmq_user"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MQ用户名'")]),s._v(" --rabbitmq_pass"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MQ用户'")]),s._v(" --rabbitmq_host"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'IP地址'")]),s._v(" --rabbitmq_port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'5672'")]),s._v(" --rabbitmq_exchange"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'maxwell'")]),s._v(" --rabbitmq_exchange_type"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fanout'")]),s._v(" --rabbitmq_exchange_durable"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'true'")]),s._v(" --filter"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'exclude: *.*,include: blog.tb_article.article_title = *, include: blog.tb_article.article_content = *,include: blog.tb_article.status = *'")]),s._v(" //运行MaxW\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);