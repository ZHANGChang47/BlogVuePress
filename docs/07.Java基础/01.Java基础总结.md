---
title: JavaåŸºç¡€æ€»ç»“
date: 2023-01-30 20:07:35
permalink: /pages/969e0f/
categories:
  - JavaåŸºç¡€
tags:
  - 
---
# 1ã€JavaåŸºç¡€å¤ä¹ 

## 1ã€Javaå¸¸è¯†

![image-20220925202327938](https://typora001-zc.oss-cn-chengdu.aliyuncs.com/typoraImg/image-20220925202327938.png)

![image-20220925210658844](https://typora001-zc.oss-cn-chengdu.aliyuncs.com/typoraImg/image-20220925210658844.png)

JavaSEï¼š18~20

æ•°æ®åº“ï¼š4

å‰ç«¯ï¼š7

JavaWebï¼š7

SSMæ¡†æ¶ï¼š9

Linuxï¼š7

SpringBootï¼š8

SpringCloudï¼š7

Hadoopï¼š8 

***

JavaSEï¼šæ ‡å‡†ç‰ˆï¼ˆæ¡Œé¢ç¨‹åºã€æ§åˆ¶å°å¼€å‘...ï¼‰

JavaMEï¼šåµŒå…¥å¼å¼€å‘ï¼ˆæ‰‹æœºã€å°å®¶ç”µ...ï¼‰

JavaEEï¼šä¼ä¸šçº§å¼€å‘ï¼ˆwebç«¯ã€æœåŠ¡å™¨å¼€å‘...ï¼‰

***

JDKï¼šJavaå¼€å‘è€…å·¥å…·

JREï¼šJavaè¿è¡Œæ—¶ç¯å¢ƒ

JVMï¼šJavaè™šæ‹Ÿæœº

***

Javaåœ¨cmdä¸­è¿è¡Œ Hello.java

```bash
#é¦–å…ˆè¿›å…¥å¯¹åº”æ–‡ä»¶å¤¹ï¼Œç¼–è¯‘æºä»£ç ï¼Œä½¿ç”¨javacç”Ÿæˆclassæ–‡ä»¶ 
javac Hello.java

#è¿è¡Œclassæ–‡ä»¶
java Hello
```

***

![image-20220925220616278](https://typora001-zc.oss-cn-chengdu.aliyuncs.com/typoraImg/image-20220925220616278.png)

## 2ã€å¸¸ç”¨Doc

```bash
#åˆ‡æ¢ç›˜ç¬¦
D:

#æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶
dir

#åˆ‡æ¢ç›®å½•
cd
cd /d f:
cd /d E:\ide
cd ..

#æ¸…ç†å±å¹•
cls

#é€€å‡ºç»ˆç«¯ 
exit

#æŸ¥çœ‹ip
ipconfig

#æ‰“å¼€åº”ç”¨
calc
mspaint
notepad

#ping å‘½ä»¤
ping www.baidu.com

#åˆ›å»ºç›®å½•
md test

#åˆ›å»ºä¸€ä¸ªæ–‡ä»¶
cd>a.txt

#åˆ é™¤ä¸€ä¸ªæ–‡ä»¶
del a.txt

#åˆ é™¤ç›®å½•
rd test
```

## 3ã€JavaåŸºç¡€çŸ¥è¯†

### 1ã€æ³¨é‡Š

å•è¡Œæ³¨é‡Šï¼š//

å¤šè¡Œæ³¨é‡Šï¼š/*   */

æ–‡æœ¬æ³¨é‡Šï¼š/**

â€‹							*@Description Hello

â€‹							*@Description World

â€‹							*/

â€‹						[æœ‰è¶£çš„ä»£ç æ³¨é‡Šæ•´ç†](https://blog.csdn.net/ydk888888/article/details/81563608)

### 2ã€æ ‡è¯†ç¬¦

Javaä¸­çš„ç±»åã€å˜é‡åä»¥åŠæ–¹æ³•åéƒ½è¢«ç§°ä¸ºæ ‡è¯†ç¬¦

å…³é”®å­—ä¸èƒ½åšæ ‡è¯†ç¬¦

### 3ã€ç±»å‹

åŸºæœ¬æ•°æ®ç±»å‹ï¼šbyteï¼ˆ1å­—èŠ‚ï¼‰ã€shortï¼ˆ2ï¼‰ã€intï¼ˆ4ï¼‰ ã€longï¼ˆ8 | 30Lï¼‰ã€floatï¼ˆ4 | 10.2Fï¼‰ã€

â€‹								   doubleï¼ˆ8 |  3.1415926ï¼‰ã€charï¼ˆ2ï¼‰ã€booleanï¼ˆ1ä½ï¼‰

å¼•ç”¨æ•°æ®ç±»å‹ï¼šç±»ã€æ•°ç»„ã€æ¥å£

ä½ï¼ˆbitï¼‰ï¼šæ˜¯è®¡ç®—æœº `å†…éƒ¨æ•°æ®` å­˜å‚¨çš„æœ€å°å•ä½ï¼Œ11101100æ˜¯ä¸€ä¸ªå…«ä½çš„äºŒè¿›åˆ¶æ•°

å­—èŠ‚ï¼ˆbyteï¼‰ï¼šæ˜¯è®¡ç®—æœºä¸­ `æ•°æ®å¤„ç†` çš„åŸºæœ¬å•ä½ï¼Œä¹ æƒ¯ä¸Šç”¨å¤§å†™Bæ¥è¡¨ç¤º

1B = 8bit

å­—ç¬¦ï¼šæ˜¯æŒ‡è®¡ç®—æœºä¸­ä½¿ç”¨çš„å­—æ¯ã€æ•°å­—ã€å­—å’Œç¬¦å·

### 4ã€æ•°æ®ç±»å‹æ‰©å±•

JDK7æ–°ç‰¹æ€§ï¼Œæ•°å­—ä¹‹é—´å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿è¿›è¡Œåˆ†å‰²ï¼šint money = 10_0000_0000; 

å½“æ•°æ®æº¢å‡ºintæ—¶ï¼Œä¼šå‡ºç°è´Ÿæ•°

äºŒè¿›åˆ¶ï¼š0b

åè¿›åˆ¶

å…«è¿›åˆ¶ï¼š0

åå…­è¿›åˆ¶ï¼š0x	0~9 A~F

```java
int i=10;		//10
int i2=010;		//8
int i3=0x10;	//16
```

***

æµ®ç‚¹æ•°å­˜åœ¨èˆå…¥è¯¯å·®ï¼Œæ¥è¿‘ä½†ä¸ç­‰äº

é“¶è¡Œä¸šåŠ¡ç­‰æœ€å¥½ä½¿ç”¨**`BigDecimal`**è¿™ä¸ªæ•°å­¦å·¥å…·ç±»æ¯”è¾ƒ

***

å­—ç¬¦charï¼šA=65ï¼Œa=97

è½¬ä¹‰å­—ç¬¦ï¼š\t åˆ¶è¡¨ç¬¦    \næ¢è¡Œ

### 5ã€å˜é‡

è¦ç´ åŒ…æ‹¬å˜é‡åã€å˜é‡ç±»å‹ã€ä½œç”¨åŸŸ

æˆå‘˜å˜é‡ï¼š

- æˆå‘˜å˜é‡åœ¨ç±»çš„èŒƒå›´é‡Œå®šä¹‰çš„çš„å˜é‡
- æˆå‘˜å˜é‡æœ‰é»˜è®¤çš„åˆå§‹å€¼
- æœªè¢«staticä¿®é¥°çš„æˆå‘˜å˜é‡ä¹Ÿå«å®ä¾‹å˜é‡ï¼Œå®ƒå­˜å‚¨äºå¯¹è±¡æ‰€åœ¨çš„å †å†…å­˜ä¸­ï¼Œç”Ÿå‘½å‘¨æœŸä¸å¯¹è±¡ç›¸åŒ
- è¢«staticä¿®é¥°çš„æˆå‘˜å˜é‡ä¹Ÿå«ç±»å˜é‡ï¼Œå®ƒå­˜å‚¨äºæ–¹æ³•åŒºä¸­ï¼Œç”Ÿå‘½å‘¨æœŸä¸å½“å‰ç±»ç›¸åŒ

å±€éƒ¨å˜é‡

- å±€éƒ¨å˜é‡æ˜¯åœ¨æ–¹æ³•é‡Œå®šä¹‰çš„å˜é‡

- å±€éƒ¨å˜é‡æ˜¯æ²¡æœ‰é»˜è®¤åˆå§‹å€¼

- å±€éƒ¨å˜é‡å­˜å‚¨äºæ ˆå†…å­˜ä¸­ï¼Œä½œç”¨èŒƒå›´ç»“æŸï¼Œå˜é‡ç©ºé—´ä¼šè‡ªåŠ¨é‡Šæ”¾

### 6ã€JavaDOC

JavaDocå‘½ä»¤ç”¨æ¥ç”Ÿæˆè‡ªå·±APIæ–‡æ¡£çš„

- @author	ä½œè€…å
- @version	ç‰ˆæœ¬å·
- @since		æŒ‡æ˜éœ€è¦æœ€æ—©ä½¿ç”¨çš„jdkç‰ˆæœ¬
- @param	 å‚æ•°å
- @return	  è¿”å›å€¼æƒ…å†µ
- @throws	 å¼‚å¸¸æŠ›å‡ºæƒ…å†µ

```bash
javadoc -encoding UTF-8 -charset UTF-8 Doc.java
```

javadoc å‚æ•° javaæ–‡ä»¶

### 7ã€å‘½ä»¤è¡Œä¼ å‚

æœ‰æ—¶å€™å¸Œæœ›è¿è¡Œä¸€ä¸ªç¨‹åºæ—¶å€™å†ç»™å®ƒä¼ æ¶ˆæ¯ï¼Œè¿™è¦é ä¼ é€’å‘½ä»¤è¡Œå‚æ•°ç»™main()å‡½æ•°å®ç°

```java
package com.chang;

public class Main {
    public static void main(String[] args) {
        for(int i=0;i<args.length;i++){
            System.out.println("args["+i+"]:"+args[i]);
        }
    }
}
```

```shell
PS C:\Users\DELL\OneDrive\Knowledge\0.JZOffer\src\main\java\com\chang> javac Main.java
PS C:\Users\DELL\OneDrive\Knowledge\0.JZOffer\src\main\java\com\chang> cd ../
PS C:\Users\DELL\OneDrive\Knowledge\0.JZOffer\src\main\java\com> cd ../
PS C:\Users\DELL\OneDrive\Knowledge\0.JZOffer\src\main\java> java com.chang.Main
PS C:\Users\DELL\OneDrive\Knowledge\0.JZOffer\src\main\java> java com.chang.Main Hello World !
args[0]:Hello
args[1]:World
args[2]:!
PS C:\Users\DELL\OneDrive\Knowledge\0.JZOffer\src\main\java>
```

### 8ã€å¯å˜å‚æ•°

åœ¨JDK1.5å¼€å§‹ï¼ŒJavaæ”¯æŒä¼ é€’åŒç±»å‹çš„å¯å˜å‚æ•°ç»™ä¸€ä¸ªæ–¹æ³•

åœ¨æ–¹æ³•çš„å£°æ˜ä¸­ï¼Œåœ¨æŒ‡å®šå‚æ•°**ç±»å‹**ååŠ ä¸€ä¸ªçœç•¥å·ï¼ˆ...ï¼‰

ä¸€ä¸ªæ–¹æ³•åªèƒ½æŒ‡å®šä¸€ä¸ªå¯å˜å‚æ•°ï¼Œå®ƒå¿…é¡»æ˜¯æ–¹æ³•çš„**æœ€åä¸€ä¸ªå‚æ•°**ã€‚ä»»ä½•æ™®é€šçš„å‚æ•°å¿…é¡»åœ¨å®ƒä¹‹å‰å£°æ˜ã€‚

```java
public class Main {
    public static void main(String[] args) {
        //ä¸¤ç§ä¼ å‚æ–¹æ³•
        double res=getALL(10.5,new int[]{1,2,3});
        double res=getALL(10.5,1,2,3);
        System.out.println(res);
    }

    public static double getALL(double f,int... num){
        //è¾“å‡ºå¯å˜å‚æ•°çš„é•¿åº¦
        System.out.println(num.length);
        
        for(int i : num){
            //å¼ºåˆ¶åŸºæœ¬ç±»å‹æ•°æ®çš„ç±»å‹è½¬æ¢  int â€”â€”> double
            f+=i;
        }
        
        return f;
    }
}
```

## 4ã€æ³¨è§£ä¸åå°„

æ³¨è§£ä¸æ˜¯ç¨‹åºæœ¬èº«ï¼Œå¯ä»¥å¯¹ç¨‹åºåšå‡ºè§£é‡Šï¼Œå¯ä»¥è¢«å…¶ä»–ç¨‹åºï¼ˆæ¯”å¦‚ï¼šç¼–è¯‘å™¨ç­‰ï¼‰è¯»å–

æ³¨è§£Annotationæ˜¯ä»¥â€œ@æ³¨é‡Šåâ€åœ¨ä»£ç ä¸­å­˜åœ¨çš„ï¼Œè¿˜å¯ä»¥æ·»åŠ ä¸€äº›å‚æ•°å€¼ï¼Œä¾‹å¦‚ï¼š

```java
@SuppressWarnings(value="unchecked")
```

### 1ã€å…ƒæ³¨è§£

å…ƒæ³¨è§£å°±æ˜¯è´Ÿè´£æ³¨è§£å…¶ä»–æ³¨è§£ï¼ŒJavaä¸­å®šä¹‰äº†4ä¸ªæ ‡å‡†çš„meta-annotationç±»å‹ï¼Œå®ƒä»¬è¢«ç”¨æ¥æä¾›å¯¹å…¶ä»–çš„annotationç±»å‹è¿›è¡Œè¯´æ˜

è¿™äº›ç±»å‹å’Œå®ƒä»¬æ‰€æ”¯æŒçš„ç±»åœ¨Java.lang.annotationåŒ…ä¸­æ‰¾åˆ°

- @Targetï¼šç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼ˆå³ï¼šè¢«æè¿°çš„æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼‰
- @Retentionï¼šè¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯ï¼Œç”¨äºæè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼ˆSOURCE<CLASS<**RUNTIME**ï¼‰
- @Documentï¼šè¯´æ˜è¯¥æ³¨è§£è¢«åŒ…å«åœ¨javadocä¸­
- @Inheritedï¼šè¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£

### 2ã€è‡ªå®šä¹‰æ³¨è§£

ä½¿ç”¨@interfaceè‡ªå®šä¹‰æ³¨è§£ï¼Œè‡ªåŠ¨ç»§æ‰¿java.lang.annotation.Annotationæ¥å£

åˆ†æï¼š

- @interfaceç”¨æ¥å£°æ˜ä¸€ä¸ªæ³¨è§£ï¼Œæ ¼å¼ï¼špublic @interface æ³¨è§£å {å®šä¹‰å†…å®¹}
- å…¶ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å®é™…ä¸Šå£°æ˜äº†ä¸€ä¸ªé…ç½®å‚æ•°
- æ–¹æ³•çš„åç§°å°±æ˜¯å‚æ•°çš„åç§°
- è¿”å›å€¼ç±»å‹å°±æ˜¯å‚æ•°çš„ç±»å‹ï¼Œè¿”å›å€¼åªèƒ½æ˜¯åŸºæœ¬ç±»å‹Classã€Stringã€enum
- å¯ä»¥é€šè¿‡defaultæ¥å£°æ˜å‚æ•°çš„é»˜è®¤å€¼
- å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°æˆå‘˜ï¼Œä¸€èˆ¬å‚æ•°åæœªvalue
- æ³¨è§£å…ƒç´ å¿…é¡»è¦æœ‰å€¼ï¼Œæˆ‘ä»¬å®šä¹‰æ³¨è§£å…ƒç´ æ—¶ï¼Œç»å¸¸ä½¿ç”¨ç©ºå­—ç¬¦ä¸²ï¼Œ0ä½œä¸ºé»˜è®¤å€¼ 

```java
package com.chang.annotation;

import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

public class Test03 {
    //æ³¨è§£å¯ä»¥æ˜¾ç¤ºèµ‹å€¼ï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤å€¼ï¼Œæˆ‘ä»¬å¿…é¡»ç»™æ³¨è§£èµ‹å€¼
//    @MyAnnotation2(name="zhangChang",schools = {"è¥¿å®‰äº¤å¤§ã€è¥¿å®‰ç”µå­"})
    @MyAnnotation2()
    public void test(){

    }

    @MyAnnotation3("niHao")
    public void test2(){

    }
}

@Target({ElementType.METHOD,ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@interface MyAnnotation2{
    //æ³¨è§£çš„å‚æ•°ï¼šå‚æ•°ç±»å‹ + å‚æ•°å() default é»˜è®¤å€¼
    String name() default "";
    int age() default 0;
    int id() default -1;//å¦‚æœé»˜è®¤å€¼ä¸º-1ï¼Œä»£è¡¨æ‰¾ä¸åˆ°ã€ä¸å­˜åœ¨

    String[] schools() default {"è¥¿å®‰äº¤å¤§ã€è¥¿å®‰ç”µå­"};
}

@Target({ElementType.METHOD,ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@interface MyAnnotation3{
    String value();
}
```

### 3ã€åå°„æ¦‚è¿°

Java.Reflection

åŠ¨æ€è¯­è¨€æ˜¯ä¸€ç±»åœ¨è¿è¡Œæ—¶å¯ä»¥æ”¹å˜å…¶ç»“æ„çš„è¯­è¨€ï¼Œä¾‹å¦‚æ–°çš„å‡½æ•°ã€å¯¹è±¡ã€ç”šè‡³ä»£ç å¯ä»¥è¢«å¼•è¿›ï¼Œå·²æœ‰çš„å‡½æ•°å¯ä»¥è¢«åˆ é™¤æˆ–æ˜¯å…¶ä»–ç»“æ„ä¸Šçš„æ”¹å˜ï¼Œé€šä¿—ç‚¹è¯´å°±æ˜¯åœ¨è¿è¡Œæ—¶ä»£ç å¯ä»¥æ ¹æ®æŸäº›æ¡ä»¶æ”¹å˜è‡ªèº«çš„ç»“æ„

ä¸»è¦çš„åŠ¨æ€è¯­è¨€ï¼šObject-Cã€C#ã€JavaScriptã€PHPã€Pythonç­‰

é™æ€è¯­è¨€ä¸åŠ¨æ€è¯­è¨€ç›¸å¯¹åº”ï¼Œè¿è¡Œæ—¶ç»“æ„ä¸å¯å˜çš„è¯­è¨€å°±æ˜¯é™æ€è¯­è¨€ã€‚å¦‚Javaã€Cã€C++

Javaä¸æ˜¯åŠ¨æ€è¯­è¨€ï¼Œä½†Javaå¯ä»¥è¢«ç§°ä¸ºâ€œå‡†åŠ¨æ€è¯­è¨€â€ã€‚å³javaæœ‰ä¸€å®šçš„åŠ¨æ€æ€§ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨åå°„æœºåˆ¶è·å¾—ç±»ä¼¼åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ã€‚Javaçš„åŠ¨æ€æ€§è®©ç¼–ç¨‹çš„æ—¶å€™æ›´åŠ çµæ´»

Reflectionï¼ˆåå°„ï¼‰æ˜¯Javaè¢«è§†ä¸ºåŠ¨æ€è¯­è¨€çš„å…³é”®ï¼Œåå°„æœºåˆ¶å…è®¸ç¨‹åºåœ¨æ‰§è¡Œ æœŸé—´å€ŸåŠ©äºReflection APIè·å–ä»»ä½•ç±»çš„å†…éƒ¨ä¿¡æ¯ï¼Œå¹¶èƒ½ç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§åŠæ–¹æ³•

```java
Class c = Class.forName("java.lang.String")
```

åŠ è½½å®Œç±»åï¼Œåœ¨å †å†…å­˜çš„æ–¹æ³•åŒºä¸­å°±äº§ç”Ÿäº†ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡ï¼ˆä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªClasså¯¹è±¡ï¼‰ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡çœ‹åˆ°ç±»çš„ç»“æ„ã€‚è¿™ä¸ªå¯¹è±¡å°±åƒä¸€é¢é•œå­ï¼Œé€è¿‡è¿™ä¸ªé•œå­çœ‹åˆ°ç±»çš„ç»“æ„ï¼Œæ‰€ä»¥æˆ‘ä»¬å½¢è±¡çš„ç§°ä¸ºåå°„ã€‚

æ­£å¸¸æ–¹å¼ï¼šå¼•å…¥éœ€è¦çš„â€œåŒ…ç±»â€åç§°â€”â€”>é€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–â€”â€”>å–å¾—å®ä¾‹åŒ–å¯¹è±¡

åå°„æ–¹å¼ï¼šå®ä¾‹åŒ–å¯¹è±¡â€”â€”>getClass()æ–¹æ³•â€”â€”>å–å¾—å®Œæ•´çš„â€œåŒ…ç±»â€åç§°

åå°„çš„ä¼˜ç‚¹ï¼šå¯ä»¥å®ç°åŠ¨æ€åˆ›å»ºå¯¹è±¡å’Œç¼–è¯‘ï¼Œä½“ç°å¾ˆå¤§çš„çµæ´»æ€§ã€‚

åå°„çš„ç¼ºç‚¹ï¼šå¯¹æ€§èƒ½æœ‰å½±å“ã€‚ä½¿ç”¨åå°„åŸºæœ¬ä¸Šæ˜¯ä¸€ç§è§£é‡Šæ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å‘Šè¯‰JVMï¼Œæˆ‘ä»¬å¸Œæœ›åšä»€ä¹ˆå¹¶ä¸”å®ƒæ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ã€‚è¿™ç±»æ“ä½œæ€»æ˜¯æ…¢äºç›´æ¥æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚

```java
java.lang.Classï¼šä»£è¡¨ä¸€ä¸ªç±»
java.lang.reflect.Methodï¼šä»£è¡¨ç±»çš„æ–¹æ³•
java.lang.reflect.Fieldï¼šä»£è¡¨ç±»çš„æˆå‘˜å˜é‡
java.lang.reflect.Constructorï¼šä»£è¡¨ç±»çš„æ„é€ å™¨
```

### 4ã€è·å–Classç±»çš„å®ä¾‹

1. è‹¥å·²çŸ¥å…·ä½“çš„ç±»ï¼Œé€šè¿‡ç±»çš„classå±æ€§è·å–ï¼Œè¯¥æ–¹æ³•æœ€ä¸ºå®‰å…¨å¯é ï¼Œç¨‹åºæ€§èƒ½æœ€é«˜

   ```java
   Class clazz = Person.class; 
   ```

2. å·²çŸ¥æŸä¸ªç±»çš„å®ä¾‹ï¼Œè°ƒç”¨è¯¥å®ä¾‹çš„getClass()æ–¹æ³•è·å–classå¯¹è±¡

   ```java
   Class clazz = person.getClass();
   ```

3. å·²çŸ¥ä¸€ä¸ªç±»çš„å…¨åï¼Œä¸”è¯¥ç±»åœ¨ç±»è·¯å¾„ä¸‹ï¼Œå¯é€šè¿‡Classç±»çš„é™æ€æ–¹æ³•forName()è·å–ï¼Œå¯èƒ½æŠ›å‡ºClassNotFoundException

   ```java
   Class clazz = Class.forName("com.compue.Student");
   ```

4. å†…ç½®åŸºæœ¬æ•°æ®ç±»å‹çš„åŒ…è£…ç±»å¯ä»¥ç›´æ¥ä½¿ç”¨ç±»å.type

5. è¿˜å¯ä»¥åˆ©ç”¨ClassLoader

### 5ã€å“ªäº›ç±»å‹å¯ä»¥æœ‰classå¯¹è±¡

classï¼šå¤–éƒ¨ç±»ã€æˆå‘˜ï¼ˆæˆå‘˜å†…éƒ¨ç±»ã€é™æ€å†…éƒ¨ç±»ï¼‰ã€å±€éƒ¨å†…éƒ¨ç±»ã€åŒ¿åå†…éƒ¨ç±»

interfaceï¼šæ¥å£

[]ï¼šæ•°ç»„

enumï¼šæšä¸¾

annotationï¼šæ³¨è§£@interface

primitive typeï¼šåŸºæœ¬æ•°æ®ç±»å‹

void

### 6ã€ä»€ä¹ˆæ—¶å€™å‘ç”Ÿç±»çš„åˆå§‹åŒ–

- ç±»çš„ä¸»åŠ¨å¼•ç”¨ï¼š
  - å½“è™šæ‹Ÿæœºå¯åŠ¨ï¼Œå…ˆåˆå§‹åŒ–mainæ–¹æ³•æ‰€åœ¨çš„ç±»
  - newä¸€ä¸ªç±»çš„å¯¹è±¡
  - è°ƒç”¨ç±»çš„é™æ€æˆå‘˜ï¼ˆé™¤äº†finalå¸¸é‡ï¼‰å’Œé™æ€æ–¹æ³•
  - ä½¿ç”¨java.lang.reflectåŒ…çš„æ–¹æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨
  - å½“åˆå§‹åŒ–ä¸€ä¸ªç±»ï¼Œå¦‚æœçˆ¶ç±»æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™å…ˆåˆå§‹åŒ–å®ƒçš„çˆ¶ç±»
- ç±»çš„è¢«åŠ¨å¼•ç”¨ï¼ˆä¸ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰ï¼š
  - å½“è®¿é—®ä¸€ä¸ªé™æ€åŸŸæ—¶ï¼Œåªæœ‰çœŸæ­£å£°æ˜è¿™ä¸ªåŸŸçš„ç±»æ‰ä¼šè¢«åˆå§‹åŒ–ã€‚å¦‚ï¼šå½“é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å˜é‡ï¼Œä¸ä¼šå¯¼è‡´å­ç±»åˆå§‹åŒ–
  - é€šè¿‡æ•°ç»„å®šä¹‰ç±»å¼•ç”¨ï¼Œä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–
  - å¼•ç”¨å¸¸é‡ä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–ï¼ˆå¸¸é‡åœ¨é“¾æ¥é˜¶æ®µå°±å­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± ä¸­äº†ï¼‰

### 7ã€ä½¿ç”¨åå°„è°ƒç”¨æ³¨è§£

```java
package com.chang.annotation;

import java.lang.annotation.*;
import java.lang.reflect.Field;

//ç»ƒä¹ åå°„æ“ä½œæ³¨è§£
public class Test04 {
    public static void main(String[] args) throws ClassNotFoundException, NoSuchFieldException {
        Class<?> c1 = Class.forName("com.chang.annotation.Students");

        //é€šè¿‡åå°„è·å–æ³¨è§£
        Annotation[] annotations = c1.getAnnotations();
        for(Annotation annotation:annotations){
            System.out.println(annotation);
        }

        //è·å¾—æ³¨è§£çš„valueçš„å€¼
        TableStudents tableStudents = c1.getAnnotation(TableStudents.class);
        String value = tableStudents.value();
        System.out.println(value);

        //è·å¾—ç±»æŒ‡å®šçš„æ³¨è§£
        Field f = c1.getDeclaredField("name");
        FieldStudents fieldStudents = f.getAnnotation(FieldStudents.class);
        System.out.println(fieldStudents.columnName());
        System.out.println(fieldStudents.type());
        System.out.println(fieldStudents.length());
    }
}

//ç±»åçš„æ³¨è§£
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@interface TableStudents{
    String value();
}

@Target(ElementType.FIELD)
@Retention(RetentionPolicy.RUNTIME)
@interface FieldStudents{
    String columnName();
    String type();
    int length();
}

@TableStudents("db_student")
class Students{
    @FieldStudents(columnName = "db_id",type = "int",length = 10)
    private int id;
    @FieldStudents(columnName = "db_age",type = "int",length = 10)
    private int age;
    @FieldStudents(columnName = "db_name",type = "varchar",length = 10)
    private String name;

    public Students() {
    }

    public Students(int id, int age, String name) {
        this.id = id;
        this.age = age;
        this.name = name;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    @Override
    public String toString() {
        return "Students{" +
                "id=" + id +
                ", age=" + age +
                ", name='" + name + '\'' +
                '}';
    }
}

/*
@com.chang.annotation.TableStudents(value=db_student)
db_student
db_name
varchar
10
*/
```

## 5ã€å¤šçº¿ç¨‹ç¼–ç¨‹

### 1ã€ç»§æ‰¿Threadç±»

- è‡ªå®šä¹‰çº¿ç¨‹ç±»ç»§æ‰¿**Thread**ç±»
- é‡å†™**run()**æ–¹æ³•ï¼Œç¼–å†™çº¿ç¨‹æ‰§è¡Œä½“
- åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œè°ƒç”¨**start()**æ–¹æ³•å¯åŠ¨çº¿ç¨‹

```java
package com.chang.Thread;

//åˆ›å»ºçº¿ç¨‹æ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±»ï¼Œé‡å†™run()æ–¹æ³•ï¼Œè°ƒç”¨start()å¼€å¯çº¿ç¨‹

//çº¿ç¨‹å¼€å¯å¹¶ä¸ä¸€å®šç«‹å³æ‰§è¡Œï¼Œç”±CPUè°ƒåº¦

public class TestThread1 extends Thread{

    @Override
    public void run() {
        //runæ–¹æ³•çº¿ç¨‹ä½“
        for(int i=0;i<20;i++){
            System.out.println("æˆ‘åœ¨çœ‹ä»£ç ã€‚ã€‚ã€‚"+i);
        }
    }

    public static void main(String[] args) {
        TestThread1 testThread1 = new TestThread1();
        testThread1.start();

        //mainä¸»çº¿ç¨‹
        for(int i=0;i<20;i++){
            System.out.println("æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹ã€‚ã€‚ã€‚"+i);
        }
    }
}
```

### 2ã€å®ç°Runableæ¥å£

- å®šä¹‰MyRunableç±»å®ç°Runableæ¥å£
- å®ç°Run()æ–¹æ³•ï¼Œç¼–å†™çº¿ç¨‹æ‰§è¡Œä½“
- åˆ›å»ºå®ç°ç±»å¯¹è±¡ä»¥åŠä»£ç†ç±»å¯¹è±¡ï¼Œè°ƒç”¨start()æ–¹æ³•

```java
package com.chang.Thread;

public class TestThread2 implements Runnable{
    @Override
    public void run() {
        for(int i=0;i<20;i++){
            System.out.println("æˆ‘åœ¨çœ‹ä»£ç ã€‚ã€‚ã€‚"+i);
        }
    }

    public static void main(String[] args) {
        //åˆ›å»ºRunableæ¥å£çš„å®ç°ç±»å¯¹è±¡
        TestThread2 testThread2 = new TestThread2();
        //åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œé€šè¿‡çº¿ç¨‹å¯¹è±¡æ¥å¼€å¯æˆ‘ä»¬çš„çº¿ç¨‹ï¼Œä»£ç†
        Thread thread = new Thread(testThread2);
        thread.start();

        for(int i=0;i < 20;i++){
            System.out.println("æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹ã€‚ã€‚ã€‚"+i);
        }
    }
}
```

### 3ã€åˆè¯†å¹¶å‘é—®é¢˜

```java
package com.chang.Thread;

//å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œä¸€ä¸ªå¯¹è±¡
//ä¹°ç«è½¦ç¥¨
//å‘ç°é—®é¢˜ï¼Œå¤šä¸ªçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªèµ„æºçš„æƒ…å†µä¸‹ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•°æ®ç´Šä¹±
public class TestThread3 implements Runnable{

    //ç¥¨æ•°
    private int ticketNums=10;

    @Override
    public void run() {
        while (true){
            if(ticketNums<=0){
                break;
            }
            //æ¨¡æ‹Ÿå»¶æ—¶
            try {
                Thread.sleep(200);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            System.out.println(Thread.currentThread().getName()+"-->æ‹¿åˆ°äº†ç¬¬"+ticketNums--+"å¼ ç¥¨");
        }
    }

    public static void main(String[] args) {
        TestThread3 testThread3 = new TestThread3();

        //å¼€å¯ä¸‰ä¸ªçº¿ç¨‹
        new Thread(testThread3,"å°æ˜").start();
        new Thread(testThread3,"å°çº¢").start();
        new Thread(testThread3,"é»„ç‰›å…š").start();
    }
}
```

é¾Ÿå…”èµ›è·‘é—®é¢˜

```java
package com.chang.Thread;

//æ¨¡æ‹Ÿé¾Ÿå…”èµ›è·‘
public class Race implements Runnable{
    //èƒœåˆ©è€…ï¼Œä½¿ç”¨staticç¡®ä¿åªæœ‰ä¸€ä¸ª
    private static String winner;

    @Override
    public void run() {
        for(int i=1;i<=100;i++){
            //æ¨¡æ‹Ÿå…”å­ç¡è§‰ä¼‘æ¯
            if(Thread.currentThread().getName().equals("å…”å­") && i%15==0){
                try {
                    Thread.sleep(1);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
            //åˆ¤æ–­æ¯”èµ›æ˜¯å¦ç»“æŸ
            boolean flag = gameOver(i);
            //å¦‚æœæ¯”èµ›ç»“æŸå°±åœæ­¢ç¨‹åº
            if(flag){
                break;
            }
            System.out.println(Thread.currentThread().getName()+"â€”â€”>è·‘äº†"+i+"æ­¥");
        }
    }

    //åˆ¤æ–­æ˜¯å¦å®Œæˆæ¯”èµ›
    private boolean gameOver(int steps){
        if(winner!=null){
            return true;
        }
        if(steps>=100){
            winner=Thread.currentThread().getName();
            System.out.println("Winner is "+ winner);
            return true;
        }
        return false;
    }

    public static void main(String[] args) {
        //å®šä¹‰ä¸€æ¡èµ›é“
        Race race= new Race();

        //å®šä¹‰é¾Ÿå…”
        new Thread(race,"ä¹Œé¾Ÿ").start();
        new Thread(race,"å…”å­").start();
    }

}
```

### 4ã€å®ç°Callableæ¥å£

- å®ç°Callableæ¥å£ï¼Œéœ€è¦è¿”å›å€¼ç±»å‹
- é‡å†™Callæ–¹æ³•ï¼Œéœ€è¦æŠ›å‡ºå¼‚å¸¸
- åˆ›å»ºç›®æ ‡å¯¹è±¡
- åˆ›å»ºæ‰§è¡ŒæœåŠ¡ï¼šExecutorService ser = Executors.newFixedThreadPool(1);
- æäº¤æ‰§è¡Œï¼šFuture\<Boolean\> result1 = ser.submit(t1);
- è·å–ç»“æœï¼šboolean r1 = result1.get();
- å…³é—­æœåŠ¡ï¼šser.shutdownNow();

### 5ã€lambdaè¡¨è¾¾å¼

å‡½æ•°å¼æ¥å£æ˜¯Lambdaå…³é”®æ‰€åœ¨

å‡½æ•°å¼æ¥å£å®šä¹‰ï¼š

ä»»ä½•æ¥å£ï¼Œå¦‚æœåªåŒ…å«å”¯ä¸€ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£

```java
public interface Runable{
    public abstract void run();
}
```

å¯¹äºå‡½æ•°å¼æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡lambdaè¡¨è¾¾å¼æ¥åˆ›å»ºè¯¥æ¥å£çš„å¯¹è±¡

### 6ã€é™æ€ä»£ç†å¯¹è±¡

```java
package com.chang.Thread;

//é™æ€ä»£ç†æ¨¡å¼æ€»ç»“ï¼š
    //çœŸå®å¯¹è±¡å’Œä»£ç†å¯¹è±¡éƒ½è¦å®ç°æŸä¸€ä¸ªå…±æœ‰æ¥å£
    //ä»£ç†å¯¹è±¡è¦ä»£ç†çœŸå®è§’è‰²
//å¥½å¤„ï¼š
    //ä»£ç†å¯¹è±¡å¯ä»¥åšå¾ˆå¤šçœŸå®å¯¹è±¡åšä¸äº†çš„äº‹æƒ…
    //çœŸå®å¯¹è±¡ä¸“æ³¨åšè‡ªå·±çš„äº‹æƒ…
public class StaticProxy {
    public static void main(String[] args) {
        WeddingCompany weddingCompany = new WeddingCompany(new You());
        weddingCompany.HappyMarry();
    }
}

interface Marry{
    void HappyMarry();
}

class You implements Marry{
    @Override
    public void HappyMarry() {
        System.out.println("å¼ å…ˆç”Ÿä½œä¸ºæ–°éƒæ¥åˆ°å©šç¤¼ç°åœº");
    }
}

class WeddingCompany implements Marry{
    //è¢«ä»£ç†çš„å¯¹è±¡ã€çœŸå®ç›®æ ‡è§’è‰²ï¼Œé€šè¿‡æ„é€ å™¨ä¼ è¿›æ¥
    private Marry target;

    public WeddingCompany(Marry target) {
        this.target = target;
    }

    @Override
    public void HappyMarry() {
        before();
        this.target.HappyMarry();   //è¿™å°±æ˜¯çœŸå®å¯¹è±¡
        after();
    }

    public void after() {
        System.out.println("å©šç¤¼ç»“æŸï¼Œæ”¶æ‹¾ä¼šåœº");
    }

    public void before() {
        System.out.println("å©šç¤¼å¼€å§‹ï¼Œä¸»æŒç°åœº");
    }
}
```

### 7ã€çº¿ç¨‹åœæ­¢

```java
package com.chang.Thread;

//æµ‹è¯•stop
//1ã€å»ºè®®çº¿ç¨‹æ­£å¸¸åœæ­¢â€”â€”>åˆ©ç”¨æ¬¡æ•°ï¼Œä¸å»ºè®®æ­»å¾ªç¯
//2ã€å»ºè®®ä½¿ç”¨æ ‡å¿—ä½â€”â€”>è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½
//3ã€ä¸è¦ä½¿ç”¨stopæˆ–è€…destroyç­‰è¿‡æ—¶æˆ–è€…JDKä¸å»ºè®®ä½¿ç”¨çš„æ–¹æ³•
public class ThreadStop implements Runnable{

    //è®¾ç½®ä¸€ä¸ªç§æœ‰çš„æ ‡å¿—ä½
    private boolean flag=true;

    @Override
    public void run() {
        int i=0;
        while (flag){
            System.out.println("run...Thread"+i++);
        }
    }

    private void stop(){
        this.flag=false;
    }

    public static void main(String[] args) {
        ThreadStop threadStop = new ThreadStop();
        new Thread(threadStop).start();

        for (int i = 0; i < 100; i++) {
            System.out.println("main"+i);
            if(i==90){
                //è°ƒç”¨stopæ–¹æ³•åˆ‡æ¢æ ‡å¿—ä½ï¼Œè®©çº¿ç¨‹åœæ­¢
                threadStop.stop();
                System.out.println("çº¿ç¨‹åœæ­¢äº†");
            }
        }
    }
} 
```

### 8ã€çº¿ç¨‹åŒæ­¥

```java
package com.chang.Thread;

public class UnsafeBuyTicket {
    public static void main(String[] args) {
        BuyTicket station = new BuyTicket();

        new Thread(station,"å°æ˜").start();
        new Thread(station,"å°çº¢").start();
        new Thread(station,"é»„ç‰›").start();

    }
}

class BuyTicket implements Runnable{

    //ç¥¨
    private int ticketNums = 1000;
    private boolean flag=true;//å¤–éƒ¨åœæ­¢æ–¹å¼

    @Override
    public void run() {
        //ä¹°ç¥¨
        while (flag){
            try {
                buy();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }

    }

    private synchronized void buy() throws InterruptedException {
        //åˆ¤æ–­æ˜¯å¦æœ‰ç¥¨
        if(ticketNums<=0){
            flag=false;
            return;
        }
        Thread.sleep(100);
        //ä¹°ç¥¨
        System.out.println(Thread.currentThread().getName()+"æ‹¿åˆ°"+ticketNums--);
    }
}
```

ä¹Ÿå¯ä»¥ä½¿ç”¨synchronizedåŒæ­¥ä»£ç å—

synchronizedé»˜è®¤é”çš„æ˜¯this

é”çš„å¯¹è±¡å°±æ˜¯å˜åŒ–çš„é‡ï¼Œéœ€è¦å¢åˆ æ”¹æŸ¥çš„å¯¹è±¡

```java
new Thread(()->{
	synchroniaed(list){
        list.add(Thread.currentThread().getName()); 
    }   
}).start();
```

### 9ã€Locké”

```java
package com.chang.Thread;

import java.util.concurrent.locks.ReentrantLock;

public class TestLock {
    public static void main(String[] args) {
        TestLock2 testLock2 = new TestLock2();

        new Thread(testLock2).start();
        new Thread(testLock2).start();
        new Thread(testLock2).start();
    }
}

class TestLock2 implements Runnable{

    int ticketNums=10;

    //å®šä¹‰é”
    private final ReentrantLock lock = new ReentrantLock();


    @Override
    public void run() {
        while (true){
            try{
                lock.lock();//åŠ é”
                if(ticketNums>0){
                    try {
                        Thread.sleep(100);
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                    System.out.println(ticketNums--);
                }else {
                    break;
                }
            }finally {
                lock.unlock();//è§£é”
            }
        }
    }
}
```

### 10ã€ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹

#### åˆ©ç”¨ç¼“å†²åŒºè§£å†³ï¼šç®¡ç¨‹æ³•

```java
package com.chang.Thread;

//æµ‹è¯•ï¼šç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹â€”â€”>åˆ©ç”¨ç¼“å†²åŒºè§£å†³ï¼šç®¡ç¨‹æ³•
public class TestPC {
    public static void main(String[] args) {
        SynContainer container = new SynContainer();
        Producer producer = new Producer(container);
        producer.start();
        Consumer consumer = new Consumer(container);
        consumer.start();
    }
}

//ç”Ÿäº§è€…
class Producer extends Thread{
    SynContainer container;

    public Producer(SynContainer container){
        this.container=container;
    }

    @Override
    public void run() {
        for (int i = 0; i < 100; i++) {
            container.push(new Chicken(i));
            System.out.println("ç”Ÿäº§äº†"+i+"åªé¸¡");
        }
    }
}

//æ¶ˆè´¹è€…
class Consumer extends Thread{
    SynContainer container;

    public Consumer(SynContainer container){
        this.container=container;
    }

    @Override
    public void run() {
        for (int i = 0; i < 100; i++) {
            System.out.println("æ¶ˆè´¹äº†â€”â€”>"+container.pop().id+"åªé¸¡");
        }
    }
}

//äº§å“
class Chicken{
    int id;//äº§å“ç¼–å·

    public Chicken(int id){
        this.id=id;
    }
}

//ç¼“å†²åŒº
class SynContainer{
    //éœ€è¦ä¸€ä¸ªå®¹å™¨å¤§å°
    Chicken[] chickens = new Chicken[10];

    //å®¹å™¨è®¡æ•°å™¨
    int count = 0;

    //éœ€è¦ç”Ÿäº§è€…æ”¾å…¥äº§å“
    public synchronized void push(Chicken chicken){
        //å¦‚æœå®¹å™¨æ»¡äº†è¦ç­‰å¾…æ¶ˆè´¹è€…æ¶ˆè´¹
        if(count==chickens.length){
            //é€šçŸ¥æ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œç”Ÿäº§è€…ç­‰å¾…
            try {
                this.wait();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        //å¦‚æœæ²¡æœ‰æ»¡åˆ™æ”¾å…¥
        chickens[count]=chicken;
        count++;
        //å¯ä»¥é€šçŸ¥æ¶ˆè´¹è€…æ¶ˆè´¹äº†
        this.notifyAll();
    }

    //éœ€è¦æ¶ˆè´¹è€…å–èµ°äº§å“
    public synchronized Chicken pop(){
        //åˆ¤è¯»èƒ½å¦æ¶ˆè´¹
        if(count==0){
            //ç­‰å¾…ç”Ÿäº§è€…ç”Ÿäº§ï¼Œæ¶ˆè´¹è€…ç­‰å¾…
            try {
                this.wait();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        //å¦‚æœå¯ä»¥æ¶ˆè´¹ï¼›
        count--;
        Chicken chicken = chickens[count];
        //åƒå®Œäº†ï¼Œé€šçŸ¥ç”Ÿäº§è€…ç”Ÿäº§
        this.notifyAll();

        return chicken;
    }
}
```

#### ä¿¡å·ç¯æ³•ï¼Œæ ‡å¿—ä½è§£å†³

```java
package com.chang.Thread;

//æµ‹è¯•ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹2-->ä¿¡å·ç¯æ³•ï¼Œæ ‡å¿—ä½è§£å†³
public class TestPC2 {
    public static void main(String[] args) {
        TV tv = new TV();
        new Player(tv).start();
        new Watcher(tv).start();
    }
}

//ç”Ÿäº§è€…â€”â€”>æ¼”å‘˜
class Player extends Thread{
    TV tv;
    public Player(TV tv){
        this.tv=tv;
    }

    @Override
    public void run() {
        for (int i = 0; i < 20; i++) {
            if(i%2==0){
                this.tv.play("å¿«ä¹å¤§æœ¬è¥æ’­æ”¾ä¸­");
            }else {
                this.tv.play("å¹¿å‘Š");
            }
        }
    }
}

//æ¶ˆè´¹è€…â€”â€”>è§‚ä¼—
class Watcher extends Thread{
    TV tv;
    public Watcher(TV tv){
        this.tv=tv;
    }

    @Override
    public void run() {
        for (int i = 0; i < 20; i++) {
            tv.watch();
        }
    }
}

//äº§å“â€”â€”>èŠ‚ç›®
class TV{
    //æ¼”å‘˜è¡¨æ¼”ï¼Œè§‚ä¼—ç­‰å¾… T
    //æ¼”å‘˜ç­‰å¾…ï¼Œè§‚ä¼—è§‚çœ‹ F
    String voice;   //è¡¨æ¼”çš„èŠ‚ç›®
    boolean flag = true;

    //è¡¨æ¼”
    public synchronized void play(String voice){
        if(!flag){
            try {
                this.wait();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        System.out.println("æ¼”å‘˜è¡¨æ¼”ï¼š"+voice);
        //é€šçŸ¥è§‚ä¼—è§‚çœ‹
        this.notifyAll();
        this.voice=voice;
        this.flag=!this.flag;
    }

    //è§‚çœ‹
    public synchronized void watch(){
        if(flag){
            try {
                this.wait();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        System.out.println("è§‚çœ‹äº†ï¼š"+voice);
        //é€šçŸ¥æ¼”å‘˜è¡¨æ¼”
        this.notifyAll();
        this.flag=!this.flag;
    }
}
```

### 11ã€çº¿ç¨‹æ± 

```java
package com.chang.Thread;

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

//æµ‹è¯•çº¿ç¨‹æ± 
public class TestPool {
    public static void main(String[] args) {
//        MyThread myThread = new MyThread();
//        new Thread(myThread).start();

        //1ã€åˆ›å»ºæœåŠ¡ï¼Œåˆ›å»ºçº¿ç¨‹æ± 
        //newFixedThreadPool å‚æ•°ä¸ºï¼šçº¿ç¨‹æ± çš„å¤§å°
        ExecutorService service = Executors.newFixedThreadPool(10);

        //æ‰§è¡Œ
        service.execute(new MyThread());
        service.execute(new MyThread());
        service.execute(new MyThread());
        service.execute(new MyThread());

        //2ã€å…³é—­é“¾æ¥
        service.shutdown();
    }
}

class MyThread implements Runnable{
    @Override
    public void run() {
        System.out.println(Thread.currentThread().getName());
    }
}
```

## 6ã€é›†åˆæ¡†æ¶

### 1ã€é›†åˆæ¦‚å¿µ

å¯¹è±¡çš„å®¹å™¨ï¼Œå®ç°äº†å¯¹å¯¹è±¡å¸¸ç”¨çš„æ“ä½œ

**å’Œæ•°ç»„çš„åŒºåˆ«**

1. æ•°ç»„é•¿åº¦å›ºå®šï¼Œé›†åˆé•¿åº¦ä¸å›ºå®š
2. æ•°ç»„å¯ä»¥å­˜å‚¨åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ï¼Œé›†åˆåªèƒ½å­˜å‚¨å¼•ç”¨ç±»å‹

**ä½ç½®**

java.util.*;

### 2ã€Collectionä½“ç³»

![img](https://typora001-zc.oss-cn-chengdu.aliyuncs.com/typoraImg/1998506-20200830225616629-1434055405.png)

1ã€Collectionçˆ¶å¯¹è±¡

ç‰¹ç‚¹ï¼šä»£è¡¨ä¸€ç»„ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œæ— åºã€æ— ä¸‹æ ‡ã€ä¸èƒ½é‡å¤ã€‚

åˆ›å»ºé›†åˆ `Collection collection = new ArrayList();`

**å¸¸ç”¨æ–¹æ³•**

```java
boolean add(Object obj)	//æ·»åŠ ä¸€ä¸ªå¯¹è±¡

boolean addAll(Collection c)	//å°†ä¸€ä¸ªé›†åˆä¸­çš„æ‰€æœ‰å¯¹è±¡æ·»åŠ åˆ°æ­¤é›†åˆä¸­

boolean remove(Object o)	//åœ¨æ­¤é›†åˆä¸­ç§»é™¤oå¯¹è±¡
    
void clear()	//æ¸…ç©ºæ­¤é›†åˆä¸­çš„æ‰€æœ‰å¯¹è±¡
    
boolean contains(Object o)	//æ£€æŸ¥æ­¤é›†åˆä¸­æ˜¯å¦åŒ…å«oå¯¹è±¡
    
boolean equals(Object o)	//æ¯”è¾ƒæ­¤é›†åˆæ˜¯å¦åŸŸæŒ‡å®šå¯¹è±¡ç›¸ç­‰
    
boolean isEmpty()	//åˆ¤æ–­æ­¤é›†åˆæ˜¯å¦ä¸ºç©º
    
int size()	//è¿”å›æ­¤é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°
    
Object[] toArray()	//å°†æ­¤é›†åˆè½¬æ¢æˆæ•°ç»„
```

```java
package com.chang.Collections;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;
import java.util.ListIterator;

public class Demo1 {
    public static void main(String[] args) {
        //åˆ›å»ºé›†åˆ
        Collection collection = new ArrayList();
        collection.add("è‹¹æœ");
        collection.add("è¥¿ç“œ");
        collection.add("é¦™è•‰");
        System.out.println("å…ƒç´ ä¸ªæ•°ï¼š"+collection.size());
        System.out.println(collection);
        //åˆ é™¤å…ƒç´ 
        collection.remove("é¦™è•‰");
//        collection.clear();
        System.out.println(collection);
        //éå†é›†åˆ
        System.out.println("éå†æ–¹å¼1ï¼šlambdaè¡¨è¾¾å¼");
        collection.forEach(o -> System.out.println(o));
        System.out.println("éå†æ–¹å¼2ï¼šå¢å¼ºforå¾ªç¯");
        for (Object o : collection) {
            System.out.println(o);
        }
        System.out.println("éå†æ–¹å¼3ï¼šè¿­ä»£å™¨");
        Iterator it = collection.iterator();
        while (it.hasNext()){
            String object = (String)it.next();  //å¼ºè½¬
            System.out.println(object);
            //å¯ä»¥ä½¿ç”¨it.remove();ç§»é™¤å…ƒç´ 
            //collection.remove();ä¸èƒ½ç”¨collectionå…¶ä»–æ–¹æ³•ï¼Œä¼šæŠ¥å¹¶å‘ä¿®æ”¹é”™è¯¯
        }
        //åˆ¤æ–­æ˜¯å¦åŒ…å«æŸå…ƒç´ ä»¥åŠé›†åˆæ˜¯å¦ä¸ºç©º
        System.out.println(collection.contains("è¥¿ç“œ"));
        System.out.println(collection.isEmpty());
    }
}
```

### 3ã€Listå­æ¥å£

ç‰¹ç‚¹ï¼šæœ‰åºã€æœ‰ä¸‹æ ‡ã€å…ƒç´ å¯ä»¥é‡å¤

æ–¹æ³•ï¼š

```java
void add(int index,Object o)	//åœ¨indexä½ç½®æ’å…¥å¯¹è±¡o
    
boolean addAll(int index,Collection c)	//å°†ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ æ·»åŠ åˆ°æ­¤é›†åˆä¸­çš„indexä½ç½®
    
Object get(int index)	//è¿”å›é›†åˆä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ 
    
int indexOf(Object o)	//è·å–oåœ¨é›†åˆä¸­çš„ä½ç½®
    
List sublist(int fromIndex,int toIndex)	//è¿”å›fromIndexå’ŒtoIndexä¹‹é—´çš„é›†åˆå…ƒç´ ï¼Œå·¦é—­å³å¼€
```

å¸¸ç”¨æ–¹æ³•ï¼š

1. æ·»åŠ å…ƒç´  `list.add( );` ä¼šå¯¹åŸºæœ¬ç±»å‹è¿›è¡Œè‡ªåŠ¨è£…ç®±

2. åˆ é™¤å…ƒç´  å¯ä»¥ç”¨ç´¢å¼• `list.remove(0)`

   å½“åˆ é™¤æ•°å­—ä¸ç´¢å¼•çŸ›ç›¾æ—¶ å¯¹æ•°å­—å¼ºè½¬

   `list.remove((Object) 10)` æˆ– `list.remove(new Integer(10))`

3. éå†

   1. ä½¿ç”¨foréå†

      ```java
      for(int i = 0; i < lise.size(); i++){
        sout(list.get(i)); 
      }
      ```

   2. ä½¿ç”¨å¢å¼ºfor

      `for(Object list: collection){ }`

   3. ä½¿ç”¨è¿­ä»£å™¨

      ```java
      Iterator it = collection.iterator();
      while(it.hasNext()){
        String object = (String)it.next(); //å¼ºè½¬
        // å¯ä»¥ä½¿ç”¨it.remove(); è¿›è¡Œç§»é™¤å…ƒç´ 
        // collection.remove(); ä¸èƒ½ç”¨collectionå…¶ä»–æ–¹æ³• ä¼šæŠ¥å¹¶å‘ä¿®æ”¹å¼‚å¸¸
      }
      ```

   4. ä½¿ç”¨åˆ—è¡¨è¿­ä»£å™¨ ğŸ’¡ï¼ˆæ³¨æ„å’Œè¿­ä»£å™¨åŒºåˆ«ï¼‰

      ```java
      ListIterator li = list.listIterator();
      while(li.hasNext()){
        System.out.println(li.nextIndex() + ":" + li.next()); //ä»å‰å¾€åéå†
      }
      
      while(li.hasPrevious()){
        System.out.println(li.previousIndex() + ":" + li.previous()); //ä»åå¾€å‰éå†
      }
      ```

4. è·å– `list.indexOf( );`

5. è¿”å›å­é›†åˆ `sublist(x, y);` å·¦é—­å³å¼€

   `List subList = list.subList(1, 3);` è¿”å›ç´¢å¼• 1ã€2

#### Listå®ç°ç±»

- ArrayList ã€é‡ç‚¹ã€‘
  - æ•°ç»„ç»“æ„å®ç°ï¼Œå¿…é¡»è¦è¿ç»­ç©ºé—´ï¼ŒæŸ¥è¯¢å¿«ã€å¢åˆ æ…¢
  - jdk1.2ç‰ˆæœ¬ï¼Œè¿è¡Œæ•ˆç‡å—ã€çº¿ç¨‹ä¸å®‰å…¨
- Vector
  - æ•°ç»„ç»“æ„å®ç°ï¼ŒæŸ¥è¯¢å¿«ã€å¢åˆ æ…¢
  - jdk1.0ç‰ˆæœ¬ï¼Œè¿è¡Œ
- LinkedList
  - åŒå‘é“¾è¡¨ç»“æ„å®ç°ï¼Œæ— éœ€è¿ç»­ç©ºé—´ï¼Œå¢åˆ å¿«ï¼ŒæŸ¥è¯¢æ…¢

### 4ã€ArrayList

åˆ›å»ºé›†åˆ `ArrayList arrayList = new ArrayList<>();`

1. æ·»åŠ å…ƒç´  `arrayList.add();`

2. åˆ é™¤å…ƒç´  `arrayList.remove(new Student("name", 10));`

   è¿™é‡Œé‡å†™äº† equals(this == obj) æ–¹æ³•

   ```java
   public boolean equals(Object obj){
     //1 åˆ¤æ–­æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡
     if(this == obj){
       return true;
     }
     //2 åˆ¤æ–­æ˜¯å¦ä¸ºç©º
     if(obj == null){
       return false;
     }
     //3 åˆ¤æ–­æ˜¯å¦æ˜¯Studentç±»å‹
     if(obj instanceof Student){
       Student s = (Student)obj;
       //4 æ¯”è¾ƒå±æ€§
       if(this.name.equals(s.getName()) && this.age == s.getAge()){
         return true;
       }
     }
     //5 ä¸æ»¡è¶³æ¡ä»¶è¿”å›false
     return false;
   }
   ```

3. éå†å…ƒç´ ã€é‡ç‚¹ã€‘

   1. ä½¿ç”¨è¿­ä»£å™¨

      ```java
      Iterator it = arrayList.iterator();
      while(it.hasNext()){
        Student s = (Student)it.next(); //å¼ºè½¬
      }
      ```

   2. åˆ—è¡¨è¿­ä»£å™¨

      ```java
      ListIterator li = arrayList.listIterator();
      while(li.hasNext()){
        Student s = (Student)li.next(); //ä»å‰å¾€åéå†
      }
      
      while(li.hasPrevious()){
        Student s = (Student)li.previous();//ä»åå¾€å‰éå†
      }
      ```

4. åˆ¤æ–­

   `arrayList.contains();` å’Œ `arrayList.isEmpty();`

5. æŸ¥æ‰¾

   `arrayList.indexof();`

**åŸç åˆ†æ**

```java
DEFAULT_CAPACITY = 10; //é»˜è®¤å®¹é‡
//æ³¨æ„ï¼šå¦‚æœæ²¡æœ‰å‘é›†åˆä¸­æ·»åŠ ä»»ä½•å…ƒç´ æ—¶ï¼Œå®¹é‡0ï¼Œæ·»åŠ ä¸€ä¸ªåï¼Œå®¹é‡ä¸º10
//æ¯æ¬¡æ‰©å®¹æ˜¯åŸæ¥çš„1.5å€
elementDataå­˜æ”¾å…ƒç´ çš„æ•°ç»„
size å®é™…å…ƒç´ ä¸ªæ•°
```

### 5ã€Vector

åˆ›å»ºé›†åˆ `Vector vector = new Vector<>();`

å¢åŠ ã€åˆ é™¤ã€åˆ¤æ–­åŒä¸Š

éå†ä¸­æšä¸¾å™¨éå†

```java
Enumeration en = vector.elements();
while(en.hasMoreElements()){
  String o = (String)en.nextElement();
  System.out.println(o);
}
```

### 6ã€LinkedList

åˆ›å»ºé“¾è¡¨é›†åˆ`LinkedList li = new LinkedList<>();`

å¸¸ç”¨æ–¹æ³•ä¸Listä¸€è‡´

### 7ã€æ³›å‹

- æœ¬è´¨æ˜¯å‚æ•°åŒ–ç±»å‹ï¼ŒæŠŠç±»å‹ä½œä¸ºå‚æ•°ä¼ é€’
- å¸¸è§å½¢å¼æœ‰æ³›å‹ç±»ã€æ³›å‹æ¥å£ã€æ³›å‹æ–¹æ³•
- è¯­æ³• Tæˆä¸ºç±»å‹å ä½ç¬¦ï¼Œè¡¨ç¤ºä¸€ç§å¼•ç”¨ç±»å‹ï¼Œå¯ä»¥å†™å¤šä¸ªé€—å·éš”å¼€
- å¥½å¤„ 1. æé«˜ä»£ç é‡ç”¨æ€§ 2. é˜²æ­¢ç±»å‹è½¬æ¢å¼‚å¸¸ï¼Œæé«˜ä»£ç å®‰å…¨æ€§

**æ³›å‹ç±»**

```java
// å†™ä¸€ä¸ªæ³›å‹ç±»
public class MyGeneric<T>{
  //ä½¿ç”¨æ³›å‹T
  //1 åˆ›å»ºå˜é‡
  T t;
  //2 æ³›å‹ä½œä¸ºæ–¹æ³•çš„å‚æ•°
  public void show(T t){
    System.out.println(t);
  }
  //3 æ³›å‹ä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼
  public T getT(){
    return t;
  }
}
```

```java
// ä½¿ç”¨æ³›å‹ç±»
public class TestGeneric{
  public static void main(String[] args){
    //ä½¿ç”¨æ³›å‹ç±»åˆ›å»ºå¯¹è±¡
    // æ³¨æ„ï¼š 1. æ³›å‹åªèƒ½ä½¿ç”¨å¼•ç”¨ç±»å‹
    //			 2. ä¸ç”¨æ³›å‹ç±»å‹å¯¹è±¡ä¹‹é—´ä¸èƒ½ç›¸äº’èµ‹å€¼
    MyGeneric<String> myGeneric = new MyGeneric<String>();
    myGeneric.t = "hello";
    myGeneric.show("hello world!");
    String string = myGeneric.getT();
    
    MyGeneric<Integer> myGeneric2 = new MyGeneric<Integer>();
    myGeneric2.t = 100;
    myGeneric2.show(200);
    Integer integer = myGeneric2.getT();
  }
}
```

**æ³›å‹æ¥å£**

è¯­æ³•ï¼šæ¥å£å

æ³¨æ„ï¼šä¸èƒ½æ³›å‹é™æ€å¸¸é‡

**æ³›å‹æ–¹æ³•**

è¯­æ³•ï¼š è¿”å›å€¼ç±»å‹

```java
public class MyGenericMethod{
  //æ³›å‹æ–¹æ³•
  public <T> T show(T t){
    System.out.println("æ³›å‹æ–¹æ³•" + t);
    return t;
  }
}

//è°ƒç”¨
MyGenericMethod myGenericMethod = new MyGenericMethod();
myGenericMethod.show("å­—ç¬¦ä¸²");// è‡ªåŠ¨ç±»å‹ä¸ºå­—ç¬¦ä¸²
myGenericMethod.show(200);// integerç±»å‹
myGenericMethod.show(3.14);// doubleç±»å‹
```

**æ³›å‹é›†åˆ**

æ¦‚å¿µï¼šå‚æ•°åŒ–ç±»å‹ã€ç±»å‹å®‰å…¨çš„é›†åˆï¼Œå¼ºåˆ¶é›†åˆå…ƒç´ çš„ç±»å‹å¿…é¡»ä¸€è‡´

ç‰¹ç‚¹ï¼š

- ç¼–è¯‘æ—¶å³å¯æ£€æŸ¥ï¼Œè€Œéè¿è¡Œæ—¶æŠ›å‡ºå¼‚å¸¸
- è®¿é—®æ—¶ï¼Œä¸å¿…ç±»å‹è½¬æ¢ï¼ˆæ‹†ç®±ï¼‰
- ä¸åŒæ³›å‹ä¹‹é—´åº”ç”¨ä¸èƒ½ç›¸äº’èµ‹å€¼ï¼Œæ³›å‹ä¸å­˜åœ¨å¤šæ€

### 8ã€Seté›†åˆ

ç‰¹ç‚¹ï¼šæ— åºã€æ— ä¸‹æ ‡ã€å…ƒç´ ä¸å¯é‡å¤

æ–¹æ³•ï¼šå…¨éƒ¨ç»§æ‰¿è‡ªCollectionä¸­çš„æ–¹æ³•

å¢ã€åˆ ã€éå†ã€åˆ¤æ–­ä¸collectionä¸€è‡´

### 9ã€HashSet

å­˜å‚¨ç»“æ„ï¼šå“ˆå¸Œè¡¨ï¼ˆæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼‰

å­˜å‚¨è¿‡ç¨‹ï¼ˆé‡å¤ä¾æ®ï¼‰

1. æ ¹æ®hashCodeè®¡ç®—ä¿å­˜çš„ä½ç½®ï¼Œå¦‚æœä½ç½®ä¸ºç©ºï¼Œç›´æ¥ä¿å­˜ï¼Œè‹¥ä¸ä¸ºç©ºï¼Œè¿›è¡Œç¬¬äºŒæ­¥
2. å†æ‰§è¡Œequalsæ–¹æ³•ï¼Œå¦‚æœequalsä¸ºtrueï¼Œåˆ™è®¤ä¸ºæ˜¯é‡å¤ï¼Œå¦åˆ™å½¢æˆé“¾è¡¨

ç‰¹ç‚¹

- åŸºäºHashCodeè®¡ç®—å…ƒç´ å­˜æ”¾ä½ç½®
  - åˆ©ç”¨31è¿™ä¸ªè´¨æ•°ï¼Œå‡å°‘æ•£åˆ—å†²çª
    - 31æé«˜æ‰§è¡Œæ•ˆç‡ `31 * i = (i << 5) - i` è½¬ä¸ºç§»ä½æ“ä½œ
  - å½“å­˜å…¥å…ƒç´ çš„å“ˆå¸Œç ç›¸åŒæ—¶ï¼Œä¼šè°ƒç”¨equalsè¿›è¡Œç¡®è®¤ï¼Œå¦‚æœç»“æœä¸ºtrueï¼Œåˆ™æ‹’ç»åè€…å­˜å…¥

æ–°å»ºé›†åˆ `HashSet<String> hashSet = new HashSet<String>();`

æ·»åŠ å…ƒç´  `hashSet.add( );`

åˆ é™¤å…ƒç´  `hashSet.remove( );`

éå†æ“ä½œ

  1. å¢å¼ºfor `for( type type : hashSet)`

  2. è¿­ä»£å™¨ `Iterator<String> it = hashSet.iterator( );`

åˆ¤æ–­ `hashSet.contains( );` `hashSet.isEmpty();`

### 10ã€TreeSet

ç‰¹ç‚¹

- åŸºäºæ’åˆ—é¡ºåºå®ç°å…ƒç´ ä¸é‡å¤
- å®ç°SortedSetæ¥å£ï¼Œå¯¹é›†åˆå…ƒç´ è‡ªåŠ¨æ’åº
- å…ƒç´ å¯¹è±¡çš„ç±»å‹å¿…é¡»å®ç°Comparableæ¥å£ï¼ŒæŒ‡å®šæ’åºè§„åˆ™
- é€šè¿‡CompareToæ–¹æ³•ç¡®å®šæ˜¯å¦ä¸ºé‡å¤å…ƒç´ 

å­˜å‚¨ç»“æ„ï¼šçº¢é»‘æ ‘

åˆ›å»ºé›†åˆ `TreeSet<String> treeSet = new TreeSet<>()`

æ·»åŠ å…ƒç´  `treeSet.add();`

åˆ é™¤å…ƒç´  `treeSet.remove();`

éå† 1. å¢å¼ºfor 2. è¿­ä»£å™¨

åˆ¤æ–­ `treeSet.contains();`

è¡¥å……ï¼šTreeSeté›†åˆçš„ä½¿ç”¨

Comparator å®ç°å®šåˆ¶æ¯”è¾ƒï¼ˆæ¯”è¾ƒå™¨ï¼‰

Comparable å¯æ¯”è¾ƒçš„ 

`ä½¿ç”¨TreeSetä¿å­˜æ•°æ®ï¼Œå…ƒç´ å¿…é¡»è¦å®ç°Comparableæ¥å£ï¼ŒcompareTo()æ–¹æ³•è¿”å›å€¼ä¸º0ï¼Œè®¤ä¸ºæ˜¯é‡å¤å…ƒç´ `

```java
package com.chang.Collections;

import java.util.*;

public class Demo2 {
    public static void main(String[] args) {
        Student s1 = new Student("xyz",20);
        Student s2 = new Student("hello",22);
        Student s3 = new Student("zhangSan", 25);
       
        TreeSet<Student> treeSet = new TreeSet<>();
        treeSet.add(s1);
        treeSet.add(s2);
        treeSet.add(s3);
        System.out.println(treeSet);	//[Student{name='hello', age=22}, Student{name='xyz', age=20}, Student{name='zhangSan', age=25}]
    }
}

class Student implements Comparable<Student> {
    private String name;
    private int age;

    public Student() {
    }

    public Student(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    @Override
    public String toString() {
        return "Student{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }

    //å…ˆæŒ‰å§“åæ¯”ï¼Œå†æŒ‰å¹´é¾„æ¯”
    @Override
    public int compareTo(Student o) {
        int n1=this.getName().compareTo(o.getName());
        int n2=this.age-o.getAge();
        return n1==0?n2:n1;
    }
}
```

```java
package com.chang.Collections;

import java.util.Comparator;
import java.util.TreeSet;

public class Demo3 {
    public static void main(String[] args) {
        //åˆ›å»ºé›†åˆ
        TreeSet<Student> persons = new TreeSet<>(new Comparator<Student>() {
            @Override
            public int compare(Student o1, Student o2) {
                int n1=o1.getAge()-o2.getAge();
                int n2=o1.getName().compareTo(o2.getName());
                return n1==0?n1:n2;
            }
        });

        Student s1 = new Student("xyz",22);
        Student s2 = new Student("hello",20);
        Student s3 = new Student("zhangSan", 25);

        persons.add(s1);
        persons.add(s2);
        persons.add(s3);

        System.out.println(persons);
    }
}

class Student {
    private String name;
    private int age;

    public Student() {
    }

    public Student(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    @Override
    public String toString() {
        return "Student{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }
}
```

#### ä½¿ç”¨TreeSetå®ç°æŒ‰å­—ç¬¦ä¸²é•¿åº¦æ’åº

```java
package com.chang.Collections;

import java.util.Comparator;
import java.util.TreeSet;

//ä½¿ç”¨TreeSetå®ç°æŒ‰å­—ç¬¦ä¸²é•¿åº¦æ’åº
//helloWorld zhong li beijing xian zhang
public class Demo4 {
    public static void main(String[] args) {
        TreeSet<String> treeSet = new TreeSet<>(new Comparator<String>() {
            @Override
            public int compare(String o1, String o2) {
                int n1=o1.length()-o2.length();
                int n2=o1.compareTo(o2);
                return n1==0?n2:n1;
            }
        });

        treeSet.add("helloWorld");
        treeSet.add("zhong");
        treeSet.add("li");
        treeSet.add("beijing");
        treeSet.add("xian");
        treeSet.add("zhang");

        System.out.println(treeSet);
    }
}
```

### 11ã€Mapä½“ç³»

Mapæ¥å£çš„ç‰¹ç‚¹

```java
1. ç”¨äºå­˜å‚¨ä»»æ„é”®å€¼å¯¹ï¼ˆkey - valueï¼‰
2. é”®ï¼šæ— åºã€æ— ä¸‹æ ‡ã€ä¸å…è®¸é‡å¤ï¼ˆå”¯ä¸€ï¼‰
3. å€¼ï¼šæ— åºã€æ— ä¸‹æ ‡ã€å…è®¸é‡å¤
```

æ–¹æ³•ï¼š

```java
1. V put(K key, V value) å°†å¯¹è±¡å­˜åˆ°é›†åˆä¸­ï¼Œå…³è”é”®å€¼
2. Object get(Object key) æ ¹æ®é”®è·å¾—å¯¹åº”çš„å€¼
3. Set<K> è¿”å›æ‰€æœ‰çš„Key
4. Collection<V> values() è¿”å›åŒ…å«æ‰€æœ‰å€¼çš„Collectioné›†åˆ
5. Set<Map.Entry<K, V>> é”®å€¼åŒ¹é…çš„Seté›†åˆ
```

**Mapæ¥å£çš„ä½¿ç”¨**

```java
//åˆ›å»ºMapé›†åˆ
Map<String, String> map = new HashMap<>();
// 1. æ·»åŠ å…ƒç´ 
map.put("cn", "ä¸­å›½");
map.put("uk", "è‹±å›½");
map.put("cn", "zhongguo"); // ä¼šæ›¿æ¢ç¬¬ä¸€ä¸ª 
// 2. åˆ é™¤
map.remove("uk");
// 3. éå†
// 3.1 ä½¿ç”¨KeySet()
//Set<String> keyset = map.keySet(); // æ‰€æœ‰Keyçš„seté›†åˆ
for(String key : map.keyset){
  System.out.println(key + "---" + map.get(key));
}
// 3.2 ä½¿ç”¨entrySet()
//Set<Map.Entry<String, String>> entries = map.entrySet();
for(Map.Entry<String, String> entry : map.entries){
  System.out.println(entry.getKey() + "---" + entry.getValue();
}
```

### 12ã€HashMap

å­˜å‚¨ç»“æ„ï¼šå“ˆå¸Œè¡¨ï¼ˆæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼‰

ä½¿ç”¨keyå¯ä½¿hashcodeå’Œequalsä½œä¸ºé‡å¤

å¢ã€åˆ ã€éå†ã€åˆ¤æ–­ä¸ä¸Šè¿°ä¸€è‡´

åŸç åˆ†ææ€»ç»“ï¼š

1. HashMapåˆšåˆ›å»ºæ—¶ï¼Œtableæ˜¯nullï¼ŒèŠ‚çœç©ºé—´ï¼Œå½“æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œtableå®¹é‡è°ƒæ•´ä¸º16
2. å½“å…ƒç´ ä¸ªæ•°å¤§äºé˜ˆå€¼ï¼ˆ16*0.75 = 12ï¼‰æ—¶ï¼Œä¼šè¿›è¡Œæ‰©å®¹ï¼Œæ‰©å®¹åçš„å¤§å°ä¸ºåŸæ¥çš„ä¸¤å€ï¼Œç›®çš„æ˜¯å‡å°‘è°ƒæ•´å…ƒç´ çš„ä¸ªæ•°
3. jdk1.8 å½“æ¯ä¸ªé“¾è¡¨é•¿åº¦ >8 ï¼Œå¹¶ä¸”æ•°ç»„å…ƒç´ ä¸ªæ•° â‰¥64æ—¶ï¼Œä¼šè°ƒæ•´æˆçº¢é»‘æ ‘ï¼Œç›®çš„æ˜¯æé«˜æ•ˆç‡
4. jdk1.8 å½“é“¾è¡¨é•¿åº¦ <6 æ—¶ è°ƒæ•´æˆé“¾è¡¨
5. jdk1.8 ä»¥å‰ï¼Œé“¾è¡¨æ—¶å¤´æ’å…¥ï¼Œä¹‹åä¸ºå°¾æ’å…¥

### 13ã€Hashtable

çº¿ç¨‹å®‰å…¨ï¼Œè¿è¡Œæ•ˆç‡æ…¢ï¼›ä¸å…è®¸nullä½œä¸ºkeyæˆ–æ˜¯value

### 14ã€Properties

hashtableçš„å­ç±»ï¼Œè¦æ±‚keyå’Œvalueéƒ½æ˜¯stringï¼Œé€šå¸¸ç”¨äºé…ç½®æ–‡ä»¶çš„è¯»å–

### 15ã€TreeMap

å®ç°äº†SortedMapæ¥å£ï¼ˆæ˜¯mapçš„å­æ¥å£ï¼‰ï¼Œå¯ä»¥å¯¹keyè‡ªåŠ¨æ’åº

```java
package com.chang.Collections;

import java.util.Comparator;
import java.util.TreeMap;

public class Demo5 {
    public static void main(String[] args) {
        TreeMap<String,String> treeMap=new TreeMap<>(new Comparator<String>() {
            @Override
            public int compare(String o1, String o2) {
                int n1=o1.compareTo(o2);
                return n1;
            }
        });
        treeMap.put("us","MeiGuo");
        treeMap.put("cn","ZhongGuo");
        treeMap.put("un","YingGuo");
        System.out.println(treeMap);
    }
}
```

### 16ã€Collectionså·¥å…·ç±»

æ¦‚å¿µï¼šé›†åˆå·¥å…·ç±»ï¼Œå®šä¹‰äº†é™¤äº†å­˜å–ä»¥å¤–çš„é›†åˆå¸¸ç”¨æ–¹æ³•

ç›´æ¥äºŒåˆ†æŸ¥æ‰¾`int i = Collections.binarySearch(list, x);` æˆåŠŸè¿”å›ç´¢å¼•

å…¶ä»–æ–¹æ³• ï¼š **copyå¤åˆ¶ã€reverseåè½¬ã€shuffleæ‰“ä¹±ã€sortæ’åº**

è¡¥å……ï¼š

```java
package com.chang.Collections;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.List;

public class Demo6 {
    public static void main(String[] args) {
        List<Integer> list = new ArrayList<>();
        list.add(20);
        list.add(5);
        list.add(12);
        list.add(30);
        list.add(6);
        //sortæ’åº
        Collections.sort(list);
        System.out.println(list);
        //shuffleæ‰“ä¹±é¡ºåº
        Collections.shuffle(list);
        System.out.println(list);
        //binarySearchäºŒåˆ†æŸ¥æ‰¾
        int index = Collections.binarySearch(list, 12);
        System.out.println(index);
        //copyå¤åˆ¶
        List<Integer> newList = new ArrayList<>();
        for (int i = 0; i < list.size(); i++) {
            newList.add(0);
        }
        Collections.copy(newList,list);
        newList.add(40);
        System.out.println(newList);
        System.out.println(list);
        //reverseåè½¬
        Collections.reverse(list);
        System.out.println(list);

        //listè½¬æˆæ•°ç»„
        Integer[] objects = list.toArray(new Integer[0]);
        System.out.println(Arrays.toString(objects));

        //æ•°ç»„è½¬æˆé›†åˆ
        String[] name = {"å¼ ä¸‰","æå››","ç‹äº”"};
        List<String> list2 = new ArrayList<>(Arrays.asList(name));
        System.out.println(list2);
        list2.add("åˆ˜å…­");
        System.out.println(list2);
    }
}
```

### 17ã€streamä¸Lambdaè¡¨è¾¾å¼

1. `listè½¬map`ï¼šCollectors.toMapå°±å¯ä»¥æŠŠä¸€ä¸ªlistæ•°ç»„è½¬æˆä¸€ä¸ªMapï¼Œç±»ä¼¼çš„ï¼Œè¿˜æœ‰Collectors.toList()ã€Collectors.toSet()ï¼Œè¡¨ç¤ºæŠŠå¯¹åº”çš„æµè½¬åŒ–ä¸ºlistæˆ–è€…Set

2. `filter() è¿‡æ»¤`ï¼šä»æ•°ç»„é›†åˆä¸­ï¼Œè¿‡æ»¤æ‰ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œç•™ä¸‹ç¬¦åˆæ¡ä»¶çš„å…ƒç´ 

3. `foreach éå†`ï¼šforeach éå†listï¼Œéå†mapï¼ŒçœŸçš„å¾ˆä¸æ»‘

4. `groupingBy åˆ†ç»„`ï¼šæŒ‰æŸä¸ªå±æ€§å¯¹listè¿›è¡Œåˆ†ç»„æ“ä½œ

5. `sorted+Comparator æ’åº`ï¼šComparator.comparing(UserInfo::getAge) æˆ–è€…Integer::compareTo

6. `distinct å»é‡`ï¼šå¯ä»¥å»é™¤é‡å¤çš„å…ƒç´ 

7. `findFirst è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ `

8. `anyMatch æ˜¯å¦è‡³å°‘åŒ¹é…ä¸€ä¸ªå…ƒç´ `ï¼šæ£€æŸ¥æµæ˜¯å¦åŒ…å«è‡³å°‘ä¸€ä¸ªæ»¡è¶³ç»™å®šè°“è¯çš„å…ƒç´ 

9. `allMatch åŒ¹é…æ‰€æœ‰å…ƒç´ `ï¼šæ£€æŸ¥æµæ˜¯å¦æ‰€æœ‰éƒ½æ»¡è¶³ç»™å®šè°“è¯çš„å…ƒç´ 

10. `map è½¬æ¢`ï¼šmapæ–¹æ³•å¯ä»¥å¸®æˆ‘ä»¬åšå…ƒç´ è½¬æ¢ï¼Œæ¯”å¦‚ä¸€ä¸ªå…ƒç´ æ‰€æœ‰å­—æ¯è½¬åŒ–ä¸ºå¤§å†™ï¼Œåˆæˆ–è€…æŠŠè·å–ä¸€ä¸ªå…ƒç´ å¯¹è±¡çš„æŸä¸ªå±æ€§

11. `reduce åˆå¹¶`ï¼šå¯ä»¥åˆå¹¶æµçš„å…ƒç´ ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªå€¼

12. `peek æ‰“å°æ—¥å¿—`ï¼špeek()æ–¹æ³•æ˜¯ä¸€ä¸ªä¸­é—´Streamæ“ä½œï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨peekæ¥æ‰“å°æ—¥å¿—

13. `maxã€minæœ€å¤§æœ€å°`

14. `countç»Ÿè®¡`ï¼šä¸€èˆ¬count()è¡¨ç¤ºè·å–æµæ•°æ®å…ƒç´ æ€»æ•°

15. `å¸¸ç”¨å‡½æ•°å¼æ¥å£`

    å…¶å®lambdaç¦»ä¸å¼€å‡½æ•°å¼æ¥å£ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹JDK8å¸¸ç”¨çš„å‡ ä¸ªå‡½æ•°å¼æ¥å£ï¼š

    - `Function<T, R>`ï¼ˆè½¬æ¢å‹ï¼‰: æ¥å—ä¸€ä¸ªè¾“å…¥å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªç»“æœ
    - `Consumer<T>` ï¼ˆæ¶ˆè´¹å‹ï¼‰: æ¥æ”¶ä¸€ä¸ªè¾“å…¥å‚æ•°ï¼Œå¹¶ä¸”æ— è¿”å›æ“ä½œ
    - `Predicate<T>` ï¼ˆåˆ¤æ–­å‹ï¼‰: æ¥æ”¶ä¸€ä¸ªè¾“å…¥å‚æ•°ï¼Œå¹¶ä¸”è¿”å›å¸ƒå°”å€¼ç»“æœ
    - `Supplier<T>` ï¼ˆä¾›ç»™å‹ï¼‰: æ— å‚æ•°ï¼Œè¿”å›ç»“æœ

    `Function<T, R>` æ˜¯ä¸€ä¸ªåŠŸèƒ½è½¬æ¢å‹çš„æ¥å£ï¼Œå¯ä»¥æŠŠå°†ä¸€ç§ç±»å‹çš„æ•°æ®è½¬åŒ–ä¸ºå¦å¤–ä¸€ç§ç±»å‹çš„æ•°æ®

    `Consumer<T>`æ˜¯ä¸€ä¸ªæ¶ˆè´¹æ€§æ¥å£ï¼Œé€šè¿‡ä¼ å…¥å‚æ•°ï¼Œå¹¶ä¸”æ— è¿”å›çš„æ“ä½œ

    `Predicate<T>`æ˜¯ä¸€ä¸ªåˆ¤æ–­å‹æ¥å£,å¹¶ä¸”è¿”å›å¸ƒå°”å€¼ç»“æœ

    `Supplier<T>`æ˜¯ä¸€ä¸ªä¾›ç»™å‹æ¥å£,æ— å‚æ•°ï¼Œæœ‰è¿”å›ç»“æœ

```java
package com.chang.Collections;

import java.util.*;
import java.util.function.Consumer;
import java.util.function.Function;
import java.util.function.Predicate;
import java.util.function.Supplier;
import java.util.stream.Collectors;
import java.util.stream.Stream;

public class Demo7 {
    public static void main(String[] args) {
        ArrayList<UserInfo> userInfoList = new ArrayList<>();
        userInfoList.add(new UserInfo(1L, "æ¡ç”°èºçš„å°ç”·å­©", 18));
        userInfoList.add(new UserInfo(2L, "ç¨‹åºå‘˜ç”°èº", 27));
        userInfoList.add(new UserInfo(2L, "æ¡ç“¶å­çš„å°ç”·å­©", 26));

        /**
         *  (1)
         *  list è½¬ map
         *  ä½¿ç”¨Collectors.toMapçš„æ—¶å€™ï¼Œå¦‚æœæœ‰å¯ä»¥é‡å¤ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥éœ€è¦åŠ (k1, k2) -> k1
         *  (k1, k2) -> k1 è¡¨ç¤ºï¼Œå¦‚æœæœ‰é‡å¤çš„key,åˆ™ä¿ç•™ç¬¬ä¸€ä¸ªï¼Œèˆå¼ƒç¬¬äºŒä¸ª
         */
        Map<Long, UserInfo> userInfoMap = userInfoList.stream().collect(Collectors.toMap(UserInfo::getId, userInfo -> userInfo, (k1, k2) -> k1));
        userInfoMap.values().forEach(a->System.out.println(a.getName()));
        //è¿è¡Œç»“æœ
        //æ¡ç”°èºçš„å°ç”·å­©
        //ç¨‹åºå‘˜ç”°èº

        /**
         *  (2)
         * filter è¿‡æ»¤ï¼Œç•™ä¸‹è¶…è¿‡20å²çš„ç”¨æˆ·
         */
        List<UserInfo> userInfoResultList = userInfoList.stream().filter(user -> user.getAge() > 20).collect(Collectors.toList());
        userInfoResultList.add(new UserInfo(3L,"åƒé¥ºå­çš„å°ç”·å­©",16));
        System.out.println(userInfoResultList);
        //[UserInfo{id=2, name='ç¨‹åºå‘˜ç”°èº', age=27}, UserInfo{id=2, name='æ¡ç“¶å­çš„å°ç”·å­©', age=26}, UserInfo{id=3, name='åƒé¥ºå­çš„å°ç”·å­©', age=16}]

        /**
         *  (4)
         * groupingByåˆ†ç»„
         */
        Map<Long, List<UserInfo>> result = userInfoList.stream().collect(Collectors.groupingBy(UserInfo::getId));
        System.out.println(result);
        //{1=[UserInfo{id=1, name='æ¡ç”°èºçš„å°ç”·å­©', age=18}], 2=[UserInfo{id=2, name='ç¨‹åºå‘˜ç”°èº', age=27}, UserInfo{id=2, name='æ¡ç“¶å­çš„å°ç”·å­©', age=26}]}

        /**
         *  (5)
         *  sorted + Comparator.comparing æ’åºåˆ—è¡¨ï¼Œ
         */
        List<UserInfo>newUserInfoList = userInfoList.stream().sorted(Comparator.comparing(UserInfo::getAge)).collect(Collectors.toList());
        newUserInfoList.forEach(a -> System.out.println(a.toString()));
        //UserInfo{id=1, name='æ¡ç”°èºçš„å°ç”·å­©', age=18}
        //UserInfo{id=2, name='æ¡ç“¶å­çš„å°ç”·å­©', age=26}
        //UserInfo{id=2, name='ç¨‹åºå‘˜ç”°èº', age=27}

        System.out.println("å¼€å§‹é™åºæ’åº");

        /**
         * å¦‚æœæƒ³é™åºæ’åºï¼Œåˆ™å¯ä»¥ä½¿ç”¨åŠ reversed()
         */
        List<UserInfo>newUserInfoList2 = userInfoList.stream().sorted(Comparator.comparing(UserInfo::getAge).reversed()).collect(Collectors.toList());
        newUserInfoList2.forEach(a -> System.out.println(a.toString()));
        //UserInfo{id=2, name='ç¨‹åºå‘˜ç”°èº', age=27}
        //UserInfo{id=2, name='æ¡ç“¶å­çš„å°ç”·å­©', age=26}
        //UserInfo{id=1, name='æ¡ç”°èºçš„å°ç”·å­©', age=18}

        /*
        *  (6)
        *distinctå»é‡
         */
        List<String> list = Arrays.asList("A", "B", "F", "A", "C");
        List<String> temp = list.stream().distinct().collect(Collectors.toList());
        temp.forEach(System.out::println);
        //A
        //B
        //F
        //C

        /*
        *  (7)
        *findFirst è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 
         */
        List<String> list2 = Arrays.asList("A", "B", "F", "A", "C");
        list2.stream().findFirst().ifPresent(System.out::println);
        //A

        /*
        *  (8)
        *anyMatch æ£€æŸ¥æµæ˜¯å¦åŒ…å«è‡³å°‘ä¸€ä¸ªæ»¡è¶³ç»™å®šè°“è¯çš„å…ƒç´ 
         */
        Stream<String> stream = Stream.of("A", "B", "C", "D");
        boolean match = stream.anyMatch(s -> s.contains("C"));
        System.out.println(match);
        //true
        List<String> list3 = Arrays.asList("A", "B", "F", "A", "C");
        boolean matchResult = list3.stream().anyMatch(s -> s.contains("A"));
        System.out.println(matchResult);
        //true

        /*
        *  (9)
        *allMatch æ£€æŸ¥æµæ˜¯å¦æ‰€æœ‰éƒ½æ»¡è¶³ç»™å®šè°“è¯çš„å…ƒç´ ã€‚
         */
        Stream<String> stream2 = Stream.of("A", "B", "C", "D");
        boolean match2 = stream2.allMatch(s -> s.contains("C"));
        System.out.println(match2);
        //false

        /*
        *  (10)
        *mapè½¬æ¢
         */
        List<String> list4 = Arrays.asList("jay", "tianluo");
        List<String> upperCaselist = list4.stream().map(String::toUpperCase).collect(Collectors.toList());
        System.out.println(upperCaselist);
        List<String> collect = list4.stream().map(s -> s.toUpperCase()).collect(Collectors.toList());
        System.out.println(collect);
        List<String> collect2 = list4.stream().map(s -> s.toUpperCase()+"a").collect(Collectors.toList());
        System.out.println(collect2);
        //[JAY, TIANLUO]
        //[JAY, TIANLUO]
        //[JAYa, TIANLUOa]

        /*
        *  (11)
        *reduceå¯ä»¥åˆå¹¶æµçš„å…ƒç´ ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªå€¼
         */
        List<Integer> list5 = Arrays.asList(1,2,3,4);
        Integer sum = list5.stream().reduce(0, (a, b) -> a + b);
        System.out.println(sum);
        //10

        /*
        *  (12)
        *peek()æ–¹æ³•æ˜¯ä¸€ä¸ªä¸­é—´Streamæ“ä½œï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨peekæ¥æ‰“å°æ—¥å¿—ã€‚
         */
        List<String> list6 = Stream.of("ç¨‹åºå‘˜ç”°èº", "æ¡ç”°èºçš„å°ç”·å­©", "æ¡ç“¶å­çš„å°ç”·å­©")
                .filter(a -> a.contains("ç”°èº"))
                .peek(a -> System.out.println("å…¬ä¼—å·:" + a)).collect(Collectors.toList());
        System.out.println(list6);
        //å…¬ä¼—å·:ç¨‹åºå‘˜ç”°èº
        //å…¬ä¼—å·:æ¡ç”°èºçš„å°ç”·å­©
        //[ç¨‹åºå‘˜ç”°èº, æ¡ç”°èºçš„å°ç”·å­©]

        /*
        *  (13)
        *maxï¼Œminæœ€å¤§æœ€å°
         */
        List<Integer> list7 = Arrays.asList(1,2,3,4);
        Optional<Integer> max1 = list7.stream().max(Integer::compareTo);
        Integer integer1 = max1.get();
        System.out.println(integer1);
        //4
        int[] arr={1,2,3,4};
        int maxArr = Arrays.stream(arr).max().getAsInt();
        System.out.println(maxArr);
        //4
        List<UserInfo> userInfoList2 = new ArrayList<>();
        userInfoList2.add(new UserInfo(1L, "æ¡ç”°èºçš„å°ç”·å­©", 18));
        userInfoList2.add(new UserInfo(3L, "æ¡ç“¶å­çš„å°ç”·å­©", 26));
        userInfoList2.add(new UserInfo(2L, "ç¨‹åºå‘˜ç”°èº", 27));

        Optional<UserInfo> maxAgeUserInfoOpt = userInfoList2.stream().max(Comparator.comparing(UserInfo::getAge));
        maxAgeUserInfoOpt.ifPresent(userInfo -> System.out.println("max age user:" + userInfo));
        //max age user:UserInfo{id=2, name='ç¨‹åºå‘˜ç”°èº', age=27}
        Optional<UserInfo> minAgeUserInfoOpt = userInfoList2.stream().min(Comparator.comparing(UserInfo::getAge));
        minAgeUserInfoOpt.ifPresent(userInfo -> System.out.println("min age user:" + userInfo));
        //min age user:UserInfo{id=1, name='æ¡ç”°èºçš„å°ç”·å­©', age=18}

        /*
        *  (14)
        *count()è¡¨ç¤ºè·å–æµæ•°æ®å…ƒç´ æ€»æ•°
         */
        long count = userInfoList2.stream().filter(user -> user.getAge() > 18).count();
        System.out.println("å¤§äº18å²çš„ç”¨æˆ·:" + count);
        //å¤§äº18å²çš„ç”¨æˆ·:2

        /*
        *  (15)
        Function<T, R> æ˜¯ä¸€ä¸ªåŠŸèƒ½è½¬æ¢å‹çš„æ¥å£ï¼Œå¯ä»¥æŠŠå°†ä¸€ç§ç±»å‹çš„æ•°æ®è½¬åŒ–ä¸ºå¦å¤–ä¸€ç§ç±»å‹çš„æ•°æ®
         */
        //è·å–æ¯ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå¹¶ä¸”è¿”å›
        Function<String, Integer> function = String::length;
        Stream<String> stream3 = Stream.of("ç¨‹åºå‘˜ç”°èº", "æ¡ç”°èºçš„å°ç”·å­©", "æ¡ç“¶å­çš„å°ç”·å­©");
        Stream<Integer> resultStream = stream3.map(function);
        resultStream.forEach(System.out::println);
        //5
        //7
        //7

        /*
        Consumer<T>æ˜¯ä¸€ä¸ªæ¶ˆè´¹æ€§æ¥å£ï¼Œé€šè¿‡ä¼ å…¥å‚æ•°ï¼Œå¹¶ä¸”æ— è¿”å›çš„æ“ä½œ
         */
        //è·å–æ¯ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå¹¶ä¸”è¿”å›
        Consumer<String> comsumer = System.out::println;
        Stream<String> stream4 = Stream.of("ç¨‹åºå‘˜ç”°èº", "æ¡ç”°èºçš„å°ç”·å­©", "æ¡ç“¶å­çš„å°ç”·å­©");
        stream4.forEach(comsumer);
        //ç¨‹åºå‘˜ç”°èº
        //æ¡ç”°èºçš„å°ç”·å­©
        //æ¡ç“¶å­çš„å°ç”·å­©

        /*
        Predicate<T>æ˜¯ä¸€ä¸ªåˆ¤æ–­å‹æ¥å£,å¹¶ä¸”è¿”å›å¸ƒå°”å€¼ç»“æœ.
         */
        //è·å–æ¯ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå¹¶ä¸”è¿”å›
        Predicate<Integer> predicate = a -> a > 18;
        UserInfo userInfo = new UserInfo(2L, "ç¨‹åºå‘˜ç”°èº", 27);
        System.out.println(predicate.test(userInfo.getAge()));
        //true

        /*
        Supplier<T>æ˜¯ä¸€ä¸ªä¾›ç»™å‹æ¥å£,æ— å‚æ•°ï¼Œæœ‰è¿”å›ç»“æœã€‚
         */
        Supplier<Integer> supplier = () -> Integer.valueOf("666");
        System.out.println(supplier.get());
        //666
        //æ¯”å¦‚æˆ‘ä»¬DAOæ“ä½œå®Œæ•°æ®åº“ï¼Œæ˜¯ä¼šæœ‰ä¸ªresultçš„æ•´å‹ç»“æœè¿”å›ã€‚æˆ‘ä»¬å°±å¯ä»¥ç”¨Supplier<T>æ¥ç»Ÿä¸€åˆ¤æ–­æ˜¯å¦æ“ä½œæˆåŠŸã€‚
//        private void saveDb(Supplier<Integer> supplier) {
//            if (supplier.get() > 0) {
//                System.out.println("æ’å…¥æ•°æ®åº“æˆåŠŸ");
//            }else{
//                System.out.println("æ’å…¥æ•°æ®åº“å¤±è´¥");
//            }
//        }
//
//        @Test
//        public void add() throws Exception {
//            Course course=new Course();
//            course.setCname("java");
//            course.setUserId(100L);
//            course.setCstatus("Normal");
//            saveDb(() -> courseMapper.insert(course));
//        }
    }
}

class UserInfo{
    private Long id;
    private String name;
    private int age;

    public UserInfo() {
    }

    public UserInfo(Long id, String name, int age) {
        this.id = id;
        this.name = name;
        this.age = age;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    @Override
    public String toString() {
        return "UserInfo{" +
                "id=" + id +
                ", name='" + name + '\'' +
                ", age=" + age +
                '}';
    }
}
```

## 7ã€å¸¸ç”¨ç±»

### 1ã€å†…éƒ¨ç±»

æˆå‘˜å†…éƒ¨ç±»ã€é™æ€å†…éƒ¨ç±»ã€å±€éƒ¨å†…éƒ¨ç±»ã€åŒ¿åå†…éƒ¨ç±»

æ¦‚å¿µï¼šåœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨å†å®šä¹‰ä¸€ä¸ªå®Œæ•´çš„ç±»

ç‰¹ç‚¹ï¼š

- ç¼–è¯‘ä¹‹åå¯ç”Ÿæˆç‹¬ç«‹çš„å­—èŠ‚ç æ–‡ä»¶
- å†…éƒ¨ç±»å¯ç›´æ¥è®¿é—®å¤–éƒ¨ç±»ç§æœ‰æˆå‘˜ï¼Œè€Œä¸ç ´åå°è£…
- å¯ä¸ºå¤–éƒ¨ç±»æä¾›å¿…è¦çš„å†…éƒ¨åŠŸèƒ½ç»„ä»¶

```java
Outer$Inner.class` `Outer.class
```

```java
// èº«ä½“
class Body{
  // å¤´éƒ¨
  class Header{
    // ä¹Ÿä¼šç”Ÿæˆclassæ–‡ä»¶
  }
}
```

**æˆå‘˜å†…éƒ¨ç±»**

- åœ¨ç±»çš„å†…éƒ¨å®šä¹‰ï¼Œä¸å®ä¾‹å˜é‡ã€å®ä¾‹æ–¹æ³•åŒçº§åˆ«çš„ç±»
- å¤–éƒ¨ç±»çš„ä¸€ä¸ªå®ä¾‹éƒ¨åˆ†ï¼Œåˆ›å»ºå†…éƒ¨ç±»å¯¹è±¡æ—¶ï¼Œå¿…é¡»ä¾èµ–å¤–éƒ¨ç±»å¯¹è±¡
- å½“å¤–éƒ¨ç±»ã€å†…éƒ¨ç±»å­˜åœ¨é‡åå±æ€§æ—¶ï¼Œä¼šä¼˜å…ˆè®¿é—®å†…éƒ¨ç±»å±æ€§
- æˆå‘˜å†…éƒ¨ç±»é‡Œä¸èƒ½å®šä¹‰**é™æ€æˆå‘˜**ã€å¯ä»¥åŒ…å«**é™æ€å¸¸é‡(final)**

```java
// å¤–éƒ¨ç±»
public class Outer{
  //å®ä¾‹å˜é‡
  private String name = "å¼ ä¸‰";
  private int age = 20;
  //å†…éƒ¨ç±»
  class Inner{
    private String address = "åŒ—äº¬";
    private String phone = "110";
    private String name = "æå››";
    
    //æ–¹æ³•
    public void show(){
      //æ‰“å°å¤–éƒ¨ç±»å±æ€§ æ­¤æ—¶æœ‰é‡åå±æ€§name
      System.out.println(Outer.this.name); // å¼ ä¸‰
      System.out.println(age);
      //æ‰“å°å†…éƒ¨ç±»ä¸­çš„å±æ€§
      System.out.println(name); // æå››
      System.out.println(address);
      System.out.println(phone);
    }
  }
}

// æµ‹è¯•ç±»
public class Test{
  public static void main(String[] args){
    // åˆ›å»ºå¤–éƒ¨ç±»å¯¹è±¡
    Outer outer = new Outer();
    // åˆ›å»ºå†…éƒ¨ç±»å¯¹è±¡
    Inner inner = outer.new Inner();
    
    //ä¸€æ­¥åˆ°ä½
    Outer.Inner inner = new Outer().new Inner();
                            
    inner.show();
  }
}
```

**é™æ€å†…éƒ¨ç±»**

- ä¸ä¾èµ–å¤–éƒ¨ç±»å¯¹è±¡ï¼Œå¯ç›´æ¥åˆ›å»ºæˆ–é€šè¿‡ç±»åè®¿é—®ï¼Œå¯å£°æ˜é™æ€æˆå‘˜

```java
// å¤–éƒ¨ç±»
public class Outer{
  //å®ä¾‹å˜é‡
  private String name = "xxx";
  private int age = 20;
  
  // é™æ€å†…éƒ¨ç±»ï¼Œå’Œå¤–éƒ¨ç±»ç›¸åŒ
  static class Inner{
    private String address = "ä¸Šæµ·";
    private String phone = "111";
    // é™æ€æˆå‘˜
    private static int count = 1000;
    
    //æ–¹æ³•
    public void show(){
      // è°ƒç”¨å¤–éƒ¨ç±»çš„å±æ€§
      // 1. å…ˆåˆ›å»ºå¤–éƒ¨ç±»å¯¹è±¡
      Outer outer = new Outer();
      // 2. è°ƒç”¨å¤–éƒ¨ç±»å¯¹è±¡çš„å±æ€§
      System.out.println(outer.name);
      System.out.println(outer.age);
      // è°ƒç”¨é™æ€å†…éƒ¨ç±»çš„å±æ€§å’Œæ–¹æ³•
      System.out.println(address);
      System.out.println(phone);
      // è°ƒç”¨é™æ€å†…éƒ¨ç±»çš„é™æ€å±æ€§
      System.out.println(Inner.count);
    }
  }
}

// æµ‹è¯•ç±»
public class Test{
  public static void main(String[] args){
    // ç›´æ¥åˆ›å»ºé™æ€å†…éƒ¨ç±»å¯¹è±¡
    Outer.Inner inner = new Outer.Inner();
                     
    inner.show();
  }
}
```

**å±€éƒ¨å†…éƒ¨ç±»**

- å®šä¹‰åœ¨å¤–éƒ¨ç±»**æ–¹æ³•**ä¸­ï¼Œä½œç”¨èŒƒå›´å’Œåˆ›å»ºå¯¹è±¡èŒƒå›´ä»…é™äºå½“å‰æ–¹æ³•
- å±€éƒ¨å†…éƒ¨ç±»è®¿é—®å¤–éƒ¨ç±»å½“å‰æ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡æ—¶ï¼Œå› æ— æ³•ä¿éšœå˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¸è‡ªèº«ç›¸åŒï¼Œå˜é‡å¿…é¡»ä¿®é¥°ä¸ºfinal
- é™åˆ¶ç±»çš„ä½¿ç”¨èŒƒå›´

```java
// å¤–éƒ¨ç±»
public class Outer{
  //å®ä¾‹å˜é‡
  private String name = "åˆ˜å¾·å";
  private int age = 35;
  
  //æ–¹æ³•
  public void show(){
    // å®šä¹‰å±€éƒ¨å˜é‡
    String address = "sz";
    
    // å±€éƒ¨å†…éƒ¨ç±»ï¼šæ³¨æ„ä¸èƒ½åŠ ä»»ä½•è®¿é—®ä¿®é¥°ç¬¦
    class Inner{
      private String phone = "11234";
      private String email = "ldh@qq.com";
      
      public void show2(){
        // è®¿é—®å¤–éƒ¨ç±»çš„å±æ€§
        System.out.println(name); // ç›¸å½“äº Outer.this.name
        System.out.println(age);
        // è®¿é—®å†…éƒ¨ç±»çš„å±æ€§
        System.out.println(this.phone);
        System.out.println(this.email);
        
        // è®¿é—®å±€éƒ¨å˜é‡ jdk1.7è¦æ±‚å¿…é¡»å¸¸é‡finalã€jdk1.8è‡ªåŠ¨æ·»åŠ final
        
      }
    }
    // åˆ›å»ºå±€éƒ¨å†…éƒ¨ç±»å¯¹è±¡
    Inner inner = new Inner();
    inner.show2();
  }
}

// æµ‹è¯•ç±»
public class Test{
  public static void main(String[] args){
    // åˆ›å»ºå¤–éƒ¨ç±»å¯¹è±¡
    Outer outer = new Outer();
                     
    outer.show();
  }
}
```

**åŒ¿åå†…éƒ¨ç±»**

- æ²¡æœ‰ç±»åçš„å±€éƒ¨å†…éƒ¨ç±»ï¼ˆä¸€åˆ‡ç‰¹å¾éƒ½ä¸å±€éƒ¨å†…éƒ¨ç±»ç›¸åŒï¼‰
- å¿…é¡»ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»æˆ–è€…å®ç°ä¸€ä¸ªæ¥å£
- å®šä¹‰ç±»ã€å®ç°ç±»ã€åˆ›å»ºå¯¹è±¡çš„è¯­æ³•åˆå¹¶ï¼Œåªèƒ½åˆ›å»ºä¸€ä¸ªè¯¥ç±»çš„å¯¹è±¡
- ä¼˜ç‚¹ï¼šå‡å°‘ä»£ç é‡
- ç¼ºç‚¹å¯è¯»æ€§è¾ƒå·®

```java
// ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ä¼˜åŒ–ï¼ˆç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªå±€éƒ¨å†…éƒ¨ç±»ï¼‰
Usb usb = new Usb(){ // Usbä¸ºä¸€ä¸ªæ¥å£
  @Override
  public void service(){
    sout("è¿æ¥ç”µè„‘æˆåŠŸï¼Œfanå¼€å§‹å·¥ä½œ")
  }
};
usb.service();
```

### 2ã€Objectç±»

- è¶…ç±»ã€åŸºç±»ï¼Œæ‰€æœ‰ç±»çš„ç›´æ¥æˆ–é—´æ¥çˆ¶ç±»ï¼Œä½äºç»§æ‰¿æ ‘çš„æœ€é¡¶å±‚
- ä»»ä½•ç±»ï¼Œå¦‚æ²¡æœ‰ä¹¦å†™extendsæ˜¾ç¤ºç»§æ‰¿æŸä¸ªç±»ï¼Œéƒ½é»˜è®¤ç›´æ¥ç»§æ‰¿Objectç±»ï¼Œå¦åˆ™ä¸ºé—´æ¥ç»§æ‰¿
- Objectç±»ä¸­æ‰€å®šä¹‰çš„æ–¹æ³•ï¼Œæ˜¯æ‰€æœ‰å¯¹è±¡éƒ½å…·å¤‡çš„æ–¹æ³•
- Objectç±»å‹å¯ä»¥å­˜å‚¨ä»»ä½•å¯¹è±¡
  - ä½œä¸ºå‚æ•°ï¼Œå¯æ¥å—ä»»ä½•å¯¹è±¡
  - ä½œä¸ºè¿”å›å€¼ï¼Œå¯è¿”å›ä»»ä½•å¯¹è±¡

#### 1ã€getClassæ–¹æ³•

- `public final Class<?> getClass(){}`
- è¿”å›å¼•ç”¨ä¸­å­˜å‚¨çš„å®é™…å¯¹è±¡ç±»å‹
- åº”ç”¨ï¼šé€šå¸¸ç”¨äºåˆ¤æ–­ä¸¤ä¸ªå¼•ç”¨ä¸­å®é™…å­˜å‚¨å¯¹è±¡ç±»å‹æ˜¯å¦ä¸€è‡´

```java
// åˆ¤æ–­s1 å’Œ s2æ˜¯ä¸æ˜¯åŒä¸€ä¸ªç±»å‹
Class class1 = s1.getClass();
Class class2 = s2.getClass();
// getClassè¿”å› classç±»å‹
```

#### 2ã€hashCode()æ–¹æ³•

- `public int hashCode(){}`
- è¿”å›è¯¥å¯¹è±¡çš„å“ˆå¸Œç å€¼
- å“ˆå¸Œå€¼æ ¹æ®å¯¹è±¡çš„åœ°å€æˆ–å­—ç¬¦ä¸²æˆ–æ•°å­—ä½¿ç”¨hashç®—æ³•è®¡ç®—å‡ºæ¥çš„intç±»å‹çš„å€¼
- ä¸€èˆ¬æƒ…å†µä¸‹ç›¸åŒå¯¹è±¡è¿”å›ç›¸åŒå“ˆå¸Œç 

```java
s1.hashCode();
s2.hashCode();
// è‡ªç„¶ä¸åŒ
Student s3 = s1; // æ­¤æ—¶s3çš„hashCodeä¸s1ç›¸åŒ
```

#### 3ã€toString()æ–¹æ³•

- `public String toSring(){}`
- è¿”å›è¯¥å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼ˆè¡¨ç°å½¢å¼ï¼‰
- å¯ä»¥æ ¹æ®ç¨‹åºéœ€æ±‚è¦†ç›–è¯¥æ–¹æ³•ï¼Œå¦‚ï¼šå±•ç¤ºå¯¹è±¡å„ä¸ªå±æ€§å€¼

```java
System.out.println(s1.toString()); // ç›´æ¥æ‰“å°åŒ…+ç±»å+å“ˆå¸Œå€¼
// é‡å†™ alt + enter + s
@override
public String toString(){
  return "Student [name = " + name + ", age = " + age + "]";
}
```

#### 4ã€equals()æ–¹æ³•

- `public boolean equals(Object obj){}`
- é»˜è®¤å®ç°ä¸º(this == obj), æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡åœ°å€æ˜¯å¦ç›¸åŒ
- å¯è¿›è¡Œè¦†ç›–ï¼Œæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸åŒ

```java
// åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰
System.out.println(s1.equals(s2)); // false

Student s4 = new Strudent("å°æ˜", 17);
Student s5 = new Strudent("å°æ˜", 17);
sout(s4.equals(s5)); // false å †ä¸­åœ°å€ä¸åŒ

// é‡å†™ æ”¹å˜å…¶æ¯”è¾ƒå†…å®¹
/*
æ­¥éª¤  1. æ¯”è¾ƒä¸¤ä¸ªåº”ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
     2. åˆ¤æ–­objæ˜¯å¦ä¸ºnull
     3. åˆ¤æ–­ä¸¤ä¸ªå¼•ç”¨åªæƒ³çš„å®é™…å¯¹è±¡ç±»å‹æ˜¯å¦ä¸€è‡´
     4. å¼ºåˆ¶ç±»å‹è½¬æ¢
     5. ä¾æ¬¡æ¯”è¾ƒå„ä¸ªå±æ€§å€¼æ˜¯å¦ç›¸åŒ
*/
@override
public boolean equals(Object obj){
  // 1.
  if(this == obj){
    return true;
  }
  // 2.
  if(obj == null){
    return false;
  }
  // 3.
  // if(this.getClass() == obj.getClass()){
  //
  // }
  // instanceof åˆ¤æ–­å¯¹è±¡æ˜¯å¦æ˜¯æŸç§ç±»å‹
  if(obj instanceof Student){
    // 4.å¼ºåˆ¶ç±»å‹è½¬æ¢
    Student s = (Student)obj;
    // 5. æ¯”è¾ƒå±æ€§
    if(this.name.equals(s.getName()) && this.age == s.getAge()){
      return true;
    }
  }
  return false;
}
```

#### 5ã€finalize() æ–¹æ³•

- å½“å¯¹è±¡è¢«åˆ¤å®šä¸ºåƒåœ¾å¯¹è±¡æ—¶ï¼Œç”±JVMè‡ªåŠ¨è°ƒç”¨æ­¤æ–¹æ³•ï¼Œç”¨ä»¥æ ‡è®°åƒåœ¾å¯¹è±¡ï¼Œè¿›å…¥å›æ”¶é˜Ÿåˆ—
- åƒåœ¾å¯¹è±¡ï¼šæ²¡æœ‰æœ‰æ•ˆå¼•ç”¨æŒ‡å‘æ­¤å¯¹è±¡æ—¶ï¼Œä¸ºåƒåœ¾å¯¹è±¡
- åƒåœ¾å›æ”¶ï¼šç”±gcé”€æ¯åƒåœ¾å¯¹è±¡ï¼Œé‡Šæ”¾æ•°æ®å­˜å‚¨ç©ºé—´
- è‡ªåŠ¨å›æ”¶æœºåˆ¶ï¼šJVMçš„å†…å­˜è€—å°½ï¼Œä¸€æ¬¡æ€§å›æ”¶æ‰€æœ‰åƒåœ¾å¯¹è±¡
- æ‰‹åŠ¨å›æ”¶æœºåˆ¶ï¼šä½¿ç”¨`System.gc();`é€šçŸ¥JVMæ‰§è¡Œåƒåœ¾å›æ”¶

```java
@Override
protected void finalize() throws Throwable{
  sout(this.name + "å¯¹è±¡è¢«å›æ”¶äº†");
}

public static void main(String[] args){
  Student s1 = new Student("aaa", 29); // ä¸æ˜¯åƒåœ¾
  new Student("bbb", 30); // æ˜¯è¾£é¸¡ ä¼šè¢«å›æ”¶
  //å›æ”¶åƒåœ¾
  System.gc();
  System.out.println("å›æ”¶åƒåœ¾"); 
  // æ‰“å°å‡º â€œå›æ”¶åƒåœ¾ 
  //         aaaå¯¹è±¡è¢«å›æ”¶äº†â€
}
```

### 3ã€åŒ…è£…ç±»

- **åŸºæœ¬æ•°æ®ç±»å‹**æ‰€å¯¹åº”çš„**å¼•ç”¨æ•°æ®ç±»å‹**
- Object å¯ç»Ÿä¸€æ‰€æœ‰æ•°æ®ï¼ŒåŒ…è£…ç±»çš„é»˜è®¤å€¼æ˜¯null

| åŸºæœ¬æ•°æ®ç±»å‹ | åŒ…è£…ç±»å‹  |
| :----------: | :-------: |
|     byte     |   Byte    |
|    short     |   Short   |
|     int      |  Integer  |
|     long     |   Long    |
|    float     |   Float   |
|    double    |  Double   |
|   boolean    |  Boolean  |
|     char     | Character |

**ç±»å‹è½¬æ¢ä¸è£…ç®±ã€æ‹†ç®±**

- 8ç§åŒ…è£…ç±»æä¾›ä¸ç”¨ç±»å‹é—´çš„è½¬æ¢æ–¹å¼
  1. Numberçˆ¶ç±»ä¸­æä¾›çš„6ä¸ªå…±æ€§æ–¹æ³•
  2. `parseXXX( )`é™æ€æ–¹æ³•
  3. `valueOf( )`é™æ€æ–¹æ³•
- æ³¨æ„ï¼šéœ€ä¿è¯ç±»å‹å…¼å®¹ï¼Œå¦åˆ™æŠ›å‡ºNumberFormatExceptionå¼‚å¸¸

```java
public static void main(String[] args){
  // è£…ç®±ï¼Œ åŸºæœ¬ç±»å‹ â†’ å¼•ç”¨ç±»å‹
  // åŸºæœ¬ç±»å‹
  int num1 = 18;
  // ä½¿ç”¨Integerç±»åˆ›å»ºå¯¹è±¡
  Integer integer1 = new Integer(num1);
  Integer integer2 = Integer.valueOf(num1);
  
  // æ‹†ç®±ï¼Œ å¼•ç”¨ç±»å‹ â†’ åŸºæœ¬ç±»å‹
  Integer integer3 = new Integer(100);
  int num2 = integer3.intValue();
  
  // ä¸Šè¿°ä¸ºjdk1.5ä¹‹å‰æ–¹æ³•ï¼Œä¹‹åæä¾›äº†è‡ªåŠ¨è£…ç®±æ‹†ç®±
  int age = 30;
  // è‡ªåŠ¨è£…ç®±
  Integer integer4 = age;
  // è‡ªåŠ¨æ‹†ç®±
  int age2 = integer4;
  
  // åŸºæœ¬ç±»å‹å’Œå­—ç¬¦ä¸²ä¹‹é—´è½¬æ¢
  // 1. åŸºæœ¬ç±»å‹è½¬æˆå­—ç¬¦ä¸²
  int n1 = 100;
  // 1.1 ä½¿ç”¨+å·
  String s1 = n1 + "";
  // 1.2 ä½¿ç”¨Integerä¸­çš„toString()æ–¹æ³•
  String s2 = Integer.toString(n1);
  String s2 = Integer.toString(n1, x); // xä¸ºè¿›åˆ¶è¦æ±‚
  
  // 2. å­—ç¬¦ä¸²è½¬æˆåŸºæœ¬ç±»å‹
  String str = "150";
  // ä½¿ç”¨Integer.parseXXX();
  int n2 = Integer.parseInt(str);
  
  // boolean å­—ç¬¦ä¸²å½¢å¼è½¬æˆåŸºæœ¬ç±»å‹ï¼Œ"true" ---> true éâ€œtrue â€”â€”â€”> false
  String str2 = "true";
  boolean b1 = Boolean.parseBoolean(str2);
}
```

**æ•´æ•°ç¼“å†²åŒº**

- Javaé¢„å…ˆåˆ›å»ºäº†256ä¸ªå¸¸ç”¨çš„è¯ä¹¦åŒ…è£…ç±»å‹å¯¹è±¡
- åœ¨å®é™…åº”ç”¨å½“ä¸­ï¼Œå¯¹å·²åˆ›å»ºçš„å¯¹è±¡è¿›è¡Œå¤ç”¨

```java
public static void main(String[] args){
  // é¢è¯•é¢˜
  Integer integer1 = new Integer(100);
  Integer integer2 = new Integer(100);
  System.out.println(integer1 == integer2); // false
  
  Integer integer3 = 100;// è‡ªåŠ¨è£…ç®±
  // ç›¸å½“äºè°ƒç”¨ Integer.valueOf(100);
  Integer integer4 = 100;
  System.out.println(integer3 == integer4); // true
  
  Integer integer5 = 200;// è‡ªåŠ¨è£…ç®±
  Integer integer6 = 200;
  System.out.println(integer5 == integer6); // false
  
  // å› ä¸ºç¼“å­˜åŒºæ•°ç»„ [-128, 127] åœ¨è¿™ä¹‹å†…åœ°å€ä¸€æ ·
}
```

### 4ã€Stringç±»

- å­—ç¬¦ä¸²æ˜¯å¸¸é‡ï¼Œåˆ›å»ºä¹‹åä¸å¯æ”¹å˜
- å­—ç¬¦ä¸²å­—é¢å€¼å­˜å‚¨åœ¨å­—ç¬¦ä¸²æ± ä¸­ï¼Œå¯ä»¥å…±äº«
- `String s = "Hello";`äº§ç”Ÿä¸€ä¸ªå¯¹è±¡ï¼Œå­—ç¬¦ä¸²æ± ä¸­å­˜å‚¨
- `String s = new String("Hello");` äº§ç”Ÿä¸¤ä¸ªå¯¹è±¡ï¼Œ**å †ã€æ± **å„ä¸€ä¸ª

**å¸¸ç”¨æ–¹æ³•**

```java
// 1. length(); è¿”å›å­—ç¬¦ä¸²é•¿åº¦
// 2. charAt(int index); è¿”å›æŸä¸ªä½ç½®çš„å­—ç¬¦
// 3. contains(String str); åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå­—ç¬¦ä¸²

String content = "javaæ˜¯æœ€å¥½çš„è¯­è¨€";
sout(content.length()); // 10
sout(content.charAt(content.length() - 1)); // è¨€
sout(content.contains("java")); // true

// 4. toCharArray(); è¿”å›å­—ç¬¦ä¸²å¯¹åº”æ•°ç»„ 
// 5. indexOf(); è¿”å›å­å­—ç¬¦ä¸²é¦–æ¬¡å‡ºç°çš„ä½ç½®
// 6. lastIndexOf(); è¿”å›å­—ç¬¦ä¸²æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®

sout(content.toCharArray());
sout(content.indexOf("java")); // 0
sout(content.indexOf("java", 4)); // ä»ç´¢å¼•4å¼€å§‹æ‰¾ è¿”å›12
sout(content.lastIndexOf("java")); // 12

// 7. trim(); //å»æ‰å­—ç¬¦ä¸²å‰åç©ºæ ¼
// 8. toUpperCase(); toLowerCase(); è½¬æ¢å¤§å°å†™
// 9. endWith(str); startWith(str);  åˆ¤æ–­æ˜¯å¦ä»¥str ç»“å°¾ã€å¼€å¤´

String ct = " hello world ";
sout(ct.trim()); // "hello world"
sout(ct.toUpperCase()); // HELLO WORLD
sout(ct.toLowerCase()); // hello world
sout(ct.endWith("world")); // true
sout(ct.startWith("hello")) // true
  
// 10. replace(char old, char new); ç”¨å¿ƒçš„å­—ç¬¦æˆ–å­—ç¬¦ä¸²æ›¿æ¢æ—§çš„å­—ç¬¦æˆ–å­—ç¬¦ä¸²
// 11. split(); å¯¹å­—ç¬¦ä¸²æ‹†åˆ†

sout(content.replace("java", "php")); // phpæ˜¯æœ€å¥½çš„è¯­è¨€, php no1

String say = "java is the best language";
String[] arr = arr.say.split(" "); // "[ ,]+" è¡¨ç¤ºç©ºæ ¼ é€—å·åˆ‡åˆ† +å·è¡¨ç¤ºåˆ‡åˆ†å¯ä»¥å¤šä¸ª æ¯”å¦‚å¤šä¸ªç©ºæ ¼
sout(arr.length); // 5
for(String string : arr){
  sout(string);
}
// æ‰“å°å‡º 
//java
//is
//the 
//best
//language

// è¡¥å……ä¸¤ä¸ªequals/compareTo();æ¯”è¾ƒå¤§å°
String s1 = "hello";
String s2 = "HELLO";
sout(s1.equalsIgnoreCase(s2));// å¿½ç•¥å¤§å°å†™æ¯”è¾ƒtrue

// compareTo(); ä¸¤å­—ç¬¦ä¸åŒæ—¶æ¯”è¾ƒå­—ç¬¦å­—å…¸åºçš„asciiç 
// å­—ç¬¦ç›¸åŒæ—¶æ¯”è¾ƒé•¿åº¦ è¿”å›å·®å€¼
```

**æ¡ˆä¾‹æ¼”ç¤º**

éœ€æ±‚ï¼š

1. å·²çŸ¥String str = "this is a text";
2. å°†strä¸­çš„å•è¯å•ç‹¬è·å–
3. å°†strä¸­çš„textæ›¿æ¢æˆpractice
4. åœ¨textå‰é¢æ’å…¥ä¸€ä¸ªeasy
5. å°†æ¯ä¸ªå•è¯çš„é¦–å­—æ¯æ”¹ä¸ºå¤§å†™

```java
psvm(String[] args){
  String str = "this is a text";
  // 2. 
  String[] arr = str.split(" ");
  for(String s : arr){
    sout(s);
  }
  // 3.
 String str2 = str.replace("text", "practice");
  // 4. 
 String str3 = str.replace("text", "easy text");
  // 5. 
 String[] s = str.split(" ");
 StringBuilder sb = new StringBuilder();
        for (String s1 : s) {
            char c = s1.charAt(0);
            char c1 = Character.toUpperCase(c);
            String strNew=c1+s1.substring(1);
            sb.append(strNew);
            sb.append(" ");
        }
        String res = sb.toString();
        System.out.println(res);
        System.out.println(res.length());
        String val = res.substring(0,res.length()-1);
        System.out.println(val);
        System.out.println(val.length());
}
```

**å¯å˜å­—ç¬¦ä¸²**

- StringBuffer : å¯å˜é•¿å­—ç¬¦ä¸²ï¼Œè¿è¡Œæ•ˆç‡æ…¢ã€çº¿ç¨‹å®‰å…¨
- StringBuilder : å¯è¾¹é•¿å­—ç¬¦ä¸²ã€è¿è¡Œå¿«ã€çº¿ç¨‹ä¸å®‰å…¨

æ•ˆç‡éƒ½æ¯”Stringé«˜ä¸”èŠ‚çœå†…å­˜

```java
psvm(String[] args){
  // StringBuffer å’Œ StringBuilder ç”¨æ³•ä¸€è‡´
  StringBuffer sb = new StringBuffer();
  // 1. append(); è¿½åŠ 
  sb.append("java no1");
  // 2. insert(); æ·»åŠ ã€æ’å…¥
  sb.insert(0, "åœ¨ç¬¬ä¸€ä¸ªä½ç½®æ’å…¥");
  // 3.replace(); æ›¿æ¢
  sb.replace(0, 9, str); // å·¦é—­å³å¼€
  // 4. delete(); åˆ é™¤
  sb.delete(0, 5); // å·¦é—­å³å¼€
  // 5. æ¸…ç©º
  sb.delete(0, sb.length());
}
```

### 5ã€BigDecimalç±»

- ä½ç½® `java.math` åŒ…ä¸­
- ä½œç”¨ ç²¾ç¡®è®¡ç®—æµ®ç‚¹æ•°
- åˆ›å»ºæ–¹å¼ `BigDecimal bd = new BigDecimal("1.0");`

```java
BigDecimal bd1 = new BigDecimal("1.0"); // éœ€ç”¨å­—ç¬¦ä¸²
BigDecimal bd2 = new BigDecimal("0.9");
// å‡æ³•
BigDecimal r1 = bd1.subtract(bd2);
System.out.println(r1); // 0.1

// åŠ æ³•
BigDecimal r2 = bd1.add(bd2);	//1.9

//ä¹˜æ³•
BigDecimal r3 = bd1.multiply(bd2);	//0.90

// é™¤æ³•
BigDecimal r4 = bd1.divide(bd2,2,BigDecimal.ROUND_HALF_UP);	//1.11

BigDecimal r5 = new BigDecimal("1.4").subtract(new BigDecimal("0.5")).divide(new BigDecimal("0.9"), x, BigDecimal.ROUND_HALF_UP); 	//1.11
//é™¤ä¸å°½æ—¶ xå¡«ä¿ç•™ä½æ•° åé¢ä¸ºå››èˆäº”å…¥ä¹‹æ„
```

###  6ã€Dateç±»

#### Date

Dateè¡¨ç¤ºç‰¹å®šçš„ç¬é—´ï¼Œç²¾ç¡®åˆ°æ¯«ç§’ã€‚Dateç±»ä¸­çš„å¤§éƒ¨åˆ†æ–¹æ³•éƒ½å·²ç»è¢«Calendarç±»ä¸­çš„æ–¹æ³•æ‰€å–ä»£

æ—¶é—´å•ä½ï¼š1s = 1,000ms = 1,000,000 Î¼s = 1,000,000,000 = ns

```java
public static void main(String[] args){
  // 1 åˆ›å»ºDateå¯¹è±¡
  Date date1 = new Date();
  System.out.println(date1.toString()); //WED Sept 02 22:25:23 CST 2020
  System.out.println(date1.toLocaleString()); // å·²è¿‡æ—¶ ä½†ä¹Ÿèƒ½ç”¨ 2020-9-2
  
  // åˆ›å»ºæ˜¨å¤©çš„
  Date date2 = new Date(date1.getTime() - (60*60*24*1000));
  System.out.println(date2.toLocaleString());
  
  // 2 æ–¹æ³•after before
  boolean b1 = date1.after(date2);
  System.out.println(b1); //true
  boolean b2 = date1.before(date2);
  System.out.println(b2); //false
  
  // æ¯”è¾ƒcompareTo();
  int d = date1.compareTo(date2);
  System.out.println(d); //1 å¤šçš„ä¸º1 å°‘çš„ä¸º -1 
  
  // æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰ equals()
  boolean b3 = date1.equals(date2);
  System.out.println(b3); // false
}
```

#### Calendar

- Calendaræä¾›äº†è·å–æˆ–è®¾ç½®å„ç§æ—¥å†å­—æ®µçš„æ–¹æ³•
- æ„é€ æ–¹æ³• `protected Calendar();` ç”±äºæ˜¯protected æ‰€ä»¥æ— æ³•ç›´æ¥åˆ›å»º
- å…¶ä»–æ–¹æ³•

| æ–¹æ³•å                                                       | è¯´æ˜                                       |
| :----------------------------------------------------------- | :----------------------------------------- |
| static Calendar getInstance()                                | ä½¿ç”¨é»˜è®¤æ—¶åŒºå’ŒåŒºåŸŸè·å–æ—¥å†                 |
| void set(int year, int month, int date, int hourofday, int minute, int second) | è®¾ç½®æ—¥å†çš„å¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’           |
| int get(int field)                                           | è¿”å›ç»™å®šæ—¥å†å­—æ®µçš„å€¼ã€‚å­—æ®µæ¯”å¦‚å¹´ã€æœˆã€æ—¥   |
| void setTime(Date date)                                      | ç”¨ç»™å®šçš„dateè®¾ç½®æ­¤æ—¥å†æ—¶é—´                 |
| Date getTime()                                               | è¿”å›ä¸€ä¸ªdateè¡¨ç¤ºæ­¤æ—¥å†çš„æ—¶é—´               |
| void add(int field, int amount)                              | æŒ‰ç…§æ—¥å†çš„è§„åˆ™ï¼Œç»™æŒ‡å®šå­—æ®µæ·»åŠ æˆ–å‡å°‘æ—¶é—´é‡ |
| long getTimeInMilles()                                       | æ¯«ç§’ä¸ºå•ä½è¿”å›è¯¥æ—¥å†çš„æ—¶é—´å€¼               |

```java
public static void main(String[] args){
    	// 0.å¤„ç†Dateå¯¹è±¡
   		Calendar calendar_0 = Calendar.getInstance();
        calendar_0.setTime(date);
        System.out.println(calendar_0.get(Calendar.YEAR));
		// 1. åˆ›å»º Calendar å¯¹è±¡
        Calendar calendar = Calendar.getInstance();
        System.out.println(calendar);
        System.out.println(calendar.getTime().toString());
        // 2. è·å–æ—¶é—´ä¿¡æ¯
        // è·å–å¹´
        int year = calendar.get(Calendar.YEAR);
        System.out.println(year);
        // è·å–æœˆ ä» 0 - 11
        int month = calendar.get(Calendar.MONTH);
        System.out.println(month);
        // æ—¥
        int day = calendar.get(Calendar.DAY_OF_MONTH);
        System.out.println(day);
        // å°æ—¶
        int hour = calendar.get(Calendar.HOUR_OF_DAY);
        System.out.println(hour);
        // åˆ†é’Ÿ
        int minute = calendar.get(Calendar.MINUTE);
        System.out.println(minute);
        // ç§’
        int second = calendar.get(Calendar.SECOND);
        System.out.println(second);
        // 3. ä¿®æ”¹æ—¶é—´
        Calendar calendar2 = Calendar.getInstance();
        calendar2.set(Calendar.DAY_OF_MONTH, 1);
        System.out.println(calendar2);
        // 4. addä¿®æ”¹æ—¶é—´
        calendar2.add(Calendar.HOUR, 1); // xä¸ºæ­£å°±åŠ  è´Ÿå°±å‡
        System.out.println(calendar2);
        // 5. è¡¥å……æ–¹æ³•
        int max = calendar2.getActualMaximum(Calendar.DAY_OF_MONTH);// æœˆæ•°æœ€å¤§å¤©æ•°
        int min = calendar2.getActualMinimum(Calendar.DAY_OF_MONTH);
        System.out.println(max);
        System.out.println(min);
}
```

#### SimpleDateFormat

- SimpleDateFormatæ˜¯ä¸€ä¸ªä»¥ä¸è¯­è¨€ç¯å¢ƒæœ‰å…³çš„æ–¹å¼æ¥æ ¼å¼åŒ–å’Œè§£ææ—¥æœŸçš„å…·ä½“ç±»
- è¿›è¡Œæ ¼å¼åŒ–ï¼ˆæ—¥æœŸâ†’æ–‡æœ¬ï¼‰ã€è§£æï¼ˆæ–‡æœ¬â†’æ—¥æœŸï¼‰
- å¸¸ç”¨çš„æ—¶é—´æ¨¡å¼å­—æ¯

| å­—æ¯ | æ—¥æœŸæˆ–æ—¶é—´         | ç¤ºä¾‹ |
| :--- | :----------------- | :--- |
| y    | å¹´                 | 2019 |
| 08   | å¹´ä¸­æœˆä»½           | 08   |
| d    | æœˆä¸­å¤©æ•°           | 10   |
| H    | ä¸€å¤©ä¸­å°æ—¶ï¼ˆ0-23ï¼‰ | 22   |
| m    | åˆ†é’Ÿ               | 16   |
| s    | ç§’                 | 59   |
| S    | æ¯«ç§’               | 356  |

```java
package com.chang.CommonClass;

import java.math.BigDecimal;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;

public class Test {
    public static void main(String[] args) throws ParseException {
        // 1. åˆ›å»ºå¯¹è±¡
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy/MM/dd HH-mm-ss");
        System.out.println(sdf);    //java.text.SimpleDateFormat@fc61e000
        // 2. åˆ›å»ºDate
        Date date = new Date();
        System.out.println(date);   //Mon Nov 28 12:24:55 CST 2022
        // æ ¼å¼åŒ–dateï¼ˆæ—¥æœŸâ†’å­—ç¬¦ä¸²ï¼‰
        String str = sdf.format(date);
        System.out.println(str);    //2022/11/28 12-24-55
        // è§£æï¼ˆå­—ç¬¦ä¸²â†’æ—¶é—´ï¼‰
        Date date2 = sdf.parse("1948/03/12 12-24-03");  //Fri Mar 12 12:24:03 CST 1948
        System.out.println(date2);
    }
}

```

### 7ã€Systemç±»

ä¸»è¦ç”¨äºè·å–ç³»ç»Ÿçš„å±æ€§æ•°æ®å’Œå…¶ä»–æ“ä½œï¼Œæ„é€ æ–¹æ³•ç§æœ‰çš„

| æ–¹æ³•å                           | è¯´æ˜                                               |
| :------------------------------- | :------------------------------------------------- |
| static void arraycopy(...)       | å¤åˆ¶æ•°ç»„                                           |
| static long currentTimeMillis(); | è·å–å½“å‰ç³»ç»Ÿæ—¶é—´ï¼Œè¿”å›æ¯«ç§’å€¼                       |
| static void gc();                | å»ºè®®jvmèµ¶å¿«å¯åŠ¨åƒåœ¾å›æ”¶æœŸå™¨å›æ”¶åƒåœ¾                |
| static void exit(int status);    | é€€å‡ºjvm å¦‚æœå‚æ•°æ˜¯0è¡¨ç¤ºæ­£å¸¸é€€å‡ºjvm é0è¡¨ç¤ºå¼‚å¸¸é€€å‡º |

```java
package com.chang.CommonClass;

import java.text.ParseException;
import java.util.Arrays;

//arraycopy å¤åˆ¶
//src-åŸæ•°ç»„ srcPos-ä»å“ªä¸ªä½ç½®å¼€å§‹å¤åˆ¶0 dest-ç›®æ ‡æ•°ç»„ destPos-ç›®æ ‡æ•°ç»„çš„ä½ç½® length-å¤åˆ¶çš„é•¿åº¦
public class Test {
    public static void main(String[] args) throws ParseException {
        int[] arr = {20, 18, 39, 3};
        int[] dest = new int [4];
        //System.arraycopy(src, srcPos, dest, destPos, length);
        System.arraycopy(arr, 1, dest, 0, 3);
        System.out.println(Arrays.toString(dest));  //[18, 39, 3, 0]
    }
}

```