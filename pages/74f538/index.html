<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux | 百里登风的博客</title>
    <meta name="generator" content="VuePress 1.9.8">
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e1aa9d15d62220ec692a843c08c79000";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>        
    </script>
    <script src="https://fastly.jsdelivr.net/npm/twikoo@1.5.11/dist/twikoo.all.min.js"></script>
    <script href="./js/index.js" async="async"></script>
    <link rel="icon" href="https://typora001-zc.oss-cn-chengdu.aliyuncs.com/typoraImg/personPhoto.webp">
    <script charset="utf-8" href="./js/main.js"></script>
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <meta name="description" content="张弓折扇风雨历，畅叙平生快意！">
    <meta name="image" content="https://s2.loli.net/2021/12/24/O7xA5wBuUVzPiMg.png">
    <meta name="twitter:title" content="Linux">
    <meta name="twitter:description" content="">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://s2.loli.net/2021/12/24/O7xA5wBuUVzPiMg.png">
    <meta name="twitter:url" content="https://frxcat.fun/06.%E5%B7%A5%E5%85%B7/00.Linux.html">
    <meta name="twitter:site" content="@frxcat">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Linux">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://s2.loli.net/2021/12/24/O7xA5wBuUVzPiMg.png">
    <meta property="og:url" content="https://frxcat.fun/06.%E5%B7%A5%E5%85%B7/00.Linux.html">
    <meta property="og:site_name" content="frxcat">
    <meta property="article:published_time" content="2023-02-03T23:17:15.000Z">
    <meta property="article:tag" content="null">
    <meta itemprop="name" content="Linux">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="https://s2.loli.net/2021/12/24/O7xA5wBuUVzPiMg.png">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="baidu-site-verification" content="code-5aMKYEt9fV">
    <link rel="preload" href="/assets/css/0.styles.79be46fe.css" as="style"><link rel="preload" href="/assets/js/app.bb5e25c9.js" as="script"><link rel="preload" href="/assets/js/2.108e92a1.js" as="script"><link rel="preload" href="/assets/js/70.6ebb8af5.js" as="script"><link rel="preload" href="/assets/js/5.73b07204.js" as="script"><link rel="preload" href="/assets/js/13.9b1b1c77.js" as="script"><link rel="preload" href="/assets/js/14.e2f4930c.js" as="script"><link rel="preload" href="/assets/js/9.5b9b4ae3.js" as="script"><link rel="preload" href="/assets/js/10.68c0c324.js" as="script"><link rel="prefetch" href="/assets/js/11.ef1511e2.js"><link rel="prefetch" href="/assets/js/12.da9b2478.js"><link rel="prefetch" href="/assets/js/15.cd646c33.js"><link rel="prefetch" href="/assets/js/16.3ec04fab.js"><link rel="prefetch" href="/assets/js/17.6e9ef9cc.js"><link rel="prefetch" href="/assets/js/18.493ad1ad.js"><link rel="prefetch" href="/assets/js/19.e0f986d5.js"><link rel="prefetch" href="/assets/js/20.b8528c67.js"><link rel="prefetch" href="/assets/js/21.fad22d46.js"><link rel="prefetch" href="/assets/js/22.8b0c4122.js"><link rel="prefetch" href="/assets/js/23.3e372155.js"><link rel="prefetch" href="/assets/js/24.3b7e2a1d.js"><link rel="prefetch" href="/assets/js/25.9a80a2fa.js"><link rel="prefetch" href="/assets/js/26.a83bf322.js"><link rel="prefetch" href="/assets/js/27.592a3fdd.js"><link rel="prefetch" href="/assets/js/28.a8d69689.js"><link rel="prefetch" href="/assets/js/29.bb969429.js"><link rel="prefetch" href="/assets/js/3.c65ee6b2.js"><link rel="prefetch" href="/assets/js/30.7d78332c.js"><link rel="prefetch" href="/assets/js/31.3f6e4842.js"><link rel="prefetch" href="/assets/js/32.b52e67f7.js"><link rel="prefetch" href="/assets/js/33.1a666e7d.js"><link rel="prefetch" href="/assets/js/34.4b8f1385.js"><link rel="prefetch" href="/assets/js/35.87ca92cc.js"><link rel="prefetch" href="/assets/js/36.fc40f016.js"><link rel="prefetch" href="/assets/js/37.be3bf444.js"><link rel="prefetch" href="/assets/js/38.eeafc53c.js"><link rel="prefetch" href="/assets/js/39.f34be6d8.js"><link rel="prefetch" href="/assets/js/4.c0fd3b18.js"><link rel="prefetch" href="/assets/js/40.9791c200.js"><link rel="prefetch" href="/assets/js/41.020877c5.js"><link rel="prefetch" href="/assets/js/42.45c39e58.js"><link rel="prefetch" href="/assets/js/43.d9e8ef5e.js"><link rel="prefetch" href="/assets/js/44.464ccf3b.js"><link rel="prefetch" href="/assets/js/45.cb64e9da.js"><link rel="prefetch" href="/assets/js/46.0c9a8ead.js"><link rel="prefetch" href="/assets/js/47.a2e35d4f.js"><link rel="prefetch" href="/assets/js/48.098763ec.js"><link rel="prefetch" href="/assets/js/49.07c62b3b.js"><link rel="prefetch" href="/assets/js/50.fc5f88a3.js"><link rel="prefetch" href="/assets/js/51.e2f578ac.js"><link rel="prefetch" href="/assets/js/52.9e3e4056.js"><link rel="prefetch" href="/assets/js/53.f916bd38.js"><link rel="prefetch" href="/assets/js/54.e7c11e98.js"><link rel="prefetch" href="/assets/js/55.0e0a561a.js"><link rel="prefetch" href="/assets/js/56.b2f3577e.js"><link rel="prefetch" href="/assets/js/57.9e884be2.js"><link rel="prefetch" href="/assets/js/58.2fac2650.js"><link rel="prefetch" href="/assets/js/59.3b25f511.js"><link rel="prefetch" href="/assets/js/6.ed952e3d.js"><link rel="prefetch" href="/assets/js/60.bf607c06.js"><link rel="prefetch" href="/assets/js/61.d726e61a.js"><link rel="prefetch" href="/assets/js/62.edf6d32a.js"><link rel="prefetch" href="/assets/js/63.e30fdc11.js"><link rel="prefetch" href="/assets/js/64.922b4a17.js"><link rel="prefetch" href="/assets/js/65.9a3b347a.js"><link rel="prefetch" href="/assets/js/66.5ef4606b.js"><link rel="prefetch" href="/assets/js/67.d90678f1.js"><link rel="prefetch" href="/assets/js/68.91fa461c.js"><link rel="prefetch" href="/assets/js/69.1957f6af.js"><link rel="prefetch" href="/assets/js/7.355266c2.js"><link rel="prefetch" href="/assets/js/71.eee0b217.js"><link rel="prefetch" href="/assets/js/72.39ed8920.js"><link rel="prefetch" href="/assets/js/73.47121ddc.js"><link rel="prefetch" href="/assets/js/74.87a10f99.js"><link rel="prefetch" href="/assets/js/75.0b311495.js"><link rel="prefetch" href="/assets/js/76.268ef349.js"><link rel="prefetch" href="/assets/js/77.58de46fb.js"><link rel="prefetch" href="/assets/js/78.25b31166.js"><link rel="prefetch" href="/assets/js/79.d4ff4d30.js"><link rel="prefetch" href="/assets/js/8.f50cf6d8.js"><link rel="prefetch" href="/assets/js/80.c33be335.js"><link rel="prefetch" href="/assets/js/81.a24132da.js"><link rel="prefetch" href="/assets/js/82.00055c83.js"><link rel="prefetch" href="/assets/js/83.c39146f0.js"><link rel="prefetch" href="/assets/js/84.7c66fe01.js"><link rel="prefetch" href="/assets/js/85.c2a04d1e.js"><link rel="prefetch" href="/assets/js/86.b42a4e19.js"><link rel="prefetch" href="/assets/js/87.bdc4c3c8.js"><link rel="prefetch" href="/assets/js/88.deac45a6.js"><link rel="prefetch" href="/assets/js/89.8f2d6a69.js"><link rel="prefetch" href="/assets/js/90.e5dd302c.js"><link rel="prefetch" href="/assets/js/91.bbe5babf.js"><link rel="prefetch" href="/assets/js/92.74872263.js"><link rel="prefetch" href="/assets/js/93.8b3117a7.js"><link rel="prefetch" href="/assets/js/94.b33e3700.js"><link rel="prefetch" href="/assets/js/95.1ce3db13.js"><link rel="prefetch" href="/assets/js/96.6fda4bae.js">
    <link rel="stylesheet" href="/assets/css/0.styles.79be46fe.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">百里登风的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="散文随笔" class="dropdown-title"><!----> <span class="title" style="display:;">散文随笔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/00.散文随笔/00.沧桑百年史，爱国西交情.html" class="nav-link">沧桑百年史，爱国西交情</a></li><li class="dropdown-item"><!----> <a href="/00.散文随笔/01.静谧之眼.html" class="nav-link">静谧之眼</a></li><li class="dropdown-item"><!----> <a href="/00.散文随笔/02.承党恩泽，物阜民丰.html" class="nav-link">承党恩泽，物阜民丰</a></li><li class="dropdown-item"><!----> <a href="/00.散文随笔/03.历边海防学院记.html" class="nav-link">历边海防学院记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><!----> <span class="title" style="display:;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/01.Java基础/00.Java基础总结.html" class="nav-link">Java基础总结</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/01.Java开发介绍.html" class="nav-link">Java开发介绍</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/02.Java基础编程.html" class="nav-link">Java基础编程</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/03.方法与数组.html" class="nav-link">方法与数组</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/04.面向对象.html" class="nav-link">面向对象</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/05.异常处理.html" class="nav-link">异常处理</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/06.常用类库API.html" class="nav-link">常用类库API</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/07.文件IO操作.html" class="nav-link">文件IO操作</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/08.集合.html" class="nav-link">集合</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/09.多线程与并发.html" class="nav-link">多线程与并发</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/10.反射与内省.html" class="nav-link">反射与内省</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/11.泛型.html" class="nav-link">泛型</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/12.正则表达式.html" class="nav-link">正则表达式</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/13.枚举.html" class="nav-link">枚举</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/14.注解.html" class="nav-link">注解</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/15.GUI事件处理.html" class="nav-link">GUI事件处理</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/16.网络编程.html" class="nav-link">网络编程</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/17.JVM.html" class="nav-link">JVM</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/18.JUC.html" class="nav-link">JUC</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaWeb" class="dropdown-title"><!----> <span class="title" style="display:;">JavaWeb</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/02.JavaWeb/00.JavaWeb总结.html" class="nav-link">JavaWeb总结</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/01.Servlet.html" class="nav-link">Servlet</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/02.Web项目架构与数据库使用.html" class="nav-link">Web项目架构与数据库使用</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/03.Jsp与Listener.html" class="nav-link">Jsp与Listener</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/04.EL表达式与JSTL标签库.html" class="nav-link">EL表达式与JSTL标签库</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/05.文件的上传与下载.html" class="nav-link">文件的上传与下载</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/06.Web项目延伸完善.html" class="nav-link">Web项目延伸完善</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/07.cookie与session.html" class="nav-link">cookie与session</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/08.Filter与ThreadLocal.html" class="nav-link">Filter与ThreadLocal</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/09.i18n国际化.html" class="nav-link">i18n国际化</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/10.Web项目延伸完善(2).html" class="nav-link">Web项目延伸完善(2)</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring生态" class="dropdown-title"><!----> <span class="title" style="display:;">Spring生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/03.Spring生态/00.Spring.html" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/03.Spring生态/01.SpringMVC.html" class="nav-link">SpringMVC</a></li><li class="dropdown-item"><!----> <a href="/03.Spring生态/02.SpringBoot.html" class="nav-link">SpringBoot</a></li><li class="dropdown-item"><!----> <a href="/03.Spring生态/03.SpringCloud.html" class="nav-link">SpringCloud</a></li><li class="dropdown-item"><!----> <a href="/03.Spring生态/04.SpringSecurity.html" class="nav-link">SpringSecurity</a></li><li class="dropdown-item"><!----> <a href="/03.Spring生态/05.SpringSecurity与JWT.html" class="nav-link">SpringSecurity与JWT</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><!----> <span class="title" style="display:;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/04.前端/00.Html.html" class="nav-link">Html</a></li><li class="dropdown-item"><!----> <a href="/04.前端/01.Css.html" class="nav-link">Css</a></li><li class="dropdown-item"><!----> <a href="/04.前端/02.JavaScript.html" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/04.前端/03.jQuery.html" class="nav-link">jQuery</a></li><li class="dropdown-item"><!----> <a href="/04.前端/04.Vue1.md.html" class="nav-link">Vue1</a></li><li class="dropdown-item"><!----> <a href="/04.前端/04.Vue2.html" class="nav-link">Vue2</a></li><li class="dropdown-item"><!----> <a href="/04.前端/06.Vue2项目笔记.html" class="nav-link">Vue2项目笔记</a></li><li class="dropdown-item"><!----> <a href="/04.前端/07.Vue3项目笔记.html" class="nav-link">Vue3项目笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/05.数据库/00.MySQL.html" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/05.数据库/01.Redis.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/05.数据库/02.MyBatis.html" class="nav-link">MyBatis</a></li><li class="dropdown-item"><!----> <a href="/05.数据库/03.MyBatisPlus.html" class="nav-link">MyBatisPlus</a></li><li class="dropdown-item"><!----> <a href="/05.数据库/04.tkMapper.html" class="nav-link">tkMapper</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><!----> <span class="title" style="display:;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/06.工具/00.Linux.html" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/06.工具/01.Git.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/06.工具/02.Maven.html" class="nav-link">Maven</a></li><li class="dropdown-item"><!----> <a href="/06.工具/03.配置文件.html" class="nav-link">配置文件</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="组件" class="dropdown-title"><!----> <span class="title" style="display:;">组件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/07.组件/00.Json与XML.html" class="nav-link">Json与XML</a></li><li class="dropdown-item"><!----> <a href="/07.组件/01.Ajax.html" class="nav-link">Ajax</a></li><li class="dropdown-item"><!----> <a href="/07.组件/02.Log.html" class="nav-link">Log</a></li><li class="dropdown-item"><!----> <a href="/07.组件/03.Swagger.html" class="nav-link">Swagger</a></li><li class="dropdown-item"><!----> <a href="/07.组件/04.RabbitMQ.html" class="nav-link">RabbitMQ</a></li><li class="dropdown-item"><!----> <a href="/07.组件/05.ElasticSearch.html" class="nav-link">ElasticSearch</a></li><li class="dropdown-item"><!----> <a href="/07.组件/06.Gateway.html" class="nav-link">Gateway</a></li><li class="dropdown-item"><!----> <a href="/07.组件/07.分布式锁.html" class="nav-link">分布式锁</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><!----> <span class="title" style="display:;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/08.项目/00.云E办/00.云E办后端笔记.html" class="nav-link">云E办后端笔记</a></li><li class="dropdown-item"><!----> <a href="/08.项目/00.云E办/01.云E办前端笔记.html" class="nav-link">云E办前端笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><!----> <span class="title" style="display:;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/09.算法/00.算法入门.html" class="nav-link">算法入门</a></li><li class="dropdown-item"><!----> <a href="/09.算法/01.算法基础.html" class="nav-link">算法基础</a></li><li class="dropdown-item"><!----> <a href="/09.算法/02.排序算法.html" class="nav-link">排序算法</a></li><li class="dropdown-item"><!----> <a href="/09.算法/03.二分查找总结.html" class="nav-link">二分查找总结</a></li><li class="dropdown-item"><!----> <a href="/09.算法/04.全排列与子集.html" class="nav-link">全排列与子集</a></li><li class="dropdown-item"><!----> <a href="/09.算法/05.链表翻转.html" class="nav-link">链表翻转</a></li><li class="dropdown-item"><!----> <a href="/09.算法/06.Scanner在ACM模式下应用.html" class="nav-link">Scanner在ACM模式下应用</a></li><li class="dropdown-item"><!----> <a href="/09.算法/07.Utils工具类.html" class="nav-link">Utils工具类</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/ZHANGChang47/BlogVuePress" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://typora001-zc.oss-cn-chengdu.aliyuncs.com/typoraImg/personPhoto.webp"> <div class="blogger-info"><h3>百里登风</h3> <span>张弓折扇风雨历，畅叙平生快意!</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="散文随笔" class="dropdown-title"><!----> <span class="title" style="display:;">散文随笔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/00.散文随笔/00.沧桑百年史，爱国西交情.html" class="nav-link">沧桑百年史，爱国西交情</a></li><li class="dropdown-item"><!----> <a href="/00.散文随笔/01.静谧之眼.html" class="nav-link">静谧之眼</a></li><li class="dropdown-item"><!----> <a href="/00.散文随笔/02.承党恩泽，物阜民丰.html" class="nav-link">承党恩泽，物阜民丰</a></li><li class="dropdown-item"><!----> <a href="/00.散文随笔/03.历边海防学院记.html" class="nav-link">历边海防学院记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java基础" class="dropdown-title"><!----> <span class="title" style="display:;">Java基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/01.Java基础/00.Java基础总结.html" class="nav-link">Java基础总结</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/01.Java开发介绍.html" class="nav-link">Java开发介绍</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/02.Java基础编程.html" class="nav-link">Java基础编程</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/03.方法与数组.html" class="nav-link">方法与数组</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/04.面向对象.html" class="nav-link">面向对象</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/05.异常处理.html" class="nav-link">异常处理</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/06.常用类库API.html" class="nav-link">常用类库API</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/07.文件IO操作.html" class="nav-link">文件IO操作</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/08.集合.html" class="nav-link">集合</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/09.多线程与并发.html" class="nav-link">多线程与并发</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/10.反射与内省.html" class="nav-link">反射与内省</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/11.泛型.html" class="nav-link">泛型</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/12.正则表达式.html" class="nav-link">正则表达式</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/13.枚举.html" class="nav-link">枚举</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/14.注解.html" class="nav-link">注解</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/15.GUI事件处理.html" class="nav-link">GUI事件处理</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/16.网络编程.html" class="nav-link">网络编程</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/17.JVM.html" class="nav-link">JVM</a></li><li class="dropdown-item"><!----> <a href="/01.Java基础/18.JUC.html" class="nav-link">JUC</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaWeb" class="dropdown-title"><!----> <span class="title" style="display:;">JavaWeb</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/02.JavaWeb/00.JavaWeb总结.html" class="nav-link">JavaWeb总结</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/01.Servlet.html" class="nav-link">Servlet</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/02.Web项目架构与数据库使用.html" class="nav-link">Web项目架构与数据库使用</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/03.Jsp与Listener.html" class="nav-link">Jsp与Listener</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/04.EL表达式与JSTL标签库.html" class="nav-link">EL表达式与JSTL标签库</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/05.文件的上传与下载.html" class="nav-link">文件的上传与下载</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/06.Web项目延伸完善.html" class="nav-link">Web项目延伸完善</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/07.cookie与session.html" class="nav-link">cookie与session</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/08.Filter与ThreadLocal.html" class="nav-link">Filter与ThreadLocal</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/09.i18n国际化.html" class="nav-link">i18n国际化</a></li><li class="dropdown-item"><!----> <a href="/02.JavaWeb/10.Web项目延伸完善(2).html" class="nav-link">Web项目延伸完善(2)</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring生态" class="dropdown-title"><!----> <span class="title" style="display:;">Spring生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/03.Spring生态/00.Spring.html" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/03.Spring生态/01.SpringMVC.html" class="nav-link">SpringMVC</a></li><li class="dropdown-item"><!----> <a href="/03.Spring生态/02.SpringBoot.html" class="nav-link">SpringBoot</a></li><li class="dropdown-item"><!----> <a href="/03.Spring生态/03.SpringCloud.html" class="nav-link">SpringCloud</a></li><li class="dropdown-item"><!----> <a href="/03.Spring生态/04.SpringSecurity.html" class="nav-link">SpringSecurity</a></li><li class="dropdown-item"><!----> <a href="/03.Spring生态/05.SpringSecurity与JWT.html" class="nav-link">SpringSecurity与JWT</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><!----> <span class="title" style="display:;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/04.前端/00.Html.html" class="nav-link">Html</a></li><li class="dropdown-item"><!----> <a href="/04.前端/01.Css.html" class="nav-link">Css</a></li><li class="dropdown-item"><!----> <a href="/04.前端/02.JavaScript.html" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/04.前端/03.jQuery.html" class="nav-link">jQuery</a></li><li class="dropdown-item"><!----> <a href="/04.前端/04.Vue1.md.html" class="nav-link">Vue1</a></li><li class="dropdown-item"><!----> <a href="/04.前端/04.Vue2.html" class="nav-link">Vue2</a></li><li class="dropdown-item"><!----> <a href="/04.前端/06.Vue2项目笔记.html" class="nav-link">Vue2项目笔记</a></li><li class="dropdown-item"><!----> <a href="/04.前端/07.Vue3项目笔记.html" class="nav-link">Vue3项目笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><!----> <span class="title" style="display:;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/05.数据库/00.MySQL.html" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/05.数据库/01.Redis.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/05.数据库/02.MyBatis.html" class="nav-link">MyBatis</a></li><li class="dropdown-item"><!----> <a href="/05.数据库/03.MyBatisPlus.html" class="nav-link">MyBatisPlus</a></li><li class="dropdown-item"><!----> <a href="/05.数据库/04.tkMapper.html" class="nav-link">tkMapper</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><!----> <span class="title" style="display:;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/06.工具/00.Linux.html" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/06.工具/01.Git.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/06.工具/02.Maven.html" class="nav-link">Maven</a></li><li class="dropdown-item"><!----> <a href="/06.工具/03.配置文件.html" class="nav-link">配置文件</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="组件" class="dropdown-title"><!----> <span class="title" style="display:;">组件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/07.组件/00.Json与XML.html" class="nav-link">Json与XML</a></li><li class="dropdown-item"><!----> <a href="/07.组件/01.Ajax.html" class="nav-link">Ajax</a></li><li class="dropdown-item"><!----> <a href="/07.组件/02.Log.html" class="nav-link">Log</a></li><li class="dropdown-item"><!----> <a href="/07.组件/03.Swagger.html" class="nav-link">Swagger</a></li><li class="dropdown-item"><!----> <a href="/07.组件/04.RabbitMQ.html" class="nav-link">RabbitMQ</a></li><li class="dropdown-item"><!----> <a href="/07.组件/05.ElasticSearch.html" class="nav-link">ElasticSearch</a></li><li class="dropdown-item"><!----> <a href="/07.组件/06.Gateway.html" class="nav-link">Gateway</a></li><li class="dropdown-item"><!----> <a href="/07.组件/07.分布式锁.html" class="nav-link">分布式锁</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><!----> <span class="title" style="display:;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/08.项目/00.云E办/00.云E办后端笔记.html" class="nav-link">云E办后端笔记</a></li><li class="dropdown-item"><!----> <a href="/08.项目/00.云E办/01.云E办前端笔记.html" class="nav-link">云E办前端笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><!----> <span class="title" style="display:;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/09.算法/00.算法入门.html" class="nav-link">算法入门</a></li><li class="dropdown-item"><!----> <a href="/09.算法/01.算法基础.html" class="nav-link">算法基础</a></li><li class="dropdown-item"><!----> <a href="/09.算法/02.排序算法.html" class="nav-link">排序算法</a></li><li class="dropdown-item"><!----> <a href="/09.算法/03.二分查找总结.html" class="nav-link">二分查找总结</a></li><li class="dropdown-item"><!----> <a href="/09.算法/04.全排列与子集.html" class="nav-link">全排列与子集</a></li><li class="dropdown-item"><!----> <a href="/09.算法/05.链表翻转.html" class="nav-link">链表翻转</a></li><li class="dropdown-item"><!----> <a href="/09.算法/06.Scanner在ACM模式下应用.html" class="nav-link">Scanner在ACM模式下应用</a></li><li class="dropdown-item"><!----> <a href="/09.算法/07.Utils工具类.html" class="nav-link">Utils工具类</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/ZHANGChang47/BlogVuePress" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/74f538/" aria-current="page" class="active sidebar-link">Linux</a></li><li><a href="/pages/963caf/" class="sidebar-link">Git</a></li><li><a href="/pages/c63fab/" class="sidebar-link">Maven</a></li><li><a href="/pages/995716/" class="sidebar-link">配置文件</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1baff76c><div class="articleInfo" data-v-1baff76c><ul class="breadcrumbs" data-v-1baff76c><li data-v-1baff76c><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-1baff76c></a></li> <li data-v-1baff76c><a href="/categories/?category=%E5%B7%A5%E5%85%B7" title="分类" data-v-1baff76c>工具</a></li></ul> <div class="info" data-v-1baff76c><div title="作者" class="author iconfont icon-touxiang" data-v-1baff76c><a href="javascript:;" data-v-1baff76c>张畅</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1baff76c><a href="javascript:;" data-v-1baff76c>2023-02-03</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Linux<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="linux"><a href="#linux" class="header-anchor">#</a> Linux</h1> <h2 id="_1、系统文件结构"><a href="#_1、系统文件结构" class="header-anchor">#</a> 1、系统文件结构</h2> <p>Linux系统不同于Windows系统，在Linux系统中没有盘符，根路径用“/”表示</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ ~<span class="token punctuation">]</span><span class="token comment"># cd /</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ /<span class="token punctuation">]</span><span class="token comment"># ls</span>
bin  boot  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ /<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><table><thead><tr><th>目录</th> <th>说明</th></tr></thead> <tbody><tr><td>bin</td> <td>系统文件夹</td></tr> <tr><td>sbin</td> <td>超级管理员的系统命令</td></tr> <tr><td>boot</td> <td>系统所需目录（系统启动相关文件）</td></tr> <tr><td><code>etc</code></td> <td>存放系统配置相关文件（环境变量）</td></tr> <tr><td>lib/lib64</td> <td>library存放系统所需的依赖库</td></tr> <tr><td><code>home</code></td> <td>一般用户所在文件夹（此目录包含了所有普通用户的子目录）</td></tr> <tr><td><code>root</code></td> <td>超级管理员目录（root用户目录）</td></tr> <tr><td>media</td> <td>媒体（光驱）</td></tr> <tr><td>mnt</td> <td>挂载（U盘、移动硬盘）</td></tr> <tr><td>tmp、opt</td> <td>临时的文件存储目录，比如日志存储在tmp或opt中</td></tr> <tr><td><code>usr</code></td> <td>用户目录，我们通常安装的软件、用户的一些文件都在此目录下</td></tr> <tr><td>run、srv、sys、var、proc、dev</td> <td>系统相关目录</td></tr></tbody></table> <h2 id="_2、系统指令语法"><a href="#_2、系统指令语法" class="header-anchor">#</a> 2、系统指令语法</h2> <blockquote><p>指令 选项 参数</p> <ul><li><p>指令：决定了当前的操作</p></li> <li><p>选项：可有可无（对于有些指令，选项是必须的）</p> <ul><li>“-”表示短选项，一个字母代表一个选项</li> <li>“--”表示长选项，一个单词代表一个选项</li></ul></li> <li><p>参数：指令正常执行所需的数据</p></li></ul></blockquote> <blockquote><p>man指令（manual：说明书）</p> <ul><li>man 指令</li> <li>输入q退出说明书</li></ul></blockquote> <h2 id="_3、常用指令"><a href="#_3、常用指令" class="header-anchor">#</a> 3、常用指令</h2> <h3 id="_3-1、目录操作"><a href="#_3-1、目录操作" class="header-anchor">#</a> 3.1、目录操作</h3> <ul><li><p>进入文件夹及退出文件夹</p> <ul><li><p><code>cd</code> 目录名称		进入指定的目录（当我们输入目录的名称的时候，可以通过Tab自动补全）</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## 进入到Linux系统的根路径</span>
<span class="token builtin class-name">cd</span> /
<span class="token comment">##进入到当前用户的目录（如果是root用户则进入到/root，如果是其他用户则进入到/home/中的用户目录）</span>
<span class="token builtin class-name">cd</span> ~
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p><code>cd ..</code>    退出当前目录</p></li> <li><p><code>pwd</code> （print working directory）查看当前路径</p></li> <li><p>绝对路径与相对路径</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">##绝对路径，cd指令参数的路径如果是以 / 开头，表示从系统的根路径下去查找</span>
<span class="token builtin class-name">cd</span> /path
<span class="token comment">##相对路径，cd指令参数的路径如果没有 / 开头，则表示从当前目录去查找</span>
<span class="token builtin class-name">cd</span> path
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li> <li><p>显示当前目录下的文件列表</p> <ul><li><code>ls</code>				显示文件列表</li> <li><code>ls -a</code>      显示当前目录下所有文件列表（包括隐藏文件）</li> <li><code>ls -l</code>      显示当前目录下文件列表的详细信息</li> <li><code>ll</code>             显示文件列表详细信息</li></ul></li> <li><p>目录的创建和删除</p> <ul><li><code>mkdir 目录名</code>                      在当前目录下创建新的目录（创建一级目录）</li> <li><code>mkdir -p 目录A/目录B</code>     连同父级目录一起创建</li> <li><code>rm 目录</code>                                删除当前目录</li> <li><code>rmdir 目录</code>                         专门用来删除目录</li> <li><code>rm -rf 目录</code>                       强制递归删除目录
<ul><li>-r recursive  递归</li> <li>-f force         强制</li></ul></li></ul></li></ul> <h3 id="_3-2、文件操作"><a href="#_3-2、文件操作" class="header-anchor">#</a> 3.2、文件操作</h3> <ul><li><p>创建和修改文件</p> <ul><li><p><code>vi</code> （visual）文件编辑</p></li> <li><p><code>vim</code>  （visual improved）增强文件编辑</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 打开目标文件，如果此文件不存在，则表示先创建此文件再打开</span>
<span class="token function">vi</span> a.txt
<span class="token comment"># 使用“+”直接跳转行数</span>
<span class="token function">vim</span> +12 a.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>当文件打开之后，输入“i”/“a”进入到编辑状态</li> <li>当完成编辑后，输入“esc”退出编辑状态</li> <li>退出文件：
<ul><li>:q 如果未对文件进行任何修改——退出文件</li> <li>:q! 对文件内容进行了修改，但是不保存退出</li> <li>:wq 保存对文件的修改并退出</li></ul></li></ul></li></ul></li> <li><p>阅读文件</p> <ul><li><code>cat 文件名</code>       阅读文件内容，适合阅读小文件
<ul><li><code>cat -n 文件名</code> 		阅读文件时可以显示行号</li></ul></li> <li><code>more 文件名</code>     阅读文件，带有翻页（回车一次往下一行，不支持向上翻页）</li> <li><code>less 文件名</code>     阅读文件，适合阅读大文件；可以上下翻页（PgUp/PgDn），退出less阅读模式输入“q”
<ul><li>在less阅读模式下，输入“?查询内容”可以向上查询数据；输入“/查询内容”可以向下查询内容</li></ul></li></ul></li> <li><p>查询文件和查询内容</p> <ul><li><code>find 文件名</code>                在当前目录查找文件/目录</li> <li><code>find 文件名 目录</code>      在指定的目录中查找文件</li> <li><code>find -name 文件名</code>   在当前目录包括当前目录的子目录中查找文件</li> <li><code>grep -n 内容 文件</code>    在指定的文件中查找指定的内容</li></ul></li> <li><p>管道命令</p> <ul><li>管道命令：多个命令的组合</li> <li>特征：前面的命令必须有输出，后面的命令必须使用这个输出</li> <li>实例：<code>cat a.txt | grep hello | grep 23</code></li></ul></li> <li><p>删除文件</p> <ul><li><code>rm -rf 文件名</code></li></ul></li> <li><p>复制和移动</p> <ul><li><code>cp 文件 目录</code></li> <li><code>mv 文件 目录</code></li></ul></li></ul> <h3 id="_3-3、文件压缩和解压"><a href="#_3-3、文件压缩和解压" class="header-anchor">#</a> 3.3、文件压缩和解压</h3> <ul><li><p>windows系统下压缩文件通常是zip、rar等格式；Linux系统压缩文件通常是tar.gz</p></li> <li><p>tar指令 完成Linux系统的压缩与解压操作</p> <ul><li><p><code>tar -zcvf</code> 压缩</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#对test1目录进行压缩，压缩到test1.tar文件</span>
<span class="token function">tar</span> -zcvf test1.tar test1
<span class="token comment">#将test1和test2进行压缩，压缩到test.tar文件</span>
<span class="token function">tar</span> -zcvf test.tar test1 test2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p><code>tar -zxvf</code> 解压</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#解压指定的压缩文件</span>
<span class="token function">tar</span> -zxvf test.tar
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>选项说明：</p> <ul><li>z	用gzip工具进行压缩或者解压</li> <li>x   extract解压缩</li> <li>c   compress压缩</li> <li>v   verbose显示压缩/解压过程中详细信息</li> <li>f    file文件</li></ul></li></ul> <h3 id="_3-4、用户及权限管理"><a href="#_3-4、用户及权限管理" class="header-anchor">#</a> 3.4、用户及权限管理</h3> <blockquote><p>Linux系统支持多用户，并且采用用户组的形式管理多个用户（root用户就在root用户组）</p> <p>Linux中的用户管理，采用的用户组形式</p> <p>用户组								用户</p> <p>root									  root</p></blockquote> <blockquote><p>在Linux提供了比较严格的权限管理（用户对文件/目录的操作权限，root用户默认具有所有文件的操作权限）</p> <p>权限：读、写、可执行</p></blockquote> <ul><li>用户组
<ul><li><code>groupadd team1</code> 创建用户组</li> <li><code>groupdel team1</code>  删除用户组</li></ul></li> <li>用户
<ul><li><code>useradd -g 用户组 用户名</code>      创建新用户</li> <li><code>passwd 用户名</code>                             设置用户密码</li> <li><code>userdel 用户名</code>                           删除用户</li></ul></li> <li>切换用户
<ul><li><code>su 用户名</code>                   切换至其他普通用户</li> <li><code>su</code>                                切换至管理员（需要输入超级管理员密码）</li></ul></li> <li>权限管理
<ul><li><code>drwxr-xr-x</code> 说明：
<ul><li>第一个字符表示文件/目录，“d”表示目录，“-”表示文件</li> <li>r可读（4）、w可写（2）、x可执行（1）</li> <li>第一个rwx：表示当前文件的所有者拥有的权限</li> <li>第二个rwx：表示和文件所有者同组用户拥有的权限</li> <li>第三个rwx：表示不同组用户拥有的权限</li></ul></li> <li><code>chmod</code>  修改权限
<ul><li><code>chmod 775 文件名</code></li></ul></li></ul></li></ul> <h3 id="_3-5、系统与进程"><a href="#_3-5、系统与进程" class="header-anchor">#</a> 3.5、系统与进程</h3> <ul><li>查询进程
<ul><li><code>top</code></li> <li><code>lsof -i:port</code> 通过端口查询进程信息
<ul><li>如果此指令不可以使用，则需要通过<code>yum install -y lsof</code>安装指令</li> <li>CentOS6 Ubuntu没有此指令</li></ul></li> <li><code>netstat -apn | grep port</code> 通过端口查询进程信息（CentOS6）</li></ul></li> <li><code>ps -ef | grep java</code> 通过进程名查找进程</li> <li>强杀进程
<ul><li><code>kill -9 PID</code> 通过进程编号强杀进程</li></ul></li> <li>系统注销和重启
<ul><li><code>logout</code> 注销</li> <li><code>reboot</code> 重启</li></ul></li></ul> <h2 id="_4、软件管理相关的指令-wget、rpm、yum"><a href="#_4、软件管理相关的指令-wget、rpm、yum" class="header-anchor">#</a> 4、软件管理相关的指令（wget、rpm、yum）</h2> <h3 id="_4-1、wget指令"><a href="#_4-1、wget指令" class="header-anchor">#</a> 4.1、wget指令</h3> <blockquote><p>我们在linux中安装软件，首先要完成软件安装包的下载；获取linux系统中软件的安装包，我么有两种途径：</p> <ul><li>在windows中进行下载（百度搜索下载），然后将安装包上传到linux系统中</li> <li>直接在linux系统中，通过wget下载</li></ul></blockquote> <h4 id="_4-1-1、wget介绍"><a href="#_4-1-1、wget介绍" class="header-anchor">#</a> 4.1.1、wget介绍</h4> <ul><li>wget是linux系统中一个下载文件的工具，linux系统自带</li></ul> <h4 id="_4-1-2、wget使用"><a href="#_4-1-2、wget使用" class="header-anchor">#</a> 4.1.2、wget使用</h4> <ul><li>wget [option] url</li> <li>mysql下载：<code>wget http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm</code></li></ul> <h3 id="_4-2、rpm指令"><a href="#_4-2、rpm指令" class="header-anchor">#</a> 4.2、rpm指令</h3> <h4 id="_4-2-1、rpm介绍"><a href="#_4-2-1、rpm介绍" class="header-anchor">#</a> 4.2.1、rpm介绍</h4> <p>RPM（Rad-Hat Package Manager）是一款linux系统的软件包的管理器，可以完成linux系统中应用的安装、卸载</p> <h4 id="_4-2-2、rpm指令"><a href="#_4-2-2、rpm指令" class="header-anchor">#</a> 4.2.2、rpm指令</h4> <ul><li>查询：<code>rpm -qa | grep 关键字</code></li> <li>卸载：<code>rpm -e --nodeps 软件名称</code></li> <li>安装：<code>rpm -ivh 安装包.rpm</code> <ul><li>mysql安装：rpm -ivh mysql57-community-release-el7-10.noarch.rpm</li></ul></li> <li>更新：<code>rpm -Uvh 安装包.rpm</code></li></ul> <h3 id="_4-3、yum指令"><a href="#_4-3、yum指令" class="header-anchor">#</a> 4.3、yum指令</h3> <h4 id="_4-3-1、yum介绍"><a href="#_4-3-1、yum介绍" class="header-anchor">#</a> 4.3.1、yum介绍</h4> <blockquote><p>yum（全称：Yellow Dog Updater，Modified），基于RPM包管理，能够从指定的夫区其自动下载rpm并安装，可以自动处理依赖关系，一次安装所有的依赖软件，无需一个个的下载安装</p></blockquote> <h4 id="_4-3-2、yum指令"><a href="#_4-3-2、yum指令" class="header-anchor">#</a> 4.3.2、yum指令</h4> <ul><li><code>yum [-y] install http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm</code></li> <li><code>yum list</code> 列出系统中所有的包</li> <li><code>yum [-y] install rpm包</code> 下载并安装rpm包</li> <li><code>yum update rpm包</code></li> <li><code>yum remove rpm包</code></li></ul> <h2 id="_5、jdk安装-离线安装"><a href="#_5、jdk安装-离线安装" class="header-anchor">#</a> 5、JDK安装（离线安装）</h2> <h3 id="_5-1、下载jdk-linux版"><a href="#_5-1、下载jdk-linux版" class="header-anchor">#</a> 5.1、下载JDK（Linux版）</h3> <p>网盘/云盘（jdk.tar.gz）</p> <h3 id="_5-2、将下载的安装包上传到-usr-local目录"><a href="#_5-2、将下载的安装包上传到-usr-local目录" class="header-anchor">#</a> 5.2、将下载的安装包上传到/usr/local目录</h3> <p><img alt="image-20211224111500024" data-src="https://s2.loli.net/2021/12/24/O7xA5wBuUVzPiMg.png" loading="lazy" class="lazy"></p> <h3 id="_5-3、解压jdk安装包"><a href="#_5-3、解压jdk安装包" class="header-anchor">#</a> 5.3、解压JDK安装包</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">tar</span> -zxvf jdk-8u281-linux-x64.tar.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>得到一个<code>jdk1.8.0_281</code>的文件夹</p> <h3 id="_5-4、查看jdk工具"><a href="#_5-4、查看jdk工具" class="header-anchor">#</a> 5.4、查看JDK工具</h3> <p><img alt="image-20211224111843108" data-src="https://s2.loli.net/2021/12/24/zRJhsZk9AucUjYp.png" loading="lazy" class="lazy"></p> <h3 id="_5-5、配置环境变量"><a href="#_5-5、配置环境变量" class="header-anchor">#</a> 5.5、配置环境变量</h3> <ul><li><p>进入到/etc目录，找到profile文件</p></li> <li><p>编辑profile文件：vim profile</p> <ul><li><p>在profile文件最后配置以下内容</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/local/jdk1.8.0_281
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JRE_HOME</span><span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/jre
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>.:<span class="token variable">$JAVA_HOME</span>/lib:<span class="token variable">$JRE_HOME</span>/lib
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token environment constant">$PATH</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul></li></ul> <h3 id="_5-6、让配置生效"><a href="#_5-6、让配置生效" class="header-anchor">#</a> 5.6、让配置生效</h3> <p><code>source /etc/profile</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#让配置生效</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ etc<span class="token punctuation">]</span><span class="token comment"># source /etc/profile</span>
<span class="token comment">#显示jdk版本</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ etc<span class="token punctuation">]</span><span class="token comment"># java -version</span>
java version <span class="token string">&quot;1.8.0_281&quot;</span>
Java<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> SE Runtime Environment <span class="token punctuation">(</span>build <span class="token number">1.8</span>.0_281-b09<span class="token punctuation">)</span>
Java HotSpot<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> <span class="token number">64</span>-Bit Server VM <span class="token punctuation">(</span>build <span class="token number">25.281</span>-b09, mixed mode<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_6、tomcat安装"><a href="#_6、tomcat安装" class="header-anchor">#</a> 6、Tomcat安装</h2> <h3 id="_6-1、下载离线tar"><a href="#_6-1、下载离线tar" class="header-anchor">#</a> 6.1、下载离线tar</h3> <p>apache-tomcat-8.5.73.tar</p> <h3 id="_6-2、上传到linux"><a href="#_6-2、上传到linux" class="header-anchor">#</a> 6.2、上传到linux</h3> <p><img alt="image-20211224114617702" data-src="https://s2.loli.net/2021/12/24/hUiWnf1JYzetFgN.png" loading="lazy" class="lazy"></p> <h3 id="_6-3、解压tar文件v"><a href="#_6-3、解压tar文件v" class="header-anchor">#</a> 6.3、解压tar文件v</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">tar</span> -zxvf apache-tomcat-8.5.73.tar.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_6-4、启动tomcat"><a href="#_6-4、启动tomcat" class="header-anchor">#</a> 6.4、启动tomcat</h3> <p>进入bin文件夹下，并使用./startup.sh启动tomcat</p> <p><img alt="image-20211224115419217" data-src="https://s2.loli.net/2021/12/24/XoOgrJA52Mq9SZu.png" loading="lazy" class="lazy"></p> <p>开启后，访问地址<a href="http://8.130.18.255:8080/" target="_blank" rel="noopener noreferrer">8.130.18.255<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>即可看到</p> <p>如果想关闭tomcat，先用losf -i:8080 查看进程号，再使用kill -9 进程号关闭</p> <h2 id="_7、mysql安装-在线安装"><a href="#_7、mysql安装-在线安装" class="header-anchor">#</a> 7、MySQL安装（在线安装）</h2> <h3 id="_7-1、安装过程"><a href="#_7-1、安装过程" class="header-anchor">#</a> 7.1、安装过程</h3> <h4 id="_7-1-1、通过wget指令下载mysql的rpm文件"><a href="#_7-1-1、通过wget指令下载mysql的rpm文件" class="header-anchor">#</a> 7.1.1、通过wget指令下载mysql的rpm文件</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/usr/local
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># ls</span>
aegis                 apache-tomcat-8.5.73.tar.gz  etc    include       jdk-8u281-linux-x64.tar.gz  lib64    sbin   src
apache-tomcat-8.5.73  bin                          games  jdk1.8.0_281  lib                         libexec  share
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># wget http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img alt="image-20211224125031690" data-src="https://s2.loli.net/2021/12/24/7JjsHxUCGSQLXFw.png" loading="lazy" class="lazy"></p> <h4 id="_7-1-2、rpm安装mysql"><a href="#_7-1-2、rpm安装mysql" class="header-anchor">#</a> 7.1.2、rpm安装mysql</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql57-community-release-el7-10.noarch.rpm</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_7-1-3、通过yum安装mysql服务"><a href="#_7-1-3、通过yum安装mysql服务" class="header-anchor">#</a> 7.1.3、通过yum安装mysql服务</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># yum -y install mysql-community-server</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_7-1-4、加入开机启动"><a href="#_7-1-4、加入开机启动" class="header-anchor">#</a> 7.1.4、加入开机启动</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># systemctl enable mysqld</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_7-1-5、启动mysql服务"><a href="#_7-1-5、启动mysql服务" class="header-anchor">#</a> 7.1.5、启动MySQL服务</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># systemctl start mysqld</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># lsof -i:3306</span>
COMMAND   PID  <span class="token environment constant">USER</span>   FD   TYPE DEVICE SIZE/OFF NODE NAME
mysqld  <span class="token number">13083</span> mysql   21u  IPv6  <span class="token number">82453</span>      0t0  TCP *:mysql <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_7-1-6、停止与重启mysql服务"><a href="#_7-1-6、停止与重启mysql服务" class="header-anchor">#</a> 7.1.6、停止与重启MySQL服务</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># systemctl stop mysqld</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># systemctl restart mysqld</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_7-2、mysql基本使用"><a href="#_7-2、mysql基本使用" class="header-anchor">#</a> 7.2、MySQL基本使用</h3> <blockquote><p>MySQL安装完成后，会有一个默认账号，但是没有设置自定义密码（在安装的时候生成了默认初始密码，使用默认密码只能进行登录操作，登录进去后必须要修改初始密码才能正常使用数据库）</p></blockquote> <h4 id="_7-2-1、查找初始密码"><a href="#_7-2-1、查找初始密码" class="header-anchor">#</a> 7.2.1、查找初始密码</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">cat</span> /var/log/mysqld.log <span class="token operator">|</span> <span class="token function">grep</span> password
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_7-2-1、登录到mysqld"><a href="#_7-2-1、登录到mysqld" class="header-anchor">#</a> 7.2.1、登录到mysqld</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># mysql -uroot -p</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_7-2-3、修改密码"><a href="#_7-2-3、修改密码" class="header-anchor">#</a> 7.2.3、修改密码</h4> <p>设置密码的检查机制为LOW</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; set global validate_password_policy=LOW;
Query OK, 0 rows affected (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>修改密码</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; set password=password('mysql6610');
Query OK, 0 rows affected, 1 warning (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_7-2-4、授权远程登录"><a href="#_7-2-4、授权远程登录" class="header-anchor">#</a> 7.2.4、授权远程登录</h4> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>GRANT ALL PRIVILEGES on *.* to 'root'@'%' IDENTIFIED by 'mysql6610' WITH GRANT OPTION;
flush PRIVILEGES;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_8、部署运行"><a href="#_8、部署运行" class="header-anchor">#</a> 8、部署运行</h2> <h3 id="_8-1、后端部署"><a href="#_8-1、后端部署" class="header-anchor">#</a> 8.1、后端部署</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ ygmall<span class="token punctuation">]</span><span class="token comment"># java -jar api-2.0.1.jar</span>
<span class="token comment">#使用 ctrl+c 退出</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img alt="image-20211228101152760" data-src="https://s2.loli.net/2021/12/28/MTI8mQ4nU3zP1XW.png" loading="lazy" class="lazy"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ ygmall<span class="token punctuation">]</span><span class="token comment"># java -jar api-2.0.1.jar &amp;</span>
<span class="token comment">#使用 ctrl+c </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ ygmall<span class="token punctuation">]</span><span class="token comment"># nohup java -jar api-2.0.1.jar &amp;</span>
<span class="token comment">#nohup 意思是不挂断运行命令,当账户退出或终端关闭时,程序仍然运行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_8-2、前端部署"><a href="#_8-2、前端部署" class="header-anchor">#</a> 8.2、前端部署</h3> <blockquote><p>前端项目也需要部署在服务器上才能实现多用户访问</p></blockquote> <h4 id="_8-2-1、云主机安装服务器"><a href="#_8-2-1、云主机安装服务器" class="header-anchor">#</a> 8.2.1、云主机安装服务器</h4> <p>tomcat可以作为前端项目部署的服务器使用</p> <h4 id="_8-2-2、进入tomcat修改端口"><a href="#_8-2-2、进入tomcat修改端口" class="header-anchor">#</a> 8.2.2、进入tomcat修改端口</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ ygmall<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/apache-tomcat-8.5.73</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ apache-tomcat-8.5.73<span class="token punctuation">]</span><span class="token comment"># ls</span>
bin           conf             lib      logs    README.md      RUNNING.txt  webapps
BUILDING.txt  CONTRIBUTING.md  LICENSE  NOTICE  RELEASE-NOTES  temp         work
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ apache-tomcat-8.5.73<span class="token punctuation">]</span><span class="token comment"># cd conf/</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ conf<span class="token punctuation">]</span><span class="token comment"># ls</span>
Catalina         catalina.properties  jaspic-providers.xml  logging.properties  tomcat-users.xml  web.xml
catalina.policy  context.xml          jaspic-providers.xsd  server.xml          tomcat-users.xsd
<span class="token comment">#使用cat -n 查看所在的行数</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ conf<span class="token punctuation">]</span><span class="token comment"># cat -n server.xml | grep 8080</span>
    <span class="token number">67</span>           Define a non-SSL/TLS HTTP/1.1 Connector on port <span class="token number">8080</span>
    <span class="token number">69</span>      <span class="token operator">&lt;</span>Connector <span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token string">&quot;8080&quot;</span> <span class="token assign-left variable">protocol</span><span class="token operator">=</span><span class="token string">&quot;HTTP/1.1&quot;</span>
    <span class="token number">75</span>                 <span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token string">&quot;8080&quot;</span> <span class="token assign-left variable">protocol</span><span class="token operator">=</span><span class="token string">&quot;HTTP/1.1&quot;</span>
<span class="token comment">#使用vim + 打开指定行数    </span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ conf<span class="token punctuation">]</span><span class="token comment"># vim +69 server.xml</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><img alt="image-20211228104606277" data-src="https://s2.loli.net/2021/12/28/xO5rIyaAQjDMLgw.png" loading="lazy" class="lazy"></p> <p>将文件内部的端口8080修改为9999，并启动tomcat</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ conf<span class="token punctuation">]</span><span class="token comment"># cd ../bin</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ bin<span class="token punctuation">]</span><span class="token comment"># ls</span>
bootstrap.jar       ciphers.sh                    daemon.sh         shutdown.bat     tomcat-native.tar.gz
catalina.bat        commons-daemon.jar            digest.bat        shutdown.sh      tool-wrapper.bat
catalina.sh         commons-daemon-native.tar.gz  digest.sh         startup.bat      tool-wrapper.sh
catalina-tasks.xml  configtest.bat                setclasspath.bat  startup.sh       version.bat
ciphers.bat         configtest.sh                 setclasspath.sh   tomcat-juli.jar  version.sh
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ bin<span class="token punctuation">]</span><span class="token comment"># ./startup.sh</span>
Using CATALINA_BASE:   /usr/local/apache-tomcat-8.5.73
Using CATALINA_HOME:   /usr/local/apache-tomcat-8.5.73
Using CATALINA_TMPDIR: /usr/local/apache-tomcat-8.5.73/temp
Using JRE_HOME:        /usr/local/jdk1.8.0_281/jre
Using CLASSPATH:       /usr/local/apache-tomcat-8.5.73/bin/bootstrap.jar:/usr/local/apache-tomcat-8.5.73/bin/tomcat-juli.jar
Using CATALINA_OPTS:
Tomcat started.
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ bin<span class="token punctuation">]</span><span class="token comment"># lsof -i:8080</span>
COMMAND   PID <span class="token environment constant">USER</span>   FD   TYPE DEVICE SIZE/OFF NODE NAME
java    <span class="token number">21012</span> root   14u  IPv6 <span class="token number">227784</span>      0t0  TCP *:webcache <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ bin<span class="token punctuation">]</span><span class="token comment"># lsof -i:9999</span>
COMMAND   PID <span class="token environment constant">USER</span>   FD   TYPE DEVICE SIZE/OFF NODE NAME
java    <span class="token number">21069</span> root   56u  IPv6 <span class="token number">228612</span>      0t0  TCP *:distinct <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ bin<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="_8-2-3、将前端项目放置到webapps文件下重启运行"><a href="#_8-2-3、将前端项目放置到webapps文件下重启运行" class="header-anchor">#</a> 8.2.3、将前端项目放置到webapps文件下重启运行</h4> <p><img alt="image-20211228105319110" data-src="https://s2.loli.net/2021/12/28/4O5QwlJXZKFysPx.png" loading="lazy" class="lazy"></p> <h4 id="_8-2-4、修改云服务器端口-放行9999端口"><a href="#_8-2-4、修改云服务器端口-放行9999端口" class="header-anchor">#</a> 8.2.4、修改云服务器端口，放行9999端口</h4> <p>然后使用http://8.130.18.255:9999/ygmall-static(forLinux)/index.html地址访问</p> <p>注意需加项目名称</p> <p><img alt="image-20211228110008350" data-src="https://s2.loli.net/2021/12/28/oOkXv9DKet48w6a.png" loading="lazy" class="lazy"></p> <h4 id="_8-2-5、使用tomcat部署前端项目存在的问题"><a href="#_8-2-5、使用tomcat部署前端项目存在的问题" class="header-anchor">#</a> 8.2.5、使用tomcat部署前端项目存在的问题</h4> <blockquote><p>1、前端项目的一个页面会包含大量的css/js/图片，会有大量的并发请求，tomcat难以满足并发的需求</p> <p>2、tomcat的核心价值在于能够编译执行java代码，而不是处理并发，同时前端项目中没有java程序，从功能上讲前端项目的部署也用不到tomcat</p></blockquote> <h2 id="_9、nginx"><a href="#_9、nginx" class="header-anchor">#</a> 9、Nginx</h2> <h3 id="_9-1、nginx介绍"><a href="#_9-1、nginx介绍" class="header-anchor">#</a> 9.1、Nginx介绍</h3> <h4 id="_9-1-1、为什么使用nginx"><a href="#_9-1-1、为什么使用nginx" class="header-anchor">#</a> 9.1.1、为什么使用Nginx</h4> <ul><li><h4 id="静态资源访问"><a href="#静态资源访问" class="header-anchor">#</a> 静态资源访问</h4></li></ul> <blockquote><p>前端项目在进行服务器部署的时候，如果基于Tomcat不能满足并发的需求，因此我们需要一种能够处理更高并发的适用于静态资源的服务器</p></blockquote> <ul><li><h4 id="代理服务器实现负载均衡"><a href="#代理服务器实现负载均衡" class="header-anchor">#</a> 代理服务器实现负载均衡</h4> <p>将tomcat配置到nginx中，在nginx.conf中添加配置</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#声明服务器组</span>
upstream myservers<span class="token punctuation">{</span>
	server localhost:8082<span class="token punctuation">;</span>
	server localhost:8083<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>再在server中添加内容：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>location / <span class="token punctuation">{</span>
	proxy_pass http://myservers<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h4 id="_9-1-2、nginx介绍"><a href="#_9-1-2、nginx介绍" class="header-anchor">#</a> 9.1.2、Nginx介绍</h4> <blockquote><p><em>Nginx</em> (engine x) 是一个高性能的<a href="https://baike.baidu.com/item/HTTP" target="_blank" rel="noopener noreferrer">HTTP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://baike.baidu.com/item/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/7793488" target="_blank" rel="noopener noreferrer">反向代理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>web服务器，同时也提供了IMAP/POP3/SMTP服务</p> <ul><li>Nginx是基于HTTP协议的请求/响应（部署web项目）——静态资源服务器</li> <li>Nginx可以作为反向代理服务器 ——负载均衡服务器（代理服务器）</li></ul></blockquote> <p>Nginx特定：</p> <ul><li>稳定性极强，可以实现7*24不间断运行</li> <li>提供简洁、直观的配置</li> <li>占用内存很小、并发能力很强（5W+）</li></ul> <h3 id="_9-2、nginx下载安装及配置"><a href="#_9-2、nginx下载安装及配置" class="header-anchor">#</a> 9.2、Nginx下载安装及配置</h3> <h4 id="_9-2-1、windows环境"><a href="#_9-2-1、windows环境" class="header-anchor">#</a> 9.2.1、Windows环境</h4> <h5 id="_9-2-1-1、下载"><a href="#_9-2-1-1、下载" class="header-anchor">#</a> 9.2.1.1、下载</h5> <p>下载地址：<a href="http://nginx.org/en/download.html" target="_blank" rel="noopener noreferrer">nginx: download<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img alt="image-20211228114436244" data-src="https://s2.loli.net/2021/12/28/Juztwa19f6gBsqS.png" loading="lazy" class="lazy"></p> <h5 id="_9-2-1-2、解压到指定目录"><a href="#_9-2-1-2、解压到指定目录" class="header-anchor">#</a> 9.2.1.2、解压到指定目录</h5> <p>解压即可</p> <p><img alt="image-20211228114453439" data-src="https://s2.loli.net/2021/12/28/kDrMZ9fTIXcySzR.png" loading="lazy" class="lazy"></p> <h5 id="_9-2-1-3、运行及访问"><a href="#_9-2-1-3、运行及访问" class="header-anchor">#</a> 9.2.1.3、运行及访问</h5> <ul><li>执行根路径下的nginx.exe，在任务管理器中可以看到已经在运行</li></ul> <p><img alt="image-20211228114053645" data-src="https://s2.loli.net/2021/12/28/ox7D8rJnsXYiHVK.png" loading="lazy" class="lazy"></p> <ul><li><p>nginx的默认端口是80</p> <p>在本机的浏览器地址栏输入localhost，80端口号可以省略</p> <p><img alt="image-20211228114303900" data-src="https://s2.loli.net/2021/12/28/gy6sfBdeKWxNwAS.png" loading="lazy" class="lazy"></p></li></ul> <h4 id="_9-2-2、linux环境"><a href="#_9-2-2、linux环境" class="header-anchor">#</a> 9.2.2、Linux环境</h4> <h5 id="_9-2-2-1、安装编译工具-nginx安装之前需要编译"><a href="#_9-2-2-1、安装编译工具-nginx安装之前需要编译" class="header-anchor">#</a> 9.2.2.1、安装编译工具（nginx安装之前需要编译）</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># yum install -y gcc gcc-c++</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="_9-2-2-2、安装pcre"><a href="#_9-2-2-2、安装pcre" class="header-anchor">#</a> 9.2.2.2、安装PCRE</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#1、下载</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># wget http://downloads.sourceforge.net/project/pcre/pcre/8.35/pcre-8.35.tar.gz</span>
<span class="token comment">#2、安装</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># tar -zxvf pcre-8.35.tar.gz</span>
<span class="token comment">#3、进入pcre目录</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># cd pcre-8.35</span>
<span class="token comment">#4、配置</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ pcre-8.35<span class="token punctuation">]</span><span class="token comment"># ./configure</span>
<span class="token comment">#5、编译安装</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ pcre-8.35<span class="token punctuation">]</span><span class="token comment"># make &amp;&amp; make install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h5 id="_9-2-2-3、安装ssl库"><a href="#_9-2-2-3、安装ssl库" class="header-anchor">#</a> 9.2.2.3、安装SSL库</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ pcre-8.35<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># wget --no-check-certificate http://www.openssl.org/source/openssl-1.0.1j.tar.gz</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># tar -zxvf openssl-1.0.1j.tar.gz</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># cd openssl-1.0.1j</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ openssl-1.0.1j<span class="token punctuation">]</span><span class="token comment"># ./config</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ openssl-1.0.1j<span class="token punctuation">]</span><span class="token comment"># make &amp;&amp; make install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="_9-2-2-4、安装zlib库"><a href="#_9-2-2-4、安装zlib库" class="header-anchor">#</a> 9.2.2.4、安装zlib库</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ openssl-1.0.1j<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># wget http://zlib.net/zlib-1.2.11.tar.gz</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># tar -zxvf zlib-1.2.11.tar.gz</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># cd zlib-1.2.11</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ zlib-1.2.11<span class="token punctuation">]</span><span class="token comment"># ./configure</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ zlib-1.2.11<span class="token punctuation">]</span><span class="token comment"># make &amp;&amp; make install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="_9-2-2-5、安装nginx"><a href="#_9-2-2-5、安装nginx" class="header-anchor">#</a> 9.2.2.5、安装Nginx</h5> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ zlib-1.2.11<span class="token punctuation">]</span><span class="token comment"># cd /usr/local</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># wget http://nginx.org/download/nginx-1.16.1.tar.gz</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># tar -zxvf nginx-1.16.1.tar.gz</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># mkdir -p server/nginx</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ local<span class="token punctuation">]</span><span class="token comment"># cd nginx-1.16.1</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ nginx-1.16.1<span class="token punctuation">]</span><span class="token comment"># ./configure --prefix=/usr/local/server/nginx --with-http_stub_status_module --with-http_ssl_module --with-pcre=/usr/local/pcre-8.35</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ nginx-1.16.1<span class="token punctuation">]</span><span class="token comment"># make &amp;&amp; make install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#如果在配置过程中出现了以下错误：</span>
./configure: error: SSL modules require the OpenSSL library.
You can either <span class="token keyword">do</span> not <span class="token builtin class-name">enable</span> the modules, or <span class="token function">install</span> the OpenSSL library
into the system, or build the OpenSSL library statically from the <span class="token builtin class-name">source</span>
with nginx by using --with-openssl<span class="token operator">=</span><span class="token operator">&lt;</span>path<span class="token operator">&gt;</span> option.
<span class="token comment">#执行：</span>
yum -y <span class="token function">install</span> openssl openssl-devel
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>安装完毕后，云主机开放80端口，即可进入</p> <p>再进入conf文件夹进行配置</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ sbin<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/server/nginx/</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ nginx<span class="token punctuation">]</span><span class="token comment"># ls</span>
client_body_temp  conf  fastcgi_temp  html  logs  proxy_temp  sbin  scgi_temp  uwsgi_temp  ygmall-static<span class="token punctuation">(</span>forLinux<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ nginx<span class="token punctuation">]</span><span class="token comment"># cd conf/</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ conf<span class="token punctuation">]</span><span class="token comment"># ls</span>
fastcgi.conf          fastcgi_params.default  mime.types          nginx.conf.default   uwsgi_params
fastcgi.conf.default  koi-utf                 mime.types.default  scgi_params          uwsgi_params.default
fastcgi_params        koi-win                 nginx.conf          scgi_params.default  win-utf
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ conf<span class="token punctuation">]</span><span class="token comment"># cat -n nginx.conf | grep location</span>
    <span class="token number">43</span>          location / <span class="token punctuation">{</span>
    <span class="token number">53</span>          location <span class="token operator">=</span> /50x.html <span class="token punctuation">{</span>
    <span class="token number">59</span>          <span class="token comment">#location ~ \.php$ {</span>
    <span class="token number">65</span>          <span class="token comment">#location ~ \.php$ {</span>
    <span class="token number">76</span>          <span class="token comment">#location ~ /\.ht {</span>
    <span class="token number">89</span>      <span class="token comment">#    location / {</span>
   <span class="token number">111</span>      <span class="token comment">#    location / {</span>
<span class="token punctuation">[</span>root@iZ0jlddp8rf9uclhzchc2kZ conf<span class="token punctuation">]</span><span class="token comment"># vim +43 nginx.conf</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_9-3、nginx配置"><a href="#_9-3、nginx配置" class="header-anchor">#</a> 9.3、Nginx配置</h3> <p>配置文件说明：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>
<span class="token comment">#user  nobody;</span>
<span class="token comment">#配置处理器个数（应不大于cpu核心数）</span>
worker_processes  <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">#error_log  logs/error.log;</span>
<span class="token comment">#error_log  logs/error.log  notice;</span>
<span class="token comment">#配置nginx运行日志文件</span>
error_log  logs/error.log  info<span class="token punctuation">;</span>
<span class="token comment">#配置nginx进程号的存储文件</span>
pid        logs/nginx.pid<span class="token punctuation">;</span>
<span class="token comment">#配置nginx能够支持的连接个数，数值越大，并发能力越强</span>
events <span class="token punctuation">{</span>
    worker_connections  <span class="token number">1024</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
http <span class="token punctuation">{</span>
    include       mime.types<span class="token punctuation">;</span>
    default_type  application/octet-stream<span class="token punctuation">;</span>
    <span class="token comment">#log_format  main  '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '</span>
    <span class="token comment">#                  '$status $body_bytes_sent &quot;$http_referer&quot; '</span>
    <span class="token comment">#                  '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';</span>
    <span class="token comment">#access_log  logs/access.log  main;</span>
    sendfile        on<span class="token punctuation">;</span>
    <span class="token comment">#tcp_nopush     on;</span>
    <span class="token comment">#keepalive_timeout  0;</span>
   	<span class="token comment">#设置超时时间</span>
    keepalive_timeout  <span class="token number">65</span><span class="token punctuation">;</span>
    <span class="token comment">#gzip  on;</span>
    server <span class="token punctuation">{</span>
    	<span class="token comment">#配置nginx端口号</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        <span class="token comment">#配置nginx的访问地址</span>
        server_name  localhost<span class="token punctuation">;</span>
        <span class="token comment">#charset koi8-r;</span>
        <span class="token comment">#access_log  logs/host.access.log  main;</span>
		<span class="token comment">#地址映射</span>
        <span class="token comment">#location / {</span>
        <span class="token comment">#    root   html;</span>
        <span class="token comment">#    index  index.html index.htm;</span>
        <span class="token comment">#}</span>
        <span class="token comment">#根据项目自定义设置</span>
        location / <span class="token punctuation">{</span>
            root   ygmall-static<span class="token punctuation">;</span>
            index  index.html index.htm<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">#error_page  404              /404.html;</span>
        <span class="token comment"># redirect server error pages to the static page /50x.html</span>
        <span class="token comment">#</span>
        <span class="token comment">#指定错误页面</span>
        error_page   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  /50x.html<span class="token punctuation">;</span>
        location <span class="token operator">=</span> /50x.html <span class="token punctuation">{</span>
            root   html<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span>
        <span class="token comment">#</span>
        <span class="token comment">#location ~ \.php$ {</span>
        <span class="token comment">#    proxy_pass   http://127.0.0.1;</span>
        <span class="token comment">#}</span>
        <span class="token comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span>
        <span class="token comment">#</span>
        <span class="token comment">#location ~ \.php$ {</span>
        <span class="token comment">#    root           html;</span>
        <span class="token comment">#    fastcgi_pass   127.0.0.1:9000;</span>
        <span class="token comment">#    fastcgi_index  index.php;</span>
        <span class="token comment">#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span>
        <span class="token comment">#    include        fastcgi_params;</span>
        <span class="token comment">#}</span>
        <span class="token comment"># deny access to .htaccess files, if Apache's document root</span>
        <span class="token comment"># concurs with nginx's one</span>
        <span class="token comment">#</span>
        <span class="token comment">#location ~ /\.ht {</span>
        <span class="token comment">#    deny  all;</span>
        <span class="token comment">#}</span>
    <span class="token punctuation">}</span>
    <span class="token comment"># another virtual host using mix of IP-, name-, and port-based configuration</span>
    <span class="token comment">#</span>
    <span class="token comment">#server {</span>
    <span class="token comment">#    listen       8000;</span>
    <span class="token comment">#    listen       somename:8080;</span>
    <span class="token comment">#    server_name  somename  alias  another.alias;</span>
    <span class="token comment">#    location / {</span>
    <span class="token comment">#        root   html;</span>
    <span class="token comment">#        index  index.html index.htm;</span>
    <span class="token comment">#    }</span>
    <span class="token comment">#}</span>
    <span class="token comment"># HTTPS server</span>
    <span class="token comment">#</span>
    <span class="token comment">#server {</span>
    <span class="token comment">#    listen       443 ssl;</span>
    <span class="token comment">#    server_name  localhost;</span>
    <span class="token comment">#    ssl_certificate      cert.pem;</span>
    <span class="token comment">#    ssl_certificate_key  cert.key;</span>
    <span class="token comment">#    ssl_session_cache    shared:SSL:1m;</span>
    <span class="token comment">#    ssl_session_timeout  5m;</span>
    <span class="token comment">#    ssl_ciphers  HIGH:!aNULL:!MD5;</span>
    <span class="token comment">#    ssl_prefer_server_ciphers  on;</span>
    <span class="token comment">#    location / {</span>
    <span class="token comment">#        root   html;</span>
    <span class="token comment">#        index  index.html index.htm;</span>
    <span class="token comment">#    }</span>
    <span class="token comment">#}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br></div></div><p>修改完毕后，在任务管理器中关闭所有nginx的进程，多查找几次，然后重启</p> <h2 id="_10、项目日志管理"><a href="#_10、项目日志管理" class="header-anchor">#</a> 10、项目日志管理</h2> <h3 id="_10-1、日志框架的概念"><a href="#_10-1、日志框架的概念" class="header-anchor">#</a> 10.1、日志框架的概念</h3> <blockquote><p>在项目开发、运维过程中，为了能够清晰的知道项目在服务器中的运行过程，便于查找服务器运行过程中的异常原因，我们需要对系统运行过程进行记录——运行日志</p> <ol><li>我们可以使用 控制台输出 的形式进行运行过程记录（不便于日志信息跟踪和维护、不能持久化存储）</li> <li>控制台输出日志的诸多弊端催生了日志框架的诞生</li></ol></blockquote> <p><strong>日志框架</strong> 用于帮助我们在应用开发中完成日志记录的帮助类</p> <p><strong>日志框架作用</strong></p> <ol><li>有结构的记录日志信息（结构是为了提升日志信息的可读性）</li> <li>定义日志的输出策略（每个日志文件最大5m、每天一个日志文件）</li></ol> <h3 id="_10-2、日志框架规范"><a href="#_10-2、日志框架规范" class="header-anchor">#</a> 10.2、日志框架规范</h3> <blockquote><p>日志框架规范：日志记录实现的规则</p> <p>日志框架：实现日志记录</p></blockquote> <p><img alt="微信图片_20211228172409" data-src="https://s2.loli.net/2021/12/28/zQaHVc4uix6gGRC.jpg" loading="lazy" class="lazy"></p> <ul><li>日志接口（日志框架规范）
<ul><li>JCL（Jakata Commons Logging）</li> <li>SLF4J（Simple Logging Facade For Java）</li> <li>JBoss Logging</li></ul></li> <li>日志实现（日志框架）
<ul><li>Log4j</li> <li>Logback</li></ul></li></ul> <h3 id="_10-3、slf4j"><a href="#_10-3、slf4j" class="header-anchor">#</a> 10.3、SLF4J</h3> <ul><li><p>SLF4J（Simple Logging Facade For Java）简单日志门面，定义了一套日志规范，并不是日志解决方法</p></li> <li><p>SLF4J的实现</p></li></ul> <p><img alt="image-20211228175229964" data-src="https://s2.loli.net/2021/12/28/FaG52oWIQRtxJrq.png" loading="lazy" class="lazy"></p> <h3 id="_10-4、slf4j-simple"><a href="#_10-4、slf4j-simple" class="header-anchor">#</a> 10.4、slf4j-simple</h3> <ul><li><p>创建springboot项目</p></li> <li><p>添加依赖（如果不添加，springboot自带）</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-simple --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-simple<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.7.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>若使用上述依赖需要排除掉springboot中的依赖</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
        	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>ch.qos.logback<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>logback-classic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>创建对象</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">TestServiceImpl</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;订单添加完成&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h3 id="_10-5、log4j使用介绍"><a href="#_10-5、log4j使用介绍" class="header-anchor">#</a> 10.5、log4j使用介绍</h3> <blockquote><p>log4j没有实现slf4j，如果基于slf4j规范使用log4j，则需要添加slf4j-log4j12依赖</p></blockquote> <ul><li><p>添加依赖</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-log4j12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.7.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>在resources目录下创建log4j.properties文件</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token attr-name">log4j.rootLogger</span><span class="token punctuation">=</span><span class="token attr-value">DEBUG,stdout</span>
<span class="token comment"># MyBatis logging configuration</span>
<span class="token attr-name">log4j.logger.org.mybatis.example.BlogMapper</span><span class="token punctuation">=</span><span class="token attr-value">TRACE</span>
<span class="token comment"># Console output...</span>
<span class="token attr-name">log4j.appender.stdout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.ConsoleAppender</span>
<span class="token attr-name">log4j.appender.stdout.layout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.PatternLayout</span>
<span class="token attr-name">log4j.appender.stdout.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token attr-value">[%t] %5p - %n%m</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <h3 id="_10-6、基于springboot应用的logback日志配置"><a href="#_10-6、基于springboot应用的logback日志配置" class="header-anchor">#</a> 10.6、基于SpringBoot应用的logback日志配置</h3> <blockquote><p>SpringBoot默认整合了logback-classicri日志框架，我们需要配置这个logback框架以自定义日志输出格式、日志文件配置、日志文件保存策略等信息</p></blockquote> <p>创建一个**<code>logback-spring.xml</code>**文件</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stdout<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProfile</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dev<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd-HH:mm:ss E} %level [%thread]-%class[%line]: %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springProfile</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springProfile</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!dev<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd-HH:mm:ss E} %level [%thread]-%class[%line]: %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springProfile</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--日志的编码格式--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--这个就表示的是把日志输出到文件（FileAppender）--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.FileAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span><span class="token punctuation">&gt;</span></span>D:/log/output.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--设置日志是否追加--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>append</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>append</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
        	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd-HH:mm:ss:SSS} %level [%thread]-%class:%line&gt;&gt;%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--设置日志写入是否线程安全--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prudent</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prudent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>timeFile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--TimeBasedRollingPolicy  基于时间的滚动策略--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>d:/log/log-%d{yyyy-MM-dd-HH}.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd-HH:mm:ss.SSS} %level [%thread]-%class:%line&gt;&gt;%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--基于文件大小保存策略--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixedFile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span><span class="token punctuation">&gt;</span></span>d:/log/fixedFile.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.FixedWindowRollingPolicy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>log/fixedFile%i.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>minIndex</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>minIndex</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxIndex</span><span class="token punctuation">&gt;</span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxIndex</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--SizeBasedTriggeringPolicy--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>triggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">&gt;</span></span>5MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>triggeringPolicy</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd-HH:mm:ss.SSS} %level [%thread]-%class:%line&gt;&gt;%msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stdout<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>timeFile<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br></div></div><p>在service实现类中创建logger对象</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">Logger</span> logger<span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">OrderServiceImpl</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;add order begin...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>配置文件中的路径可以使用相对路径：</p> <p>去掉盘符会在根目录下生成</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>log/log-%d{yyyy-MM-dd-HH}.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_11、服务集群搭建"><a href="#_11、服务集群搭建" class="header-anchor">#</a> 11、服务集群搭建</h2> <h3 id="_11-1、为什么要做服务器集群搭建"><a href="#_11-1、为什么要做服务器集群搭建" class="header-anchor">#</a> 11.1、为什么要做服务器集群搭建？</h3> <p>服务器集群搭建介绍</p> <p><img alt="微信图片_20211231155235" data-src="https://s2.loli.net/2021/12/31/mxpY1uWJIv9Ng3E.jpg" loading="lazy" class="lazy"></p> <h3 id="_11-2、服务器集群搭建架构说明"><a href="#_11-2、服务器集群搭建架构说明" class="header-anchor">#</a> 11.2、服务器集群搭建架构说明</h3> <h4 id="_11-2-1、启动多个tomcat服务器"><a href="#_11-2-1、启动多个tomcat服务器" class="header-anchor">#</a> 11.2.1、启动多个tomcat服务器</h4> <blockquote><p>springboot应用只需要修改port —— 打包 ——运行</p></blockquote> <h4 id="_11-2-2、nginx代理配置"><a href="#_11-2-2、nginx代理配置" class="header-anchor">#</a> 11.2.2、Nginx代理配置</h4> <p>参考9.1</p> <h3 id="_11-3、负载均衡策略"><a href="#_11-3、负载均衡策略" class="header-anchor">#</a> 11.3、负载均衡策略</h3> <blockquote><p>前端/用户所有对tomcat（应用服务器）的请求都是通过Nginx转发的；</p> <p>用户请求发送到nginx，nginx转发到对应的服务器，一个集群中有多个服务器节点，那么nginx是怎么确定转发到哪个服务器节点呢？</p> <p>Nginx设置了对应的负载均衡策略，有4种内置的负载均衡策略，同时也支持配置第三方负载均衡策略</p></blockquote> <p>负载均衡策略：</p> <table><thead><tr><th>策略</th> <th>方式</th></tr></thead> <tbody><tr><td>轮询</td> <td>默认方式</td></tr> <tr><td>weight</td> <td>权重方式</td></tr> <tr><td>ip_hash</td> <td>依据ip分配方式</td></tr> <tr><td>least_conn</td> <td>最少连接方式</td></tr> <tr><td>fair（第三方）</td> <td>响应时间方式</td></tr> <tr><td>url_hash（第三方）</td> <td>依据URL分配方式</td></tr></tbody></table> <h4 id="_11-3-1、轮询"><a href="#_11-3-1、轮询" class="header-anchor">#</a> 11.3.1、轮询</h4> <blockquote><p>轮询：根据用户的请求交替的发送到每个服务器节点，是nginx默认的负载均衡策略</p></blockquote> <p>参数：</p> <ul><li>max_fails：设置在fail_timeout参数设置的时间内最大失败次数，如果在这个时间内，所有针对该服务器的请求都失败了，那么认为该服务器停机</li> <li>fail_timeout：与max_fails结合使用</li> <li>fail_time：服务器会被认为停机的时间长度，默认为10s</li> <li>backup：标记该服务器为备用服务器，当主服务器停止时，请求会被发送到它这里</li> <li>down：标记服务器永久停机了</li></ul> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token attr-name">upstream</span> <span class="token attr-value">myservers{</span>
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8081 max_fails=3 fail_timeout=20s fail_time=100s;</span>
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8082;</span>
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8083;</span>
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8084 backup;</span>
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8085 down;</span>
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_11-3-2、权重"><a href="#_11-3-2、权重" class="header-anchor">#</a> 11.3.2、权重</h4> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token attr-name">upstream</span> <span class="token attr-value">myservers{</span>
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8081 weight=1;</span>
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8082 weight=2;</span>
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8083 weight=1;</span>
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>权重方式，在轮询策略的基础上指定轮询的几率</li> <li>weight参数用于指定轮询的几率，weight的默认值为1，weight的数值与访问比率成正比</li> <li>权重越高分配到的处理越多</li> <li>此策略可以与least_conn和ip_hash结合使用</li> <li>此策略比较适合服务器的硬件配置差别比较大的情况</li></ul> <h4 id="_11-3-3、ip-hash"><a href="#_11-3-3、ip-hash" class="header-anchor">#</a> 11.3.3、ip_hash</h4> <ul><li>指定负载均衡服务器按照基于客户端IP的分配方式，这个方法确保了相同的客户端的请求一直发送到相同的服务器，以确保session会话，这样每个访客都固定访问一个后端服务器，可以解决session下不能跨服务器问题</li></ul> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token attr-name">upstream</span> <span class="token attr-value">myservers{</span>
	ip_hash		#保证每一个访客固定访问一个后端服务器
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8081 weight=1;</span>
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8082 weight=2;</span>
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8083 weight=1;</span>
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_11-3-4、least-conn"><a href="#_11-3-4、least-conn" class="header-anchor">#</a> 11.3.4、least_conn</h4> <ul><li>把请求转发给连接数较少的后端服务器，轮询算法是把请求平均的转发给各个后端，使他们的负载大致相同；但是，有些请求占用的时间比较长，会导致其所在的后端负载比较高，这种情况下，least_conn这种方式就可以达到更好的负载均衡效果。</li></ul> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token attr-name">upstream</span> <span class="token attr-value">myservers{</span>
	least_hash		#把请求转发给连接数较少的后端服务器
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8081 weight=1;</span>
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8082 weight=2;</span>
<span class="token attr-name">	server</span> <span class="token attr-value">localhost:8083 weight=1;</span>
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_12、docker部署"><a href="#_12、docker部署" class="header-anchor">#</a> 12、Docker部署</h2> <h3 id="_12-1、docker安装"><a href="#_12-1、docker安装" class="header-anchor">#</a> 12.1、Docker安装</h3> <p>安装必要工具</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>设置yum源*</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下载docker</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>yum <span class="token function">install</span> -y docker-ce
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>启动docker</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>systemctl start <span class="token function">docker</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_12-2、安装并连接mysql"><a href="#_12-2、安装并连接mysql" class="header-anchor">#</a> 12.2、安装并连接mysql</h3> <h4 id="_12-2-1、拉取镜像"><a href="#_12-2-1、拉取镜像" class="header-anchor">#</a> 12.2.1、拉取镜像</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> pull mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_12-2-2、制作容器"><a href="#_12-2-2、制作容器" class="header-anchor">#</a> 12.2.2、制作容器</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> run --name mysql -p <span class="token number">3306</span>:3306 -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>mysql -d mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>docker run：docker制作容器的命令</p> <p>--name：取别名</p> <p>-p：端口映射，容器端口映射到本机端口</p> <p>-e：设置mysql的密码</p> <p>-d：容器名称</p> <h4 id="_12-2-3、查看运行容器"><a href="#_12-2-3、查看运行容器" class="header-anchor">#</a> 12.2.3、查看运行容器</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> <span class="token function">ps</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img alt="image-20220119011525205" data-src="https://typora001-zc.oss-cn-chengdu.aliyuncs.com/typoraImg/image-20220119011525205.png" loading="lazy" class="lazy"></p> <h4 id="_12-2-4、测试连接"><a href="#_12-2-4、测试连接" class="header-anchor">#</a> 12.2.4、测试连接</h4> <blockquote><p>测试连接之前需要开启安全组</p></blockquote> <h4 id="_12-2-5、关闭容器"><a href="#_12-2-5、关闭容器" class="header-anchor">#</a> 12.2.5、关闭容器</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> stop mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_12-2-6、删除容器"><a href="#_12-2-6、删除容器" class="header-anchor">#</a> 12.2.6、删除容器</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> <span class="token function">rm</span> mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_12-2-7、重启docker时也要重启mysql"><a href="#_12-2-7、重启docker时也要重启mysql" class="header-anchor">#</a> 12.2.7、重启docker时也要重启Mysql</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> run --name mysql --restart<span class="token operator">=</span>always -p <span class="token number">3306</span>:3306 -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>mysql -d mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_12-3、安装redis"><a href="#_12-3、安装redis" class="header-anchor">#</a> 12.3、安装redis</h3> <h4 id="_12-3-1、拉取镜像"><a href="#_12-3-1、拉取镜像" class="header-anchor">#</a> 12.3.1、拉取镜像</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> pull redis
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_12-3-2、制作容器"><a href="#_12-3-2、制作容器" class="header-anchor">#</a> 12.3.2、制作容器</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> run --name redis --restart<span class="token operator">=</span>always -p <span class="token number">6379</span>:6379 -d redis --requirepass <span class="token string">&quot;redis&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_12-4、安装es"><a href="#_12-4、安装es" class="header-anchor">#</a> 12.4、安装es</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>如果需要安装kibana等其他，需要创建一个网络，名字任意取，让他们在同一个网络，是的es和kibana通信
<span class="token function">docker</span> network create esnet
<span class="token function">docker</span> pull elasticsearch:7.9.2
<span class="token function">docker</span> run --name elasticsearch -p <span class="token number">9200</span>:9200 -p <span class="token number">9300</span>:9300 --network esnet -e <span class="token string">&quot;discovery.type=single-node&quot;</span> elasticsearch:7.9.2
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it elasticsearch /bin/bash //进入elasticsearch容器
//设置跨域
<span class="token function">vim</span> config/elasticsearch.yml
//添加以下内容并保存
http.cors.enabled: <span class="token boolean">true</span>
http.cors.allow-origin: <span class="token string">&quot;*&quot;</span>
//安装ik分词器 版本对应
elasticsearch-plugin <span class="token function">install</span> https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.9.2/elasticsearch-analysis-ik-7.9.2.zip
//退出容器
<span class="token builtin class-name">exit</span>
//重启es
<span class="token function">docker</span> restart elasticsearch
<span class="token function">docker</span> pull mobz/elasticsearch-head:5
<span class="token function">docker</span> run -d --name elasticsearch-head --net esnet -p <span class="token number">9100</span>:9100 mobz/elasticsearch-head:5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_12-5、安装rabbitmq"><a href="#_12-5、安装rabbitmq" class="header-anchor">#</a> 12.5、安装rabbitmq</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> pull rabbitmq:management //下载RabbitMQ对象
<span class="token function">docker</span> run --name rabbit --restart<span class="token operator">=</span>always -p <span class="token number">15672</span>:15672 -p <span class="token number">5672</span>:5672 -d rabbitmq:management //启动RabbitMQ，默认guest用户，密码也是guest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_12-6、安装maxwell"><a href="#_12-6、安装maxwell" class="header-anchor">#</a> 12.6、安装maxwell</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> pull zendesk/maxwell //下载maxwell镜像
<span class="token function">docker</span> run --name maxwell --restart<span class="token operator">=</span>always -d zendesk/maxwell bin/maxwell --user<span class="token operator">=</span><span class="token string">'数据库用户名'</span> --password<span class="token operator">=</span><span class="token string">'数据库密码'</span> --host<span class="token operator">=</span><span class="token string">'IP地址'</span> --producer<span class="token operator">=</span>rabbitmq --rabbitmq_user<span class="token operator">=</span><span class="token string">'MQ用户名'</span> --rabbitmq_pass<span class="token operator">=</span><span class="token string">'MQ用户'</span> --rabbitmq_host<span class="token operator">=</span><span class="token string">'IP地址'</span> --rabbitmq_port<span class="token operator">=</span><span class="token string">'5672'</span> --rabbitmq_exchange<span class="token operator">=</span><span class="token string">'maxwell'</span> --rabbitmq_exchange_type<span class="token operator">=</span><span class="token string">'fanout'</span> --rabbitmq_exchange_durable<span class="token operator">=</span><span class="token string">'true'</span> --filter<span class="token operator">=</span><span class="token string">'exclude: *.*,include: blog.tb_article.article_title = *, include: blog.tb_article.article_content = *,include: blog.tb_article.status = *'</span> //运行MaxW
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/ZHANGChang47/BlogVuePress/edit/main/docs/06.工具/00.Linux.md" target="_blank" rel="noopener noreferrer">帮助我改善此页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023年2月4日</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/963caf/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Git</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/963caf/">Git</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/9b7514/"><div>
            沧桑百年史，爱国西交情
            <!----></div></a> <span class="date">02-04</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/d7b60a/"><div>
            承党恩泽，物阜民丰
            <!----></div></a> <span class="date">02-04</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/a0057c/"><div>
            静谧之眼
            <!----></div></a> <span class="date">02-04</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:2648492063@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/ZHANGChang47" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://typora001-zc.oss-cn-chengdu.aliyuncs.com/typoraImg/Snipaste_2023-02-03_22-33-33.webp" title="微信" target="_blank" class="iconfont icon-weixin"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2023
    <span>张畅 |<a href="https://beian.miit.gov.cn" target="_blank">陕ICP备2022001001号</a><br>	<img src="http://www.beian.gov.cn/img/new/gongan.png" border="0" /></a>	 		<a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41018302000331" style="display:inline-block;text-decoration:none;height:20px;line-height:20px;"><img src="" style="float:left;"/><p style="float:left;height:20px;line-height:20px;margin: 0px 0px 0px 5px;">冀公网安备 13112802000237号</p></a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><APlayer audio="" fixed="true" mini="true" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div></div><div></div><div></div><div id="tcomment"></div><!----></div></div>
    <script src="/assets/js/app.bb5e25c9.js" defer></script><script src="/assets/js/2.108e92a1.js" defer></script><script src="/assets/js/70.6ebb8af5.js" defer></script><script src="/assets/js/5.73b07204.js" defer></script><script src="/assets/js/13.9b1b1c77.js" defer></script><script src="/assets/js/14.e2f4930c.js" defer></script><script src="/assets/js/9.5b9b4ae3.js" defer></script><script src="/assets/js/10.68c0c324.js" defer></script>
  </body>
</html>
